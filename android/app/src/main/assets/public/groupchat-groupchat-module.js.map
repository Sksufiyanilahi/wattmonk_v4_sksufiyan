{"version":3,"sources":["./src/app/groupchat/groupchat.page.scss","./src/app/groupchat/groupchat.page.html","./src/app/groupchat/groupchat.module.ts","./src/app/groupchat/groupchat.page.ts","./src/app/groupchat/groupchat-routing.module.ts"],"names":[],"mappings":"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","file":"groupchat-groupchat-module.js","sourcesContent":["export default \".ion-color-mainColor {\\n  --ion-color-base: #2636be;\\n  --ion-color-base-rgb: 105,187,123;\\n  --ion-color-contrast: #ffffff;\\n  --ion-color-contrast-rgb: 255,255,255;\\n  --ion-color-shade: #2636be;\\n  --ion-color-tint: #2636be;\\n}\\n\\n.toolbar-background {\\n  background-color: blue;\\n}\\n\\n.groupList {\\n  width: 95%;\\n  min-height: -webkit-fill-available;\\n  margin-top: 32px;\\n  border-top-left-radius: 20px;\\n  background: #ffffff;\\n  border-top-right-radius: 20px;\\n  border: 1px solid black;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  padding-top: 5px;\\n  border-bottom-left-radius: 20px;\\n  border-bottom-right-radius: 20px;\\n}\\n\\n.loadButton button:focus {\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGdyb3VwY2hhdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLGlDQUFBO0VBQ0EsNkJBQUE7RUFDQSxxQ0FBQTtFQUNBLDBCQUFBO0VBQ0EseUJBQUE7QUFDSjs7QUFFRTtFQUNFLHNCQUFBO0FBQ0o7O0FBRUE7RUFDRSxVQUFBO0VBQ0Esa0NBQUE7RUFDQSxnQkFBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLCtCQUFBO0VBQ0EsZ0NBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRiIsImZpbGUiOiJncm91cGNoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmlvbi1jb2xvci1tYWluQ29sb3Ige1xyXG4gICAgLS1pb24tY29sb3ItYmFzZTogIzI2MzZiZTtcclxuICAgIC0taW9uLWNvbG9yLWJhc2UtcmdiOiAxMDUsMTg3LDEyMztcclxuICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0OiAjZmZmZmZmO1xyXG4gICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiAyNTUsMjU1LDI1NTtcclxuICAgIC0taW9uLWNvbG9yLXNoYWRlOiAjMjYzNmJlO1xyXG4gICAgLS1pb24tY29sb3ItdGludDogIzI2MzZiZTtcclxuICB9XHJcblxyXG4gIC50b29sYmFyLWJhY2tncm91bmR7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xyXG59XHJcblxyXG4uZ3JvdXBMaXN0e1xyXG4gIHdpZHRoOiA5NSU7XHJcbiAgbWluLWhlaWdodDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcclxuICBtYXJnaW4tdG9wOiAzMnB4O1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDIwcHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMjBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICBtYXJnaW4tbGVmdDogMTBweDtcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIHBhZGRpbmctdG9wOiA1cHg7XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjBweDtcclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMjBweDtcclxufVxyXG5cclxuLmxvYWRCdXR0b24gYnV0dG9uOmZvY3Vze1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn0iXX0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-button fill=\\\"clear\\\" size=\\\"small\\\" class=\\\"ion-no-padding\\\" (click)=\\\"goBack()\\\">\\r\\n              <ion-img src=\\\"/assets/images/back.svg\\\" class=\\\"action-icon\\\"></ion-img>\\r\\n          </ion-button>\\r\\n      </ion-buttons>\\r\\n     \\r\\n      <ion-title *ngIf=\\\"currentGroupData\\\">\\r\\n          <div class=\\\"Inline\\\"><img\\r\\n                  src=\\\"{{currentGroupData.avatar || 'https://i0.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?resize=256%2C256&quality=100&ssl=1' }}\\\"\\r\\n                  class=\\\"circular\\\"></div>\\r\\n          <div class=\\\"Inline\\\"><span style=\\\"padding:5px;\\\">{{currentGroupData.name}}</span></div>\\r\\n          <p style=\\\"margin: 0px; font-size: small; padding-bottom: 2px;\\\">{{currentTypingUserIndicator}}</p>\\r\\n      </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding #content [scrollEvents]=\\\"true\\\" (ionScrollStart)=\\\"logScrollStart()\\\"\\r\\n           (ionScroll)=\\\"logScrolling($event)\\\" (ionScrollEnd)=\\\"logScrollEnd()\\\">\\r\\n           <ion-list>\\r\\n            <div class=\\\"chat\\\" *ngFor=\\\"let message of groupMessages\\\">\\r\\n              <div [class]=\\\"message.sender.uid === loggedInUserData.uid ? 'message you' : 'message me'\\\"><span><b style=\\\"\\r\\n                font-size: 10px\\\">{{message.sender.name}}:</b></span><br>{{message.text}}</div>\\r\\n            </div> \\r\\n            </ion-list>\\r\\n</ion-content>\\r\\n<ion-footer no-border>\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"bar bar-footer bar-balanced chat-box-container\\\">\\r\\n          <ion-input class=\\\"chat-editor-box\\\" placeholder=\\\"Type Your Message Here..\\\" type=\\\"text\\\" [(ngModel)]=\\\"messageText\\\" (ionBlur)=\\\"checkBlur()\\\"\\r\\n          (ionFocus)=\\\"checkFocus()\\\" (ionInput)=\\\"checkInput()\\\"></ion-input>\\r\\n          <div class=\\\"btnSendChatView\\\">\\r\\n        <button item-right clear (click)='sendMessage()' class = \\\"btnSendChatView\\\">\\r\\n          <ion-icon name=\\\"send\\\" class=\\\"btnSendChat\\\"></ion-icon>\\r\\n        </button>\\r\\n        </div>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GroupchatPageRoutingModule } from './groupchat-routing.module';\r\n\r\nimport { GroupchatPage } from './groupchat.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GroupchatPageRoutingModule\r\n  ],\r\n  declarations: [GroupchatPage]\r\n})\r\nexport class GroupchatPageModule {}\r\n","import { Component, OnInit, ViewChild,Renderer2} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ModalController, NavController } from '@ionic/angular';\r\nimport { CometChat } from '@cometchat-pro/cordova-ionic-chat/CometChat';\r\nimport { Chooser } from '@ionic-native/chooser/ngx';\r\n// import { ImagePicker } from '@ionic-native/image-picker/ngx';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport BaseMessage = CometChat.BaseMessage;\r\nimport { UtilitiesService } from '../utilities.service';\r\nimport { Plugins } from '@capacitor/core';\r\nconst { Keyboard } = Plugins;\r\n\r\n// import { ImageViewerComponent } from './image-viewer/image-viewer.component';\r\n\r\n@Component({\r\n  selector: 'app-groupchat',\r\n  templateUrl: './groupchat.page.html',\r\n  styleUrls: ['./groupchat.page.scss'],\r\n})\r\nexport class GroupchatPage implements OnInit {\r\n  currentGroupData: any;\r\n  messagesRequest: any;\r\n  groupMessages: any;\r\n  currentTypingUserIndicator: any;\r\n  public messageText: string;\r\n  loggedInUserData: any;\r\n\r\n  @ViewChild('content',{static:false}) content: any;\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute, private renderer2: Renderer2,private navCtrl:NavController) { \r\n    const html = document.getElementsByTagName('html').item(0);\r\n    Keyboard.addListener('keyboardWillHide',()=>{\r\n      this.moveToBottom();\r\n    });\r\n\r\n    Keyboard.addListener('keyboardWillShow',()=>{\r\n      this.moveToBottom();\r\n    });\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n\r\n      console.log('params: ', params);\r\n\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        this.currentGroupData = this.router.getCurrentNavigation().extras.state.group;\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    const  limit = 30;\r\n    console.log('data of currentGroupData is ', this.currentGroupData);\r\n    const guid: string = this.currentGroupData['guid'];\r\n    console.log('guid ', guid);\r\n    this.messagesRequest = new CometChat.MessagesRequestBuilder().setLimit(limit).setGUID(this.currentGroupData.guid).build();\r\n    this.loadMessages();\r\n    this.addMessageEventListner();\r\n    this.addTypingListner();\r\n    this.currentTypingUserIndicator = '';\r\n    CometChat.getLoggedinUser().then(user => {\r\n      console.log('user is ', user);\r\n      this.loggedInUserData = user;\r\n    }, error => {\r\n      console.log('error getting details:', {error});\r\n    });\r\n  }\r\n\r\n  loadMessages() {\r\n\r\n    this.messagesRequest.fetchPrevious().then(\r\n      messages => {\r\n        console.log('Message list fetched:', messages);\r\n        // Handle the list of messages\r\n        this.groupMessages = messages;\r\n        // this.userMessages.prepend(messages);\r\n        console.log('groupMessages are ', this.groupMessages);\r\n        // this.content.scrollToBottom(1500);\r\n        this.moveToBottom();\r\n      },\r\n      error => {\r\n        console.log('Message fetching failed with error:', error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  loadPreviousMessages() {\r\n    this.messagesRequest.fetchPrevious().then(\r\n      messages => {\r\n        console.log('Message list fetched:', messages);\r\n        // Handle the list of messages\r\n        const newMessages = messages;\r\n        // this.userMessages = messages;\r\n        // this.userMessages.prepend(messages);\r\n\r\n        if (newMessages !== '') {\r\n          this.groupMessages = newMessages.concat(this.groupMessages);\r\n        }\r\n\r\n        console.log('UserMessages are ', this.groupMessages);\r\n        // this.content.scrollToBottom(1500);\r\n      },\r\n      error => {\r\n        console.log('Message fetching failed with error:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  moveToBottom() {\r\n    console.log('here moving to bottom');\r\n    this.content.scrollToBottom(2000);\r\n  }\r\n\r\n  logScrollStart() {\r\n    console.log('logScrollStart : When Scroll Starts');\r\n  }\r\n\r\n  logScrolling($event) {\r\n    console.log('logScrolling : When Scrolling ', $event.detail.scrollTop);\r\n    if ($event.detail.scrollTop === 0) {\r\n      console.log('scroll reached to top');\r\n      this.loadPreviousMessages();\r\n    }\r\n  }\r\n\r\n  logScrollEnd() {\r\n    console.log('logScrollEnd : When Scroll Ends');\r\n  }\r\n\r\n  addMessageEventListner() {\r\n\r\n    const listenerID = 'GroupMessage';\r\n\r\n      CometChat.addMessageListener(listenerID, new CometChat.MessageListener({\r\n      onTextMessageReceived: textMessage => {\r\n      console.log('Text message successfully', textMessage);\r\n      if (textMessage.receiverID !== this.loggedInUserData.uid) {\r\n        this.groupMessages.push(textMessage);\r\n        this.moveToBottom();\r\n      }\r\n\r\n        console.log('here uid ', textMessage.sender.uid);\r\n        console.log('logged userID ', this.loggedInUserData.uid);\r\n\r\n      // Handle text message\r\n      },\r\n      onMediaMessageReceived: mediaMessage => {\r\n      console.log('Media message received successfully',  mediaMessage);\r\n      // Handle media message\r\n      },\r\n      onCutomMessageReceived: customMessage => {\r\n      console.log('Media message received successfully',  customMessage);\r\n      // Handle media message\r\n      }\r\n\r\n    })\r\n    );\r\n\r\n  }\r\n\r\n  addTypingListner() {\r\n\r\n    const listenerId = 'GroupTypingListner';\r\n\r\n    CometChat.addMessageListener(listenerId, new CometChat.MessageListener({\r\n      onTypingStarted: (typingIndicator) => {\r\n        console.log('Typing started :', typingIndicator);\r\n        console.log('Typing uid :', typingIndicator.sender.uid);\r\n        if (typingIndicator.sender.uid !== this.loggedInUserData.uid) {\r\n          console.log('update the indicators');\r\n\r\n          const name = typingIndicator.sender.name + ' is typing...';\r\n          this.currentTypingUserIndicator = name;\r\n\r\n          // if (this.currentTypingUserIndicator != \"\") {\r\n          //   var name = typingIndicator.sender.name+\", \"+this.currentTypingUserIndicator;\r\n          //   this.currentTypingUserIndicator = name;\r\n          // }else{\r\n          //   var name = typingIndicator.sender.name+\" is typing...\";\r\n          //   this.currentTypingUserIndicator = name;\r\n          // }\r\n\r\n          // var name = typingIndicator.sender.name+\" is typing...\";\r\n          // this.currentTypingUserIndicator = name;\r\n        }\r\n\r\n      },\r\n      onTypingEnded: (typingIndicator) => {\r\n        console.log('Typing ended :', typingIndicator);\r\n        console.log('onTypingEnded uid :', typingIndicator.sender.uid);\r\n        if (typingIndicator.sender.uid !== this.loggedInUserData.uid) {\r\n          this.currentTypingUserIndicator = '';\r\n        }\r\n      }\r\n    }));\r\n\r\n  }\r\n\r\n  sendMessage() {\r\n\r\n    console.log('tapped on send Message ', this.messageText );\r\n    if (this.messageText !== '') {\r\n\r\n      const messageType = CometChat.MESSAGE_TYPE.TEXT;\r\n      const receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n\r\n      const textMessage = new CometChat.TextMessage(this.currentGroupData.guid, this.messageText, receiverType);\r\n\r\n      CometChat.sendMessage(textMessage).then(\r\n        message => {\r\n        console.log('Message sent successfully:', message);\r\n        // Text Message Sent Successfully\r\n        // this.groupMessages.push(message);\r\n        this.messageText = '';\r\n        // this.content.scrollToBottom(1500);\r\n        this.moveToBottom();\r\n        },\r\n      error => {\r\n        console.log('Message sending failed with error:', error);\r\n        }\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n  checkBlur() {\r\n    console.log('checkBlur called');\r\n    const receiverId = this.currentGroupData.guid;\r\n    const receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n\r\n    const typingNotification = new CometChat.TypingIndicator(receiverId, receiverType);\r\n    CometChat.endTyping(typingNotification);\r\n  }\r\n\r\n  checkFocus() {\r\n    console.log('checkFocus called');\r\n  }\r\n\r\n  checkInput() {\r\n    console.log('checkInput called');\r\n    const receiverId = this.currentGroupData.guid;\r\n    const receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n\r\n    const typingNotification = new CometChat.TypingIndicator(receiverId, receiverType);\r\n    CometChat.startTyping(typingNotification);\r\n  }\r\n\r\n\r\n  ionViewWillEnter(): void {\r\n    setTimeout(() => {\r\n      console.log('scrolled caled');\r\n      this.content.scrollToBottom(300);\r\n    }, 2000);\r\n  }\r\n\r\n  goBack(){\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GroupchatPage } from './groupchat.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GroupchatPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GroupchatPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}