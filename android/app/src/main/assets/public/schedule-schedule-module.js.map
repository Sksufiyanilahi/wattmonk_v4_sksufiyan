{"version":3,"sources":["./src/app/schedule/survey/survey.component.ts","./src/app/schedule/schedule.page.scss","./src/app/schedule/survey/survey.component.scss","./src/app/schedule/design/design.component.ts","./src/app/schedule/salesproposal/salesproposal.component.html","./src/app/schedule/salesproposal/salesproposal.component.scss","./src/app/schedule/design/design.component.scss","./src/app/schedule/schedule.module.ts","./src/app/schedule/schedule.page.ts","./src/app/schedule/schedule-routing.module.ts","./src/app/schedule/design/design.component.html","./src/app/schedule/number.directive.ts","./node_modules/@ionic-native/native-geocoder/__ivy_ngcc__/ngx/index.js","./src/app/schedule/salesproposal/salesproposal.component.ts","./src/app/schedule/survey/survey.component.html","./src/app/schedule/schedule.page.html"],"names":[],"mappings":"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","file":"schedule-schedule-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { AssigneeModel } from '../../model/assignee.model';\r\nimport { UtilitiesService } from '../../utilities.service';\r\nimport { ScheduleFormEvent, UserRoles, INVALID_EMAIL_MESSAGE, FIELD_REQUIRED, INVALID_NAME_MESSAGE, INVALID_PHONE_NUMBER } from '../../model/constants';\r\nimport { ApiService } from '../../api.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { StorageService } from '../../storage.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SurveyDataModel } from '../../model/survey.model';\r\nimport { ErrorModel } from 'src/app/model/error.model';\r\n\r\n@Component({\r\n  selector: 'app-survey',\r\n  templateUrl: './survey.component.html',\r\n  styleUrls: ['./survey.component.scss'],\r\n})\r\nexport class SurveyComponent implements OnInit, OnDestroy {\r\n\r\n  surveyForm: FormGroup;\r\n  listOfAssignees: AssigneeModel[] = [];\r\n  private subscription: Subscription;\r\n  private addressSubscription: Subscription;\r\n\r\n  nameError = INVALID_NAME_MESSAGE;\r\n  emailError = INVALID_EMAIL_MESSAGE;\r\n  phoneError = INVALID_PHONE_NUMBER;\r\n  fieldRequired = FIELD_REQUIRED;\r\n\r\n  surveyId = 0;\r\n  private survey: SurveyDataModel;\r\n  address: string;\r\n  userData: any;\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private navController: NavController,\r\n    private utilities: UtilitiesService,\r\n    private platform: Platform,\r\n    private apiService: ApiService,\r\n    private storage: StorageService,\r\n    private route: ActivatedRoute,\r\n    private router:Router\r\n  ) {\r\n\r\n    this.surveyId = +this.route.snapshot.paramMap.get('id');\r\n    const NAMEPATTERN = /^[a-zA-Z. ]{3,}$/;\r\n    const EMAILPATTERN =/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    const mydate:any =new Date().getTime();\r\n    this.surveyForm = this.formBuilder.group({\r\n      name: new FormControl('', [Validators.required, Validators.pattern(NAMEPATTERN)]),\r\n      email: new FormControl('', [Validators.pattern(EMAILPATTERN)]),\r\n      phonenumber: new FormControl('', [Validators.required,  Validators.minLength(8), Validators.maxLength(15), Validators.pattern('^[0-9]{8,15}$')]),\r\n      jobtype: new FormControl('', [Validators.required]),\r\n      surveydatetime: new FormControl(mydate),\r\n      datetime:new FormControl(''),\r\n      comments: new FormControl(''),\r\n      address: new FormControl('', [Validators.required]),\r\n      source: new FormControl('android', [Validators.required]),\r\n      assignedto: new FormControl(null),\r\n      createdby: new FormControl(this.storage.getUserID(), [Validators.required]),\r\n      latitude: new FormControl(''),\r\n      longitude: new FormControl(''),\r\n      country: new FormControl(''),\r\n      state: new FormControl(''),\r\n      city: new FormControl(''),\r\n      postalcode: new FormControl(''),\r\n      status: new FormControl('created'),\r\n      chatid:new FormControl(null)\r\n    });\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.userData =  this.storage.getUser();\r\n    // this.address= this.storage.getData();\r\n    this.subscription = this.utilities.getScheduleFormEvent().subscribe((event) => {\r\n      switch (event) {\r\n        case ScheduleFormEvent.SAVE_SURVEY_FORM:\r\n          this.saveSurvey();\r\n          break;\r\n        case ScheduleFormEvent.START_SURVEY:\r\n          this.startSurvey();\r\n          break;\r\n      }\r\n    });\r\n\r\n    if (this.surveyId !== 0) {\r\n      this.getSurveyDetails();\r\n    }\r\n    else {\r\n      this.addressSubscription = this.utilities.getAddressObservable().subscribe((address) => {\r\n         // this.surveyForm.get('address').setValue(\"sdck\");\r\n         // this.surveyForm.get('latitude').setValue('1111111');\r\n         // this.surveyForm.get('longitude').setValue('222222222');\r\n         // this.surveyForm.get('country').setValue('India');\r\n         // this.surveyForm.get('city').setValue('delhi');\r\n        // this.surveyForm.get('state').setValue('up');\r\n        //  this.surveyForm.get('postalcode').setValue(777777777);\r\n       this.surveyForm.get('address').setValue(address.address);\r\n       this.surveyForm.get('latitude').setValue(address.lat);\r\n        this.surveyForm.get('longitude').setValue(address.long);\r\n        this.surveyForm.get('country').setValue(address.country);\r\n        this.surveyForm.get('city').setValue(address.city);\r\n        this.surveyForm.get('state').setValue(address.state);\r\n        this.surveyForm.get('postalcode').setValue(address.postalcode);\r\n      }, (error) => {\r\n        this.surveyForm.get('address').setValue('');\r\n        this.surveyForm.get('latitude').setValue('');\r\n        this.surveyForm.get('longitude').setValue('');\r\n        this.surveyForm.get('country').setValue('');\r\n        this.surveyForm.get('city').setValue('');\r\n        this.surveyForm.get('state').setValue('');\r\n        this.surveyForm.get('postalcode').setValue('');\r\n      });\r\n    }\r\n\r\n    this.getAssignees();\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    if (this.surveyId === 0) {\r\n      this.addressSubscription.unsubscribe();\r\n    }\r\n    // this.utilities.getScheduleFormEvent().unsubscribe();\r\n  }\r\n\r\n  startSurvey() {\r\n    if (this.surveyForm.status === 'INVALID') {\r\n      this.showInvalidFormAlert();\r\n    } else {\r\n      this.utilities.showLoading('Saving Survey').then(() => {\r\n        this.surveyForm.get('status').setValue('surveyinprocess');\r\n        if (this.surveyId !== 0) {\r\n          this.surveyForm.get('chatid').setValue(this.survey.chatid);\r\n          this.apiService.updateSurveyForm(this.surveyForm.value, this.surveyId).subscribe(survey => {\r\n            this.utilities.hideLoading().then(() => {\r\n              this.utilities.setDesignDetailsRefresh(true);\r\n              this.navController.navigateForward('camera/' + survey.id + '/' + survey.jobtype + '/' + survey.city + '/' + survey.state + '/' + survey.latitude + '/' + survey.longitude);\r\n            });\r\n          },\r\n          responseError => {\r\n            this.utilities.hideLoading().then(() => {\r\n              const error :ErrorModel= responseError.error;\r\n              this.utilities.errorSnackBar(error.message);\r\n            });\r\n         //\r\n          });\r\n        } else {\r\n\r\n          // if starting survey directly, assign the survey to yourself\r\n          this.surveyForm.get('assignedto').setValue(this.storage.getUserID());\r\n          this.surveyForm.get('status').setValue('surveyinprocess');\r\n          console.log(this.surveyForm.value);\r\n          this.surveyForm.get('chatid').setValue('survey' + \"_\" + new Date().getTime());\r\n          this.apiService.saveSurvey(this.surveyForm.value).subscribe(survey => {\r\n            this.utilities.hideLoading().then(() => {\r\n              this.utilities.setDesignDetailsRefresh(true);\r\n              this.navController.navigateForward('camera/' + survey.id + '/' + survey.jobtype + '/' + survey.city + '/' + survey.state + '/' + survey.latitude + '/' + survey.longitude);\r\n            });\r\n          },\r\n          responseError => {\r\n            this.utilities.hideLoading().then(() => {\r\n              const error :ErrorModel= responseError.error;\r\n              this.utilities.errorSnackBar(error.message);\r\n            });\r\n         //\r\n          }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  saveSurvey() {\r\n    const invalid = [];\r\n    const controls = this.surveyForm.controls;\r\n    for (const name in controls) {\r\n        if (controls[name].invalid) {\r\n            invalid.push(name);\r\n        }\r\n\r\n      }\r\n      console.log(invalid);\r\n    if (this.surveyForm.status === 'INVALID') {\r\n      console.log(this.surveyForm.value);\r\n      if(this.surveyForm.value.name==''){\r\n        this.utilities.errorSnackBar('Please enter name.');\r\n      }\r\n      else if(this.surveyForm.value.phonenumber==''){\r\n        this.utilities.errorSnackBar('Please enter phone number.');\r\n      }\r\n      else if(this.surveyForm.value.jobtype==''){\r\n        this.utilities.errorSnackBar('Please enter job type.');\r\n      }\r\n      else {\r\n        this.utilities.errorSnackBar('Address not found. Make sure your location is on in device.');\r\n      }\r\n    } else {\r\n      this.utilities.showLoading('Saving Survey').then(() => {\r\n        this.surveyForm.get('datetime').setValue(this.utilities.formatDate(this.surveyForm.get('surveydatetime').value));\r\n        if (this.surveyId !== 0) {\r\n          this.surveyForm.get('chatid').setValue(this.survey.chatid);\r\n          this.apiService.updateSurveyForm(this.surveyForm.value, this.surveyId).subscribe(survey => {\r\n            this.utilities.hideLoading().then(() => {\r\n              this.utilities.showSnackBar('Survey has been updated');\r\n              this.utilities.setSurveyDetailsRefresh(true);\r\n              // this.navController.navigateRoot('homepage/survey');\r\n              this.navController.pop();\r\n            });\r\n          },\r\n          responseError => {\r\n            this.utilities.hideLoading().then(() => {\r\n              const error :ErrorModel= responseError.error;\r\n              this.utilities.errorSnackBar(error.message);\r\n            });\r\n         //\r\n          });\r\n\r\n        } else {\r\n          if (this.surveyForm.get('assignedto').value !== ''\r\n            && this.surveyForm.get('assignedto').value !== null\r\n            && this.surveyForm.get('assignedto').value !== undefined\r\n            && this.surveyForm.get('assignedto').value !== 0\r\n          ) {\r\n            this.surveyForm.get('status').setValue('surveyassigned');\r\n          }\r\n          console.log(this.surveyForm.value);\r\n          this.surveyForm.get('chatid').setValue('survey' + \"_\" + new Date().getTime());\r\n          this.apiService.saveSurvey(this.surveyForm.value).subscribe(survey => {\r\n            this.utilities.showSuccessModal('Survey have been saved').then((modal) => {\r\n              this.utilities.hideLoading();\r\n              // this.navController.pop();\r\n                modal.present();\r\n                modal.onWillDismiss().then((dismissed) => {\r\n                  this.utilities.sethomepageSurveyRefresh(true);\r\n                  this.navController.navigateRoot('homepage/survey');\r\n\r\n                });\r\n              // });\r\n            });\r\n\r\n          },\r\n          responseError => {\r\n            this.utilities.hideLoading().then(() => {\r\n              const error :ErrorModel= responseError.error;\r\n              this.utilities.errorSnackBar(error.message);\r\n            });\r\n         //\r\n          }\r\n          );\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  showInvalidFormAlert() {\r\n    let error = '';\r\n    Object.keys(this.surveyForm.controls).forEach((key: string) => {\r\n      const control: AbstractControl = this.surveyForm.get(key);\r\n      if (control.invalid) {\r\n        if (error !== '') {\r\n          error = error + '<br/>';\r\n        }\r\n        if (control.errors.required === true) {\r\n          error = error + this.utilities.capitalizeWord(key) + ' is required';\r\n        }\r\n        if (control.errors.email === true) {\r\n          error = error + 'Invalid email';\r\n        }\r\n        if (control.errors.error !== null && control.errors.error !== undefined) {\r\n          error = error + control.errors.error;\r\n        }\r\n      }\r\n    });\r\n    console.log(this.surveyForm.value);\r\n    this.utilities.showAlert(error);\r\n  }\r\n\r\n  getAssignees() {\r\n    this.apiService.getSurveyors().subscribe(assignees => {\r\n      this.listOfAssignees = [];\r\n      assignees.forEach(item => this.listOfAssignees.push(item));\r\n      console.log(this.listOfAssignees);\r\n    });\r\n  }\r\n\r\n  getSurveyDetails() {\r\n    this.utilities.showLoading('Getting Survey Details').then((success) => {\r\n      this.apiService.getSurveyDetail(this.surveyId).subscribe((result) => {\r\n        this.utilities.hideLoading().then(() => {\r\n          this.survey = result;\r\n\r\n          const date = new Date(this.survey.datetime);\r\n          this.surveyForm.patchValue({\r\n            name: this.survey.name,\r\n            email: this.survey.email,\r\n            jobtype: this.survey.jobtype,\r\n            phonenumber: this.survey.phonenumber,\r\n            surveydatetime: date.getTime(),\r\n            datetime:date,\r\n            comments:this.survey.comments=='' ?'': this.survey.comments[0].message,\r\n            address: this.survey.address,\r\n            source: this.survey.source,\r\n            createdby: this.survey.createdby.id,\r\n            latitude: this.survey.latitude,\r\n            longitude: this.survey.longitude,\r\n            country: this.survey.country,\r\n            state: this.survey.state,\r\n            city: this.survey.city,\r\n            postalcode:this.survey.postalcode,\r\n          });\r\n          if (this.survey.assignedto !== null && this.survey.assignedto !== undefined) {\r\n            this.surveyForm.patchValue({\r\n              assignedto: this.survey.assignedto.id,\r\n              status: 'surveyassigned'\r\n            });\r\n          }\r\n          this.utilities.setStaticAddress(this.survey.address);\r\n\r\n        });\r\n      }, (error) => {\r\n        this.utilities.hideLoading();\r\n      });\r\n    });\r\n  }\r\n\r\n  assignedTo(surveyData){\r\n\r\n    let postData = {\r\n      assignedto: this.userData.id,\r\n      status: \"surveyassigned\"\r\n    };\r\n    this.apiService.updateSurveyForm(postData,surveyData.id).subscribe(res=>{\r\n      console.log(res);\r\n      this.router.navigate(['/camera/' + surveyData.id + '/' + surveyData.jobtype + '/' + surveyData.city + '/' + surveyData.state + '/' + surveyData.latitude + '/' + surveyData.longitude]);\r\n    })\r\n\r\n\r\n  }\r\n}\r\n","export default \".segments {\\n  height: 40px;\\n}\\n\\nion-segment {\\n  --background: #EFEFEF;\\n}\\n\\nion-segment-button {\\n  --indicator-color: #3c78d8;\\n  --color-checked: white;\\n}\\n\\nhtml, body {\\n  background-color: white !important;\\n}\\n\\nion-app {\\n  --background: white !important;\\n}\\n\\nion-content {\\n  --background: white !important;\\n}\\n\\napp-ar ion-content {\\n  --background: white;\\n}\\n\\n.schedule-area-border {\\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3);\\n  border-top-left-radius: 2em;\\n  border-top-right-radius: 2em;\\n}\\n\\n.margin-top {\\n  margin-top: 16px;\\n}\\n\\n.edit_span {\\n  color: gray;\\n  pointer-events: none;\\n}\\n\\n.mrT {\\n  margin-top: -11px !important;\\n  font-size: 10px !important;\\n}\\n\\n.font_10 {\\n  font-size: 10px;\\n}\\n\\n.font_12 {\\n  font-size: small;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHNjaGVkdWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDSSxrQ0FBQTtBQUNKOztBQUVBO0VBQ0ksOEJBQUE7QUFDSjs7QUFFQTtFQUNJLDhCQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0UsMENBQUE7RUFDQSwyQkFBQTtFQUNBLDRCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLG9CQUFBO0FBQ0Y7O0FBTUE7RUFDRSw0QkFBQTtFQUE0QiwwQkFBQTtBQUY5Qjs7QUFLQTtFQUNFLGVBQUE7QUFGRjs7QUFLQTtFQUNFLGdCQUFBO0FBRkYiLCJmaWxlIjoic2NoZWR1bGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNlZ21lbnRzIHtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbmlvbi1zZWdtZW50IHtcclxuICAtLWJhY2tncm91bmQ6ICNFRkVGRUY7XHJcbn1cclxuXHJcbmlvbi1zZWdtZW50LWJ1dHRvbiB7XHJcbiAgLS1pbmRpY2F0b3ItY29sb3I6ICMzYzc4ZDg7XHJcbiAgLS1jb2xvci1jaGVja2VkOiB3aGl0ZTtcclxufVxyXG5cclxuaHRtbCwgYm9keSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5pb24tYXBwIHtcclxuICAgIC0tYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5hcHAtYXIgaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLnNjaGVkdWxlLWFyZWEtYm9yZGVyIHtcclxuICBib3gtc2hhZG93OiAwIDFweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMmVtO1xyXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyZW07XHJcbn1cclxuXHJcbi5tYXJnaW4tdG9wIHtcclxuICBtYXJnaW4tdG9wOiAxNnB4O1xyXG59XHJcblxyXG4uZWRpdF9zcGFue1xyXG4gIGNvbG9yOiBncmF5O1xyXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG59XHJcblxyXG4vLyAuYWRkcmVzcy10ZXh0IHtcclxuLy8gICBmb250LXNpemU6IDEuMmVtO1xyXG4vLyAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4vLyB9XHJcbi5tclR7XHJcbiAgbWFyZ2luLXRvcDotMTFweCAhaW1wb3J0YW50O2ZvbnQtc2l6ZTogMTBweCFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mb250XzEwe1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuLmZvbnRfMTJ7XHJcbiAgZm9udC1zaXplOnNtYWxsO1xyXG59XHJcbiJdfQ== */\";","export default \".error {\\n  color: #df3e3e;\\n  font-size: 11px;\\n}\\n\\nion-select {\\n  max-width: 100% !important;\\n  width: 100% !important;\\n  padding-left: 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxzdXJ2ZXkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsMEJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0FBQ0YiLCJmaWxlIjoic3VydmV5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yIHtcclxuICBjb2xvcjogcmdiKDIyMywgNjIsIDYyKTtcclxuICBmb250LXNpemU6IDExcHg7XHJcbn1cclxuXHJcbmlvbi1zZWxlY3R7XHJcbiAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICBwYWRkaW5nLWxlZnQ6IDBweCAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\";","import { ChangeDetectorRef, Component, ElementRef, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AssigneeModel } from 'src/app/model/assignee.model';\r\nimport { SolarMake } from 'src/app/model/solar-make.model';\r\nimport { ApiService } from 'src/app/api.service';\r\nimport { UtilitiesService } from 'src/app/utilities.service';\r\nimport { ErrorModel } from 'src/app/model/error.model';\r\nimport { SolarMadeModel } from 'src/app/model/solar-made.model';\r\nimport { InverterMakeModel } from 'src/app/model/inverter-make.model';\r\nimport { NavController, Platform, ToastController } from '@ionic/angular';\r\nimport { InverterMadeModel } from 'src/app/model/inverter-made.model';\r\nimport { ScheduleFormEvent, UserRoles, INVALID_EMAIL_MESSAGE, FIELD_REQUIRED,INVALID_NAME_MESSAGE, INVALID_ANNUAL_UNIT, INVALID_TILT_FOR_GROUND_MOUNT, INVALID_COMPANY_NAME, INVALID_ADDRESS } from '../../model/constants';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { StorageService } from '../../storage.service';\r\nimport { ActivatedRoute, Router, RoutesRecognized, NavigationEnd, NavigationExtras } from '@angular/router';\r\nimport {  DesginDataModel, DesignModel } from '../../model/design.model';\r\nimport { Camera, CameraOptions } from '@ionic-native/Camera/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\n\r\nimport { CometChat } from '@cometchat-pro/cordova-ionic-chat';\r\nimport { Clients } from 'src/app/model/clients.model';\r\nimport { map, startWith } from \"rxjs/operators\";\r\nimport { NativeGeocoder, NativeGeocoderOptions, NativeGeocoderResult } from '@ionic-native/native-geocoder/ngx';\r\nimport { AddressModel } from 'src/app/model/address.model';\r\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\nimport { GeolocationOptions, Geoposition, Geolocation } from '@ionic-native/geolocation/ngx';\r\n//import { AngularFireDatabase, AngularFireObject } from '@angular/fire/database';\r\n//import { AngularFirestore} from '@angular/fire/firestore';\r\n\r\n@Component({\r\n  selector: 'app-design',\r\n  templateUrl: './design.component.html',\r\n  styleUrls: ['./design.component.scss'],\r\n})\r\nexport class DesignComponent implements OnInit, OnDestroy {\r\n\r\n\r\n  desginForm: FormGroup;\r\n\r\n  listOfAssignees: AssigneeModel[] = [];\r\n\r\n  listOfSolarMake: SolarMake[] = [];\r\n  listOfSolarMade: SolarMadeModel[] = [];\r\n\r\n  listOfInverterMade: InverterMadeModel[] = [];\r\n  listOfInverterMake: InverterMakeModel[] = [];\r\n  attachmentData:any;\r\n  private subscription: Subscription;\r\n  private addressSubscription: Subscription;\r\n\r\n  getCompanies: Clients[] = [];\r\n  filteredCompanies: Observable<Clients[]>;\r\n  designCreatedBy;\r\n  designCreatedByUserParent;\r\n\r\n  emailError = INVALID_EMAIL_MESSAGE;\r\n  nameError = INVALID_NAME_MESSAGE;\r\n  annualunitError = INVALID_ANNUAL_UNIT;\r\n  tiltforgroundError = INVALID_TILT_FOR_GROUND_MOUNT;\r\n  companyError = INVALID_COMPANY_NAME;\r\n  addressError = INVALID_ADDRESS;\r\n\r\n  fieldRequired = FIELD_REQUIRED;\r\n\r\n  designId = 0;\r\n  design: DesginDataModel = null;\r\n  address: string;\r\n  showValue: any;\r\n  uploadbox: any;\r\n  archFiles: any =[];\r\n  prelimFiles: any =[];\r\n imageName:any;\r\n\r\n indexOfArcFiles=[]\r\n isArcFileDelete:boolean=false;\r\n  //attachmentName = this.desginForm.get('attachments').value;\r\n\r\n options: CameraOptions = {\r\n  quality: 30,\r\n  targetWidth:600,\r\n  targetHeight:300,\r\n  sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n  destinationType: this.camera.DestinationType.DATA_URL,\r\n  encodingType: this.camera.EncodingType.PNG,\r\n  mediaType: this.camera.MediaType.PICTURE\r\n}\r\n  fileName: any;\r\n  moduledata: any;\r\n  // solarmake:string='solarmake';\r\n  // solarmade:string='solarmade';\r\n  // invertermake:string='invertermake';\r\n  // invertermade:string='invertermade';\r\n  filterrecord: SolarMake[];\r\n  modulename: any;\r\n  solarmake: string;\r\n  solarmade: string;\r\n  invertermake: string;\r\n  invertermade: string;\r\n  onFormSubmit:boolean=true;\r\n  solarMakeDisposable: Subscription;\r\n  send:any;\r\n  value:number;\r\n  architecturalData:any;\r\n  fieldDisabled = false;\r\n  userdata:any;\r\n\r\n  attachmentFileUpload: boolean= false;\r\n\r\n  // newprelims: Observable<any>;\r\n  // newprelimsRef: AngularFireObject<any>;\r\n  // //newprelimsRef:any;\r\n  // newprelimscount = 0;\r\n\r\n  //for address\r\n  //user: User\r\n  isEditMode:boolean=false;\r\n  formatted_address:string;\r\n\r\n  GoogleAutocomplete: google.maps.places.AutocompleteService;\r\n  autocompleteItems: any[];\r\n  map: any;\r\n\r\n  geoEncoderOptions: NativeGeocoderOptions = {\r\n    useLocale: true,\r\n    maxResults: 5\r\n  };\r\n\r\n  geocoder = new google.maps.Geocoder();\r\n  autoCompleteOff:boolean = false;\r\n  isSelectSearchResult:boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private apiService: ApiService,\r\n    private utils: UtilitiesService,\r\n    private navController: NavController,\r\n    private storage: StorageService,\r\n    private route: ActivatedRoute,\r\n    private camera: Camera,\r\n    private file: File,\r\n    public router:Router,\r\n    private cdr:ChangeDetectorRef,\r\n    private zone: NgZone,\r\n    private nativeGeocoder: NativeGeocoder,\r\n    private diagnostic: Diagnostic,\r\n    private geolocation: Geolocation,\r\n    private platform: Platform,\r\n    private toastController: ToastController\r\n    //private db: AngularFireDatabase\r\n  ) {\r\n    var tomorrow=new Date();\r\n    tomorrow.setDate(tomorrow.getDate()+1);\r\n    var d_date=tomorrow.toISOString();\r\n    const EMAILPATTERN = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z]+(?:\\.[a-zA-Z]+)*$/;\r\n    const NAMEPATTERN = /^[a-zA-Z. ]{3,}$/;\r\n    const NUMBERPATTERN = '^[0-9]*$';\r\n    const COMPANYFORMAT = '[a-zA-Z0-9. ]{3,}';\r\n    this.desginForm = this.formBuilder.group({\r\n      companyname: new FormControl(''),\r\n      name: new FormControl('', [Validators.required, Validators.pattern(NAMEPATTERN)]),\r\n      email: new FormControl('', [Validators.required, Validators.pattern(EMAILPATTERN)]),\r\n      solarmake: new FormControl('', [Validators.required]),\r\n      solarmodel: new FormControl('', [Validators.required]),\r\n      invertermake: new FormControl('', [Validators.required]),\r\n      invertermodel: new FormControl('', [Validators.required]),\r\n      monthlybill: new FormControl('',[Validators.required,Validators.min(0),Validators.pattern(NUMBERPATTERN)]),\r\n      //address: new FormControl('',[Validators.required]),\r\n      address: new FormControl('',[Validators.required]),\r\n      createdby: new FormControl(''),\r\n      assignedto: new FormControl(''),\r\n      rooftype: new FormControl(''),\r\n      //prelimdesign: new FormControl(null),\r\n      architecturaldesign: new FormControl(''),\r\n      tiltofgroundmountingsystem: new FormControl(''),\r\n      mountingtype: new FormControl('', [Validators.required]),\r\n      // jobtype: new FormControl('', [Validators.required]),\r\n      projecttype: new FormControl('', [Validators.required]),\r\n      newconstruction: new FormControl(false),\r\n      source: new FormControl('android', [Validators.required]),\r\n      comments: new FormControl(''),\r\n      requesttype: new FormControl('prelim'),\r\n      latitude: new FormControl(null),\r\n      longitude: new FormControl(null),\r\n      country: new FormControl(''),\r\n      state: new FormControl(''),\r\n      city: new FormControl(''),\r\n      postalcode: new FormControl(null),\r\n      status: new FormControl('created'),\r\n      attachments: new FormControl([]),\r\n      deliverydate:new FormControl(d_date,[]),\r\n      outsourcedto:new FormControl(null),\r\n      isoutsourced:new FormControl('false'),\r\n      designacceptancestarttime:new FormControl(null),\r\n      creatorparentid:new FormControl(this.storage.getParentId()),\r\n      //isonpriority:new FormControl('false'),\r\n      paymentstatus:new FormControl(null),\r\n      paymenttype:new FormControl(null),\r\n      requirementtype : new FormControl('assessment')\r\n      // uploadbox:new FormControl('')\r\n    });\r\n\r\n    // this.newprelimsRef = db.object('newprelimdesigns');\r\n    // this.newprelims = this.newprelimsRef.valueChanges();\r\n    // this.newprelims.subscribe(\r\n    //   (res) => {\r\n    //     console.log(res);\r\n    //     this.newprelimscount = res.count;\r\n    //     cdr.detectChanges();\r\n    //   },\r\n    //   (err) => console.log(err),\r\n    //   () => console.log('done!')\r\n    // )\r\n     //this.newprelims = this.newprelimsRef.valueChanges();\r\n    // this.db.doc('newprelimdesigns').valueChanges().subscribe((res:any)=>{\r\n    //   this.newprelimscount = res;\r\n    //   console.log(this.newprelimscount)\r\n    // })\r\n    // this.newprelims.subscribe(\r\n    //   (res) => {\r\n    //     console.log(res);\r\n    //     this.newprelimscount = res.count;\r\n    //   },\r\n    //   (err) => console.log(err),\r\n    //   () => console.log('done!')\r\n    // )\r\n\r\n    this.designId = +this.route.snapshot.paramMap.get('id');\r\n    this.getAssignees();\r\n\r\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\r\n    this.autocompleteItems = [];\r\n\r\n  }\r\n\r\n  numberfield(event){\r\n    console.log(event);\r\n\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n  }\r\n\r\n  // getmodulename(event){\r\n\r\n  //     this.modulename= event;\r\n  //     console.log(this.modulename);\r\n\r\n  // }\r\n\r\n\r\n  // logScrolling(e){\r\n\r\n  // }\r\n\r\n  // record(){\r\n  //   this.filterrecord= this.listOfSolarMake.filter(x=>\r\n  // }\r\n\r\n  ngOnInit() {\r\n      this.fieldDisabled=false;\r\n      this.userdata = this.storage.getUser();\r\n    // this.utils.manualInput.subscribe(data=>{\r\n    //     if(this.modulename=='solarmake'){\r\n    //       this.solarmake=data;\r\n          // this.solarMakeDisposable.unsubscribe();\r\n          // this.desginForm.patchValue({\r\n          //   solarmake:data\r\n          // });\r\n          // this.solarMakeDisposable = this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n          //   this.getSolarMade();\r\n          // });\r\n\r\n        // }else if(this.modulename=='solarmade'){\r\n        // this.solarmade=data;\r\n        // }else if(this.modulename=='invertermake'){\r\n        //   this.invertermake = data;\r\n        // }else if(this.modulename=='invertermade'){\r\n        //   this.invertermade= data;\r\n        // }\r\n\r\n\r\n    // })\r\n    this.address= this.storage.getData();\r\n    this.subscription = this.utils.getScheduleFormEvent().subscribe((event) => {\r\n      if (event === ScheduleFormEvent.SAVE_DESIGN_FORM || event === ScheduleFormEvent.SEND_DESIGN_FORM) {\r\n        this.send=event;\r\n        this.addForm();\r\n\r\n      }\r\n      if(event===ScheduleFormEvent.PAY_EVENT){\r\n        this.sendtowattmonk();\r\n      }\r\n    });\r\n    this.gettingClients();\r\n\r\n    if (this.designId !== 0) {\r\n      setTimeout(()=>{\r\n        this.getDesignDetails();\r\n      },1000)\r\n\r\n    } else {\r\n      // if(this.onFormSubmit){\r\n        this.solarMakeDisposable = this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n          this.getSolarMade();\r\n        });\r\n        this.desginForm.get('invertermake').valueChanges.subscribe(val => {\r\n          this.getInverterMade();\r\n        });\r\n      // }\r\n      // this.addressSubscription = this.utils.getAddressObservable().subscribe((address) => {\r\n      //   // console.log(address,\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n\r\n      //    // this.desginForm.get('address').setValue('124/345');\r\n      //    // this.desginForm.get('latitude').setValue('24.553333');\r\n      //    // this.desginForm.get('longitude').setValue('80.5555555555');\r\n      //    // this.desginForm.get('country').setValue('india');\r\n      //    // this.desginForm.get('city').setValue('Lucknow');\r\n      //    // this.desginForm.get('state').setValue('UP');\r\n      //    // this.desginForm.get('postalcode').setValue(3232343);\r\n      //    this.desginForm.get('address').setValue(address.address);\r\n      //      this.desginForm.get('latitude').setValue(address.lat);\r\n      //      this.desginForm.get('longitude').setValue(address.long);\r\n      //      this.desginForm.get('country').setValue(address.country);\r\n      //    this.desginForm.get('city').setValue(address.city);\r\n      //      this.desginForm.get('state').setValue(address.state);\r\n      //      this.desginForm.get('postalcode').setValue(address.postalcode);\r\n      // }, (error) => {\r\n      //   this.desginForm.get('address').setValue('');\r\n      //   this.desginForm.get('latitude').setValue('');\r\n      //   this.desginForm.get('longitude').setValue('');\r\n      //   this.desginForm.get('country').setValue('');\r\n      //   this.desginForm.get('city').setValue('');\r\n      //   this.desginForm.get('state').setValue('');\r\n      //   this.desginForm.get('postalcode').setValue('');\r\n      // });\r\n      this.desginForm.patchValue({\r\n        createdby: this.storage.getUserID()\r\n      });\r\n      this.getSolarMake();\r\n\r\n\r\n    }\r\nthis.formControlValueChanged();\r\nthis.uploadcontrolvalidation();\r\n\r\n  }\r\n\r\nformControlValueChanged() {\r\n  const NUMBERPATTERN = '^[0-9]*$';\r\n  const tiltControl = this.desginForm.get('tiltofgroundmountingsystem');\r\n  const roofcontrol = this.desginForm.get('rooftype');\r\n  this.desginForm.get('mountingtype').valueChanges.subscribe(\r\n      (mode: string) => {\r\n          console.log(mode);\r\n          if (mode === 'ground') {\r\n              tiltControl.setValidators([Validators.required,Validators.pattern(NUMBERPATTERN)]);\r\n              roofcontrol.clearValidators();\r\n              roofcontrol.reset();\r\n          }else if(mode ==='both'){\r\n            tiltControl.setValidators([Validators.required,,Validators.min(0), Validators.pattern(NUMBERPATTERN)]);\r\n            roofcontrol.setValidators([Validators.required]);\r\n          }\r\n          else if (mode === 'roof') {\r\n            roofcontrol.setValidators([Validators.required]);\r\n              tiltControl.clearValidators();\r\n              tiltControl.reset();\r\n          }else{\r\n            tiltControl.clearValidators();\r\n            roofcontrol.clearValidators();\r\n          }\r\n          tiltControl.updateValueAndValidity();\r\n          roofcontrol.updateValueAndValidity();\r\n      });\r\n\r\n}\r\n\r\nuploadcontrolvalidation(){\r\n  const uploadboxcontrol= this.desginForm.get('architecturaldesign');\r\n    this.desginForm.get('newconstruction').valueChanges.subscribe(\r\n    (uploadmode:any)=>{\r\n      console.log(uploadmode);\r\n        if(uploadmode=='true'){\r\n          uploadboxcontrol.setValidators([Validators.required]);\r\n        }else if(uploadmode=='false'){\r\n          uploadboxcontrol.clearValidators();\r\n          uploadboxcontrol.reset();\r\n        }\r\n        uploadboxcontrol.updateValueAndValidity();\r\n  })\r\n}\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n    if (this.designId === 0) {\r\n      this.addressSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\ngetDesignDetails() {\r\n\r\n    this.utils.showLoading('Getting Design Details').then(() => {\r\n      this.apiService.getDesginDetail(this.designId).subscribe(async (result) => {\r\n        await this.utils.hideLoading().then(()=>{\r\n          this.design = result;\r\n          console.log(this.design);\r\n          this.fieldDisabled=true;\r\n       this.attachmentData=this.design.attachments;\r\n       this.architecturalData = this.design.architecturaldesign;\r\n          console.log(\"hello\",this.design.attachments);\r\n          this.desginForm.patchValue({\r\n            name: this.design.name,\r\n            email: this.design.email,\r\n            monthlybill: this.design.monthlybill,\r\n            address: this.design.address,\r\n            createdby: this.design.createdby,\r\n            rooftype: this.design.rooftype,\r\n            mountingtype:this.design.mountingtype,\r\n            architecturaldesign:this.design.architecturaldesign,\r\n            // jobtype: this.design.jobtype,\r\n            tiltofgroundmountingsystem: this.design.tiltofgroundmountingsystem,\r\n            comments: this.design.comments==''? '': this.design.comments[0].message,\r\n            projecttype: this.design.projecttype,\r\n            latitude: this.design.latitude,\r\n            longitude: this.design.longitude,\r\n            country: this.design.country,\r\n            state: this.design.state,\r\n            city: this.design.city,\r\n            postalcode:this.design.postalcode,\r\n            newconstruction: this.design.newconstruction + '',\r\n            prelimdesign:null,\r\n            //attachments:this.design.attachments,\r\n\r\n            attachments:this.design.attachments,\r\n            solarmake:this.design.solarmake,\r\n            solarmodel:this.design.solarmodel,\r\n            invertermake:this.design.invertermake,\r\n            invertermodel:this.design.invertermodel,\r\n            status:this.design.status\r\n          });\r\n          //console.log(\"attachments\",this.desginForm.get('attachments').value)\r\n          this.utils.setStaticAddress(this.design.address);\r\n        //  this.attachmentData=this.design.attachments.length==1 ? this.design.attachments[0].name + this.design.attachments[0].ext : this.design.attachments.length;\r\n          if (this.design.assignedto !== null && this.design.assignedto !== undefined) {\r\n            this.desginForm.patchValue({\r\n              assignedto: this.design.assignedto.id\r\n            });\r\n          }\r\n        setTimeout(()=>{\r\n          this.getSolarMakeForForm();\r\n          this.getInverterMakeForForm();\r\n        },500)\r\n        });\r\n\r\n      }, (error) => {\r\n        this.utils.hideLoading();\r\n      });\r\n    });\r\n  }\r\n\r\n  getSolarMakeForForm() {\r\n\r\n    this.apiService.getSolarMake().subscribe(response => {\r\n      this.listOfSolarMake = response;\r\n\r\n      this.apiService.getSolarMade(this.design.solarmake.id).subscribe(solarresponse => {\r\n        // this.utils.hideLoading().then(()=>{\r\n          this.listOfSolarMade = solarresponse;\r\n          console.log(solarresponse);\r\n          console.log('patching solar');\r\n          setTimeout(() => {\r\n            this.desginForm.patchValue({\r\n              solarmake: this.design.solarmake.id,\r\n              solarmodel: this.design.solarmodel.id\r\n            });\r\n            // if(this.onFormSubmit){\r\n              this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n                this.getSolarMade();\r\n              });\r\n            // }\r\n          }, 500);\r\n        // });\r\n      }, solarResponseError => {\r\n\r\n        const error: ErrorModel = solarResponseError.error;\r\n        if (error.message instanceof String) {\r\n          this.utils.errorSnackBar(error.message);\r\n        } else if (error.message instanceof Array) {\r\n          this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n        }\r\n      });\r\n\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      if (error.message instanceof String) {\r\n        this.utils.errorSnackBar(error.message);\r\n      } else if (error.message instanceof Array) {\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      }\r\n    });\r\n  }\r\n\r\n  getInverterMakeForForm() {\r\n    this.apiService.getInverterMake().subscribe(response => {\r\n      console.log(response);\r\n      this.listOfInverterMake = response;\r\n      this.apiService.getInverterMade(this.design.invertermake.id).subscribe(makeResponse => {\r\n        // this.utils.hideLoading();\r\n        console.log('patching inverter');\r\n        this.listOfInverterMade = makeResponse;\r\n\r\n        setTimeout(() => {\r\n          this.desginForm.patchValue({\r\n            invertermake: this.design.invertermake.id,\r\n            invertermodel: this.design.invertermodel.id\r\n          });\r\n          // if(this.onFormSubmit){\r\n            this.desginForm.get('invertermake').valueChanges.subscribe(val => {\r\n              this.getInverterMade();\r\n            });\r\n          // }\r\n        }, 500);\r\n\r\n\r\n      }, makeResponseError => {\r\n\r\n        const error: ErrorModel = makeResponseError.error;\r\n        if (error.message instanceof String) {\r\n          this.utils.errorSnackBar(error.message);\r\n        } else if (error.message instanceof Array) {\r\n          this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n        }\r\n      });\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      if (error.message instanceof String) {\r\n        this.utils.errorSnackBar(error.message);\r\n      } else if (error.message instanceof Array) {\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      }\r\n    });\r\n  }\r\n\r\n  saveModuleMake(){\r\n  const found= this.listOfSolarMake.some((el:any)=>\r\n    el.name=== this.solarmake\r\n);\r\n\r\n  console.log(found);\r\n\r\n    if(!found){\r\n      let solarmakedata={\r\n        name:this.solarmake\r\n      }\r\n      this.apiService.postSolarMake(solarmakedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          solarmake:response.id\r\n        })\r\n        this.saveModuleModel();\r\n      },err=>{\r\n        console.log(err,'err in savemodulemake');\r\n\r\n      })\r\n\r\n    }else{\r\n      this.saveModuleModel();\r\n    }\r\n  }\r\n\r\n  saveModuleModel(){\r\n    const ismakefound  =this.listOfSolarMake.some(el=>el.name===this.solarmake);\r\n    const found= this.listOfSolarMade.some((el:any)=>\r\n      el.name=== this.solarmade\r\n    );\r\n\r\n    if(!ismakefound || !found){\r\n      let solarmadedata={\r\n        solarmade:this.solarmade,\r\n        solarmake:this.desginForm.get('solarmake').value\r\n      }\r\n      console.log(solarmadedata);\r\n\r\n      this.apiService.postSolarMade(solarmadedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          solarmade:response.id\r\n\r\n        })\r\n        this.saveInvertermake();\r\n      })\r\n    }else{\r\n      this.saveInvertermake();\r\n    }\r\n  }\r\n\r\n  saveInvertermake(){\r\n    const found = this.listOfInverterMake.some(el=>el.name===this.invertermake);\r\n    if(!found){\r\n      let invertermakedata={\r\n        invertermake:this.invertermake\r\n      }\r\n      this.apiService.postInverterMake(invertermakedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          invertermake:response.id\r\n        })\r\n        this.saveInverterMade();\r\n      })\r\n    }else{\r\n      this.saveInverterMade();\r\n    }\r\n\r\n  }\r\n\r\n  saveInverterMade(){\r\n    const ismakefound= this.listOfInverterMake.some(el=>el.name===this.invertermake);\r\n    const found = this.listOfInverterMade.some(el=>el.name===this.invertermade)\r\n\r\n    if(!ismakefound || !found){\r\n      let invertermadedata={\r\n        invertermade:this.invertermade,\r\n        invertermake:this.desginForm.get('invertermake').value\r\n      }\r\n      console.log(invertermadedata);\r\n\r\n      this.apiService.postInverterMade(invertermadedata).subscribe((response:any)=>{\r\n          this.desginForm.patchValue({\r\n            invertermade:response.id\r\n          })\r\n          this.submitform();\r\n      })\r\n    }else{\r\n      this.submitform();\r\n    }\r\n\r\n  }\r\n\r\nremove(arc,i){\r\n//   this.utils.showLoading('Deleting Architecture Design').then((success)=>{\r\n//     this.apiService.deletePrelimImage(index).subscribe(res=>{console.log(\"hello\",res)\r\n//   this.utils.hideLoading().then(()=>{\r\n//     this.utils.showSnackBar('File deleted successfully');\r\n//     this.navController.navigateRoot([\"/schedule/design/\",{id:this.designId}]);\r\n//     //this.utils.setHomepageDesignRefresh(true);\r\n//   });\r\n//   },\r\n// (error)=>{\r\n//   this.utils.hideLoading().then(()=> {\r\n//     this.utils.errorSnackBar('some Error Occured');\r\n//   });\r\n\r\n// });\r\n// });\r\nconsole.log(arc);\r\nthis.indexOfArcFiles.push( arc.id);\r\n\r\nthis.isArcFileDelete=true;\r\nconsole.log(this.isArcFileDelete);\r\nconsole.log(this.indexOfArcFiles);\r\nconsole.log(this.architecturalData);\r\n\r\nthis.architecturalData.splice(i, 1);\r\n\r\n}\r\n\r\nremoveattachment(attachment,i){\r\n\r\n  this.indexOfArcFiles.push( attachment.id);\r\n\r\n  this.isArcFileDelete=true;\r\n  console.log(this.isArcFileDelete);\r\n  console.log(this.indexOfArcFiles);\r\n  console.log(this.attachmentData);\r\n  console.log(i);\r\n\r\n  this.attachmentData.splice(i, 1);\r\n}\r\n\r\ndeleteArcFile(index){\r\n\r\n\r\n  // this.utils.showLoading('Deleting Architecture Design').then((success)=>{\r\n     for(var i=0; i< index.length;i++){\r\n       var id = index[i];\r\n       this.apiService.deletePrelimImage(id).subscribe(res=>{console.log(\"hello\",res)\r\n\r\n   });\r\n\r\n // this.utils.hideLoading().then(()=>{\r\n //   //   this.utils.showSnackBar('File deleted successfully');\r\n //     // this.navController.navigateRoot([\"/permitschedule\",{id:this.designId}]);\r\n\r\n //    // this.utils.setPermitDesignDetailsRefresh(true);\r\n //  // });\r\n //   },\r\n (error)=>{\r\n   this.utils.hideLoading().then(()=> {\r\n     this.utils.errorSnackBar('some Error Occured');\r\n   });\r\n }}\r\n\r\n// });\r\n //this.utils.setHomepageDesignRefresh(true);\r\n\r\n\r\n\r\n\r\n}\r\n\r\n  addForm() {\r\n  this.onFormSubmit=false;\r\n  // this.saveModuleMake();\r\n   debugger;\r\n    console.log('Reach', this.desginForm);\r\n    // debugger;\r\n    // this.saveModuleMake();\r\n    // if(!this.isSelectSearchResult)\r\n    // {\r\n    //   this.desginForm.get('latitude').setValue(null);\r\n    //   this.desginForm.get('longitude').setValue(null);\r\n    //   this.desginForm.get('postalcode').setValue(null);\r\n    // }\r\n    this.submitform();\r\n\r\n  }\r\n\r\n  submitform(){\r\n    if (this.desginForm.status === 'VALID') {\r\n      var newConstruction = this.desginForm.get(\"newconstruction\").value;\r\n        if (this.designId === 0) {\r\n\r\n          if(this.send===ScheduleFormEvent.SAVE_DESIGN_FORM){\r\n            debugger;\r\n            this.utils.showLoading('Saving').then(() => {\r\n            this.apiService.addDesginForm(this.desginForm.value).subscribe((response) => {\r\n              // this.uploaarchitecturedesign(response.id,'architecturaldesign');\r\n              // this.uploadpreliumdesign(response.id,'attachments')\r\n              this.utils.hideLoading().then(()=>{\r\n              if(newConstruction=='true'){\r\n                // if(this.architecturalFileUpload){\r\n                   this.uploaarchitecturedesign(response,'architecturaldesign');\r\n                // }\r\n               }\r\n               else{\r\n                 if(this.attachmentFileUpload){\r\n                   this.uploadpreliumdesign(response,'attachments')\r\n                 }\r\n                 else{\r\n                  this.router.navigate(['/homepage/design'])\r\n                  // this.utils.showSnackBar('Design have been saved');\r\n                  this.utils.setHomepageDesignRefresh(true);\r\n                 }\r\n               }\r\n              // this.utils.hideLoading().then(() => {\r\n              //   console.log('Res', response);\r\n              //   this.createChatGroup(response);\r\n              //   this.router.navigate(['/homepage/design'])\r\n              //   // this.utils.showSnackBar('Design have been saved');\r\n              //   this.utils.setHomepageDesignRefresh(true);\r\n              //   // this.navController.pop();\r\n              //   // this.utils.showSuccessModal('Desgin have been saved').then((modal) => {\r\n              //   //   modal.present();\r\n              //   //   modal.onWillDismiss().then((dismissed) => {\r\n              //       // this.utils.setHomepageDesignRefresh(true);\r\n              //   //     this.navController.pop();\r\n              //   //   });\r\n              //   // });\r\n\r\n               });\r\n            }, responseError => {\r\n              this.utils.hideLoading();\r\n                const error: ErrorModel = responseError.error;\r\n                this.utils.errorSnackBar(error.message);\r\n              });\r\n            });\r\n            }\r\n            else if(this.send===ScheduleFormEvent.SEND_DESIGN_FORM){\r\n              this.apiService.addDesginForm(this.desginForm.value).subscribe((response) => {\r\n                console.log(response.id);\r\n                this.utils.hideLoading().then(()=>{\r\n                if(newConstruction == 'true')\r\n                {\r\n               this.uploaarchitecturedesign(response,'architecturaldesign');\r\n                }\r\n                else{\r\n                  if(this.attachmentFileUpload){\r\n                    this.uploadpreliumdesign(response,'attachments')\r\n                  }\r\n                  else{\r\n                    let objToSend: NavigationExtras = {\r\n                              queryParams: {\r\n                                id:response.id,\r\n                                designData:\"prelim\",\r\n                                fulldesigndata:response,\r\n                                designType:\"siteassesment\"\r\n                              },\r\n                              skipLocationChange: false,\r\n                              fragment: 'top'\r\n                          };\r\n\r\n\r\n                      this.router.navigate(['/payment-modal'], {\r\n                        state: { productdetails: objToSend }\r\n                      });\r\n                  }\r\n                }\r\n              })\r\n              }\r\n            , responseError => {\r\n                this.utils.hideLoading();\r\n                  const error: ErrorModel = responseError.error;\r\n                  this.utils.errorSnackBar(error.message);\r\n                });\r\n              }\r\n\r\n\r\n        } else {\r\n          if(this.send===ScheduleFormEvent.SAVE_DESIGN_FORM){\r\n            this.utils.showLoading('Saving').then(() => {\r\n          this.apiService.updateDesignForm(this.desginForm.value, this.designId).subscribe(response => {\r\n            this.utils.hideLoading().then(()=>{\r\n            if(newConstruction=='true')\r\n            {\r\n            this.uploaarchitecturedesign(response,'architecturaldesign');\r\n            }\r\n            else{\r\n              if(this.attachmentFileUpload){\r\n            this.uploadpreliumdesign(response,'attachments')\r\n              }\r\n              else{\r\n                this.utils.showSnackBar('Design have been updated');\r\n                this.utils.setDesignDetailsRefresh(true);\r\n                this.navController.pop();\r\n              }\r\n            }\r\n            if(this.isArcFileDelete){\r\n              this.deleteArcFile(this.indexOfArcFiles);\r\n            }\r\n\r\n              });\r\n          },\r\n           responseError => {\r\n            this.utils.hideLoading().then(() => {\r\n              const error: ErrorModel = responseError.error;\r\n              this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n            });\r\n\r\n          });\r\n        });\r\n        }\r\n        else if(this.send===ScheduleFormEvent.SEND_DESIGN_FORM){\r\n          this.apiService.updateDesignForm(this.desginForm.value, this.designId).subscribe(response => {\r\n            this.utils.hideLoading().then(()=>{\r\n            if(newConstruction=='true')\r\n            {\r\n            this.uploaarchitecturedesign(response,'architecturaldesign');\r\n            }\r\n            else{\r\n              if(this.attachmentFileUpload){\r\n            this.uploadpreliumdesign(response,'attachments');\r\n              }\r\n              else{\r\n                let objToSend: NavigationExtras = {\r\n                  queryParams: {\r\n                    id:response.id,\r\n                    designData:\"prelim\",\r\n                    fulldesigndata:response\r\n                  },\r\n                  skipLocationChange: false,\r\n                  fragment: 'top'\r\n              };\r\n\r\n\r\n          this.router.navigate(['/payment-modal'], {\r\n            state: { productdetails: objToSend }\r\n          });\r\n              }\r\n            }\r\n            if(this.isArcFileDelete){\r\n              console.log(\"hello\");\r\n              this.deleteArcFile(this.indexOfArcFiles);\r\n            }\r\n            // this.utils.hideLoading().then(() => {\r\n            //   console.log('Res', response);\r\n            //   this.value=response.id;\r\n\r\n            //   this.utils.showSnackBar('Design have been updated');\r\n            //   //this.router.navigate([\"payment-modal\",{id:response.id,designData:\"prelim\"}]);\r\n\r\n\r\n\r\n             });\r\n          }, responseError => {\r\n            this.utils.hideLoading().then(() => {\r\n              const error: ErrorModel = responseError.error;\r\n              this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n            });\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n\r\n    } else {\r\n      if(this.desginForm.value.name=='' || this.desginForm.get('name').hasError('pattern')){\r\n\r\n        this.utils.errorSnackBar('Please check the field name.');\r\n      }\r\n      else if(this.desginForm.value.email=='' || this.desginForm.get('email').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field email.');\r\n      }\r\n      else if(this.desginForm.value.monthlybill=='' || this.desginForm.get('monthlybill').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field annual units.');\r\n      }\r\n      else if(this.desginForm.value.solarmake=='' || this.desginForm.get('solarmake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module make.');\r\n      }\r\n      else if(this.desginForm.value.solarmodel=='' || this.desginForm.get('solarmodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module model.');\r\n      }\r\n      else if(this.desginForm.value.invertermake=='' || this.desginForm.get('invertermake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter make.');\r\n      }\r\n      else if(this.desginForm.value.invertermodel=='' || this.desginForm.get('invertermodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter model.');\r\n      }\r\n      else if(this.desginForm.value.mountingtype==''){\r\n        this.utils.errorSnackBar('Please fill the mounting type.');\r\n      }\r\n      else if(this.desginForm.value.projecttype==''){\r\n        this.utils.errorSnackBar('Please fill the project type.');\r\n      }\r\n      else if(this.desginForm.value.tiltofgroundmountingsystem=='' || this.desginForm.get('tiltofgroundmountingsystem').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field tilt for ground mount.');\r\n      }\r\n      else if(this.desginForm.value.rooftype==''){\r\n        this.utils.errorSnackBar('Please fill the rooftype.');\r\n      }\r\n\r\n\r\n      else if(this.desginForm.value.architecturaldesign==''){\r\n        this.utils.errorSnackBar('Please attach architectural design.');\r\n      }\r\n      else{\r\n        this.utils.errorSnackBar('Address not found. Make sure location is on on device.');\r\n      }\r\n    }\r\n  }\r\n\r\n  showInvalidFormAlert() {\r\n    let error = '';\r\n    Object.keys(this.desginForm.controls).forEach((key: string) => {\r\n      const control: AbstractControl = this.desginForm.get(key);\r\n      if (control.invalid) {\r\n        if (error !== '') {\r\n          error = error + '<br/>';\r\n        }\r\n        if (control.errors.required === true) {\r\n          error = error + this.utils.capitalizeWord(key) + ' is required';\r\n        }\r\n        if (control.errors.email === true) {\r\n          error = error + 'Invalid email';\r\n        }\r\n        if (control.errors.error !== null && control.errors.error !== undefined) {\r\n          error = error + control.errors.error;\r\n        }\r\n      }\r\n    });\r\n    console.log(this.desginForm.value);\r\n    this.utils.showAlert(error);\r\n  }\r\n\r\n\r\n  getAssignees() {\r\n    this.apiService.getDesigners().subscribe(assignees => {\r\n      this.listOfAssignees = [];\r\n      // this.listOfAssignees.push(this.utils.getDefaultAssignee(this.storage.getUserID()));\r\n      assignees.forEach(item => this.listOfAssignees.push(item));\r\n      console.log(this.listOfAssignees);\r\n    });\r\n  }\r\n\r\n  getSolarMade() {\r\n    this.utils.showLoading('Getting module models').then((success) => {\r\n      this.apiService.getSolarMade(this.desginForm.get('solarmake').value).subscribe(response => {\r\n        this.utils.hideLoading().then(()=>{\r\n          console.log(response);\r\n          this.listOfSolarMade = response;\r\n          this.desginForm.patchValue({\r\n            solarmodel: ''\r\n          });\r\n        });\r\n      }, responseError => {\r\n        this.utils.hideLoading();\r\n        const error: ErrorModel = responseError.error;\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      });\r\n    // }, (error) => {\r\n\r\n    });\r\n\r\n\r\n  }\r\nioniViewDidEnter(){\r\n\r\n\r\n}\r\n  getSolarMake() {\r\n    this.getInverterMake();\r\n\r\n    this.apiService.getSolarMake().subscribe(response => {\r\n      this.listOfSolarMake = response;\r\n\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      console.log(error);\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    });\r\n  }\r\n\r\n  getInverterMade() {\r\n    console.log(this.desginForm.get('invertermake').value);\r\n    this.utils.showLoading('Getting inverter models').then((success) => {\r\n      this.apiService.getInverterMade(this.desginForm.get('invertermake').value).subscribe(response => {\r\n        this.utils.hideLoading().then(()=>{\r\n          console.log(response);\r\n          this.listOfInverterMade = response;\r\n          this.desginForm.patchValue({\r\n            invertermodel: ''\r\n          });\r\n        });\r\n      }, responseError => {\r\n        this.utils.hideLoading();\r\n        const error: ErrorModel = responseError.error;\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      });\r\n    // }, (reject) => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n  getInverterMake() {\r\n    this.apiService.getInverterMake().subscribe(response => {\r\n      console.log(response);\r\n      this.listOfInverterMake = response;\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    });\r\n  }\r\n\r\n  // onProjectChange(event){\r\n  // console.log(\"eve\",this.desginForm);\r\n  // }\r\n\r\n  getclass=()=>{\r\n  return   this.address == \"\" ? \"0px\" : \"50px\";\r\n  }\r\n\r\n  eventcheck(e){\r\n    this.showValue = e.target.value;\r\n    console.log(this.showValue);\r\n\r\n  }\r\n  showUpload(e){\r\n    this.uploadbox = e.target.value;\r\n\r\n\r\n  }\r\n\r\n\r\n  files(event){\r\n   console.log(event.target.files);\r\n    for(var i=0; i< event.target.files.length;i++){\r\n      this.archFiles.push(event.target.files[i])\r\n    }\r\n    console.log(this.archFiles);\r\n  }\r\n\r\n  prelimfiles(event){\r\n    console.log(event.target.files);\r\n    for(var i=0; i< event.target.files.length;i++){\r\n      this.prelimFiles.push(event.target.files[i])\r\n    }\r\n    this.attachmentFileUpload= true;\r\n    if(this.prelimFiles.length==1){\r\n      this.fileName= event.target.files[0].name;\r\n      console.log(this.fileName);\r\n\r\n    }else if(this.prelimFiles.length >1){\r\n      this.fileName= this.prelimFiles.length;\r\n    }else{\r\n      this.fileName='';\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  uploaarchitecturedesign(response?: any, key?: string){\r\n    console.log(this.archFiles);\r\n    const imageData = new FormData();\r\n    for(var i=0; i< this.archFiles.length;i++){\r\n      imageData.append(\"files\",this.archFiles[i]);\r\n      if(i ==0){\r\n        imageData.append('path', 'designs/' + response.id);\r\n        imageData.append('refId', response.id + '');\r\n        imageData.append('ref', 'design');\r\n        imageData.append('field', key);\r\n      }\r\n    }\r\n    this.utils.showLoading(\"Architectural File Uploading\").then(()=>{\r\n    this.apiService.uploaddesign(imageData).subscribe(res=>{\r\n      console.log(res);\r\n      this.utils.hideLoading();\r\n      if(this.attachmentFileUpload){\r\n      this.uploadpreliumdesign(response,'attachments');\r\n      }\r\n      else{\r\n        if(this.send === ScheduleFormEvent.SAVE_DESIGN_FORM ){\r\n        this.router.navigate(['/homepage/design'])\r\n        if(this.designId==0){\r\n                 this.utils.showSnackBar('Design have been saved');\r\n        }\r\n        else{\r\n          this.utils.showSnackBar('Design have been updated')\r\n        }\r\n                this.utils.setHomepageDesignRefresh(true);\r\n        }\r\n        else{\r\n          let objToSend: NavigationExtras = {\r\n                    queryParams: {\r\n                      id:response.id,\r\n                      designData:\"prelim\",\r\n                      fulldesigndata:response\r\n                    },\r\n                    skipLocationChange: false,\r\n                    fragment: 'top'\r\n                };\r\n\r\n\r\n            this.router.navigate(['/payment-modal'], {\r\n              state: { productdetails: objToSend }\r\n            });\r\n        }\r\n      }\r\n    }, responseError => {\r\n      this.utils.hideLoading();\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    })\r\n  })\r\n\r\n\r\n  }\r\n\r\n  uploadpreliumdesign(response?: any, key?: string,filearray?:File[]){\r\n    console.log(this.prelimFiles);\r\n    const imageData = new FormData();\r\n    for(var i=0; i< this.prelimFiles.length;i++){\r\n      imageData.append(\"files\",this.prelimFiles[i]);\r\n      if(i ==0){\r\n        imageData.append('path', 'designs/' + response.id);\r\n        imageData.append('refId', response.id + '');\r\n        imageData.append('ref', 'design');\r\n        imageData.append('field', key);\r\n      }\r\n    }\r\n    this.utils.showLoading(\"Attachment File Uploading\").then(()=>{\r\n    this.apiService.uploaddesign(imageData).subscribe(res=>{\r\n      console.log(res);\r\n      this.utils.hideLoading();\r\n      if(this.send === ScheduleFormEvent.SAVE_DESIGN_FORM)\r\n      {\r\n      this.router.navigate(['/homepage/design'])\r\n      if(this.designId==0)\r\n      {\r\n                 this.utils.showSnackBar('Design have been saved');\r\n      }\r\n      else{\r\n        this.utils.showSnackBar('Design have been updated');\r\n      }\r\n                this.utils.setHomepageDesignRefresh(true);\r\n      }\r\n      else{\r\n        let objToSend: NavigationExtras = {\r\n          queryParams: {\r\n            id:response.id,\r\n            designData:\"prelim\",\r\n            fulldesigndata:response\r\n          },\r\n          skipLocationChange: false,\r\n          fragment: 'top'\r\n      };\r\n\r\n\r\n  this.router.navigate(['/payment-modal'], {\r\n    state: { productdetails: objToSend }\r\n  });\r\n      }\r\n\r\n    }, responseError => {\r\n      this.utils.hideLoading();\r\n      //this.utils.hideUploadingLoading();\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    })\r\n  })\r\n  }\r\n\r\n  // pickarchitecturaldesign(){\r\n  //   this.camera.getPicture(this.options).then((imageData) => {\r\n  //     let base64Image = 'data:image/jpeg;base64,' + imageData;\r\n  //     let blob = this.utils.b64tBlob(base64Image);\r\n  //     let filename = Date.now().toString() + '.png';\r\n  //     this.utils.showLoading('Uploading').then(()=>{\r\n  //       this.apiService.uploaddesign(designId, key, blob, filename).subscribe(()=>{\r\n\r\n  //       })\r\n  //     })\r\n  //   })\r\n\r\n  // }\r\n\r\n  removeArc(i) {\r\n    this.archFiles.splice(i, 1);\r\n  }\r\n  removePrelim(i) {\r\n    this.prelimFiles.splice(i, 1);\r\n  }\r\n  sendtowattmonk(){\r\n    var designacceptancestarttime = new Date();\r\n      designacceptancestarttime.setMinutes(designacceptancestarttime.getMinutes() + 15);\r\n    const postData = {\r\n      outsourcedto: 232,\r\n        isoutsourced: \"true\",\r\n        status: \"outsourced\",\r\n        designacceptancestarttime: designacceptancestarttime,\r\n        paymenttype: this.utils.getPaymentMode().value,\r\n        couponid:this.utils.getCouponId().value\r\n      };\r\n\r\n      this.utils.showLoading('Assigning').then(()=>{\r\n        //this.newprelimsRef.update({ count: this.newprelimscount + 1});\r\n        this.apiService.updateDesignForm(postData, /*this.desginForm.get('id').value*/this.value).subscribe((value) => {\r\n          this.utils.hideLoading().then(()=>{\r\n            ;\r\n            console.log('reach ', value);\r\n\r\n            this.utils.showSnackBar('Design request has been assigned to wattmonk successfully');//.firstname +\" \"+this.selectedDesigner.lastname + ' ' + 'successfully');\r\n            this.router.navigate(['/homepage/design'])\r\n            this.utils.setHomepageDesignRefresh(true);\r\n          })\r\n        }, (error) => {\r\n          this.utils.hideLoading();\r\n        });\r\n      })\r\n  }\r\n\r\n  Pay()\r\n  {\r\n    if (this.desginForm.status === 'VALID') {\r\n    //this.router.navigate([\"payment-modal\",{designData:\"prelim\"}]);\r\n    let objToSend: NavigationExtras = {\r\n      queryParams: {\r\n        //id:response.id,\r\n        designData:\"prelim\"\r\n      },\r\n      skipLocationChange: false,\r\n      fragment: 'top'\r\n  };\r\n\r\n\r\nthis.router.navigate(['/payment-modal'], {\r\nstate: { productdetails: objToSend }\r\n});\r\n    }else {\r\n      if(this.desginForm.value.name=='' || this.desginForm.get('name').hasError('pattern')){\r\n\r\n        this.utils.errorSnackBar('Please check the field name.');\r\n      }\r\n      else if(this.desginForm.value.email=='' || this.desginForm.get('email').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field email.');\r\n      }\r\n      else if(this.desginForm.value.monthlybill=='' || this.desginForm.get('monthlybill').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field annual units.');\r\n      }\r\n      else if(this.desginForm.value.address=='' || this.desginForm.value.address==null)\r\n      {\r\n        this.utils.errorSnackBar('Please check the field address')\r\n      }\r\n      else if(this.desginForm.value.modulemake=='' || this.desginForm.get('modulemake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module make.');\r\n      }\r\n      else if(this.desginForm.value.modulemodel=='' || this.desginForm.get('modulemodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module model.');\r\n      }\r\n      else if(this.desginForm.value.invertermake=='' || this.desginForm.get('invertermake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter make.');\r\n      }\r\n      else if(this.desginForm.value.invertermodel=='' || this.desginForm.get('invertermodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter model.');\r\n      }\r\n      else if(this.desginForm.value.mountingtype==''){\r\n        this.utils.errorSnackBar('Please fill the mounting type.');\r\n      }\r\n      else if(this.desginForm.value.projecttype==''){\r\n        this.utils.errorSnackBar('Please fill the project type.');\r\n      }\r\n      else if(this.desginForm.value.tiltofgroundmountingsystem=='' || this.desginForm.get('tiltofgroundmountingsystem').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field tilt for ground mount.');\r\n      }\r\n      else if(this.desginForm.value.rooftype==''){\r\n        this.utils.errorSnackBar('Please fill the rooftype.');\r\n      }\r\n\r\n\r\n      else if(this.desginForm.value.architecturaldesign==[]){\r\n        this.utils.errorSnackBar('Please attach architectural design.');\r\n      }\r\n      else{\r\n        this.utils.errorSnackBar('Address not found. Make sure location is on on device.');\r\n      }\r\n    }\r\n  }\r\n\r\n  createChatGroup(design:DesginDataModel){\r\n    var GUID = 'prelim' + \"_\" + new Date().getTime();\r\n\r\n    var address = design.address.substring(0, 60);\r\n    var groupName = design.name + \"_\" + address;\r\n\r\n    var groupType = CometChat.GROUP_TYPE.PRIVATE;\r\n    var password = \"\";\r\n\r\n    var group = new CometChat.Group(GUID, groupName, groupType, password);\r\n\r\n    CometChat.createGroup(group).then(group=>{\r\n      let membersList = [\r\n        new CometChat.GroupMember(\"\" + design.createdby.id, CometChat.GROUP_MEMBER_SCOPE.ADMIN)\r\n      ];\r\n      CometChat.addMembersToGroup(group.getGuid(),membersList,[]).then(response=>{\r\n        this.cdr.detectChanges();\r\n      })\r\n    })\r\n  }\r\n\r\n  gettingClients(){\r\n    this.apiService.getClients().subscribe(res=>{\r\n      this.getCompanies = res;\r\n      console.log(this.getCompanies);\r\n      this.filteredCompanies = this.desginForm.get('companyname').valueChanges.pipe(\r\n        startWith(\"\"),\r\n        map(value => (typeof value === \"string\" ? value : value.companyid)),\r\n        map(companyname => (companyname ? this._filterCompanies(companyname) : this.getCompanies.slice()))\r\n      );\r\n    },\r\n    error => {\r\n      // this.utils.errorSnackBar(\"Error\");\r\n    }\r\n  );\r\n  }\r\n\r\n  proxyValue: any; onCompanyChanged(event$) {\r\n    console.log(event$);\r\n    this.proxyValue = event$.detail.value.companyname;\r\n    this.designCreatedBy = event$.detail.value.companyid;\r\n    this.designCreatedByUserParent = event$.detail.value.parentid;\r\n    if(this.designCreatedBy !== null && this.designCreatedByUserParent !== null){\r\n      var designacceptancestarttime = new Date();\r\n      designacceptancestarttime.setMinutes(designacceptancestarttime.getMinutes() + 15);\r\n          console.log(designacceptancestarttime)\r\n      this.desginForm.patchValue({createdby:this.designCreatedBy,\r\n                                  creatorparentid:this.designCreatedByUserParent,\r\n                                  status:\"outsourced\",\r\n                                  outsourcedto:\"232\",\r\n                                  isoutsourced:\"true\",\r\n                                  designacceptancestarttime:designacceptancestarttime})\r\n    }\r\n}\r\n\r\n  private _filterCompanies(companyname: string): Clients[] {\r\n    return this.getCompanies.filter(\r\n      company => company.companyname.toLowerCase().indexOf(companyname) != -1\r\n    );\r\n  }\r\n\r\n   //// For Address\r\n    /* FOR SEARCH SHIPPING ADDRESS */\r\n    updateSearchResults(event) {\r\n      //this.autoCompleteOff = true;\r\n      console.log(this.autoCompleteOff);\r\n      const input = event.detail.value;\r\n      console.log(input)\r\n      if (input === '') {\r\n        this.autocompleteItems = [];\r\n        return;\r\n      }\r\n      this.GoogleAutocomplete.getPlacePredictions({ input, componentRestrictions: {\r\n        country: 'us'\r\n      }  },\r\n        (predictions, status) => {\r\n          this.autocompleteItems = [];\r\n          this.zone.run(() => {\r\n            predictions.forEach((prediction) => {\r\n              this.autocompleteItems.push(prediction);\r\n            });\r\n          });\r\n        });\r\n    }\r\n\r\n    forAutoComplete(e){\r\n      console.log(\"hello\",e);\r\n      this.autoCompleteOff = true;\r\n\r\n    }\r\n\r\n  //   /* FOR SELECT SEARCH SHIPPING ADDRESS*/\r\n    selectSearchResult(item) {\r\n      console.log(item);\r\n      this.isSelectSearchResult = true;\r\n      this.geocoder.geocode({\r\n        placeId: item.place_id\r\n      }, (responses, status) => {\r\n        console.log('respo', responses);\r\n        this.getGeoEncoder(responses[0].geometry.location.lat(), responses[0].geometry.location.lng(), responses[0].formatted_address);\r\n      });\r\n      this.autocompleteItems = []\r\n    }\r\n\r\n    getGeoEncoder(latitude, longitude, formattedAddress) {\r\n\r\n      // // TODO remove later\r\n      // const address: AddressModel = {\r\n      //   address: 'Vasant Kunj, New Delhi, Delhi',\r\n      //   lat: 28.5200491,\r\n      //   long: 77.158687,\r\n      //   country: 'India',\r\n      //   state: 'Delhi',\r\n      //   city: 'New Delhi',\r\n      //   postalcode: '110070'\r\n      // };\r\n      // this.utilities.setAddress(address);\r\n      // this.goBack();\r\n      // return;\r\n\r\n      this.utils.showLoading('Loading').then(() => {\r\n        this.nativeGeocoder.reverseGeocode(latitude, longitude, this.geoEncoderOptions)\r\n          .then((result: NativeGeocoderResult[]) => {\r\n            console.log(result)\r\n            let add = '';\r\n            if (formattedAddress === '') {\r\n              add = this.generateAddress(result[0]);\r\n            } else {\r\n              add = formattedAddress;\r\n            }\r\n            this.utils.hideLoading().then(() => {\r\n              console.log('resu', result);\r\n              const address: AddressModel = {\r\n                address: add,\r\n                lat: latitude,\r\n                long: longitude,\r\n                country: result[0].countryName,\r\n                state: result[0].administrativeArea,\r\n                city: result[0].locality,\r\n                postalcode: result[0].postalCode\r\n              };\r\n              this.utils.setAddress(address);\r\n              this.addressValue();\r\n              //this.goBack();\r\n            });\r\n\r\n          })\r\n          .catch((error: any) => {\r\n            this.utils.hideLoading().then(() => {\r\n              alert('Error getting location' + JSON.stringify(error));\r\n            });\r\n\r\n          });\r\n      });\r\n    }\r\n\r\n    generateAddress(addressObj) {\r\n      const obj = [];\r\n      let address = '';\r\n      for (const key in addressObj) {\r\n        obj.push(addressObj[key]);\r\n      }\r\n      obj.reverse();\r\n      for (const val in obj) {\r\n        if (obj[val].length) {\r\n          address += obj[val] + ', ';\r\n        }\r\n      }\r\n      return address.slice(0, -2);\r\n    }\r\n\r\n    onCancel() {\r\n      console.log(\"hello\");\r\n      this.autocompleteItems = [];\r\n      console.log(this.autocompleteItems)\r\n    }\r\n\r\n    addressValue(){\r\n      // }\r\n      this.addressSubscription = this.utils.getAddressObservable().subscribe((address) => {\r\n        console.log(address,\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n\r\n          // this.firstFormGroup.get('address').setValue('124/345');\r\n          // this.firstFormGroup.get('latitude').setValue('24.553333');\r\n          // this.firstFormGroup.get('longitude').setValue('80.5555555555');\r\n          // this.firstFormGroup.get('country').setValue('india');\r\n          // this.firstFormGroup.get('city').setValue('Lucknow');\r\n          // this.firstFormGroup.get('state').setValue('UP');\r\n          // this.firstFormGroup.get('postalcode').setValue(3232343);\r\n          debugger;\r\n         this.desginForm.get('address').setValue(address.address);\r\n           this.desginForm.get('latitude').setValue(address.lat);\r\n           this.desginForm.get('longitude').setValue(address.long);\r\n           this.desginForm.get('country').setValue(address.country);\r\n         this.desginForm.get('city').setValue(address.city);\r\n           this.desginForm.get('state').setValue(address.state);\r\n           this.desginForm.get('postalcode').setValue(address.postalcode);\r\n      }, (error) => {\r\n        this.desginForm.get('address').setValue('');\r\n        this.desginForm.get('latitude').setValue(null);\r\n        this.desginForm.get('longitude').setValue(null);\r\n        this.desginForm.get('country').setValue('');\r\n        this.desginForm.get('city').setValue('');\r\n        this.desginForm.get('state').setValue('');\r\n        this.desginForm.get('postalcode').setValue(null);\r\n      });\r\n      // this.firstFormGroup.patchValue({\r\n      //   createdby: this.storage.getUserID()\r\n      // });\r\n   // this.autocompleteItems = [];\r\n      this.autoCompleteOff = false;\r\n      console.log(this.autoCompleteOff);\r\n      //this.getSolarMake();\r\n\r\n      }\r\n\r\n      onBlur()\r\n      {\r\n        setTimeout(() => {\r\n          this.autocompleteItems = [];\r\n        }, 100);\r\n      }\r\n}\r\n\r\n","export default \"<ion-content class=\\\"ion-padding-start ion-padding-end ion-padding-bottom\\\" style=\\\"height:650px\\\">\\r\\n  <form [formGroup]=\\\"desginForm\\\" novalidate style=\\\"overflow:scroll\\\">\\r\\n      <ion-grid style=\\\"position: relative;margin-top: 30px;\\\">\\r\\n          <!-- <ion-row *ngIf=\\\"address !== ''\\\">\\r\\n              <ion-col>\\r\\n                  {{address}}\\r\\n              </ion-col>\\r\\n\\r\\n          </ion-row>\\r\\n          <ion-row *ngIf=\\\"address == ''\\\">\\r\\n              <ion-col>\\r\\n              Address not found.\\r\\n              </ion-col>\\r\\n\\r\\n          </ion-row> -->\\r\\n          <ion-row >\\r\\n              <ion-col>\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label position=\\\"floating\\\">name*</ion-label>\\r\\n                      <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n                                  formControlName=\\\"name\\\"></ion-input>\\r\\n                  </ion-item>\\r\\n                  <div style=\\\"height: 5px;\\\">\\r\\n                      <div *ngIf=\\\"desginForm.get('name').hasError('pattern') && desginForm.get('name').dirty\\\">\\r\\n                          <span class=\\\"error\\\">{{nameError}}</span>\\r\\n                      </div>\\r\\n                      <div *ngIf=\\\"desginForm.get('name').value === '' && desginForm.get('name').dirty\\\">\\r\\n                          <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                      </div>\\r\\n                  </div>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n              <ion-col>\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label position=\\\"floating\\\">email*</ion-label>\\r\\n                      <ion-input class=\\\"form_input\\\" type=\\\"email\\\" autocapitalize=\\\"none\\\" autocomplete=\\\"off\\\"\\r\\n                                  formControlName=\\\"email\\\" [disabled]=\\\"fieldDisabled\\\"></ion-input>\\r\\n                  </ion-item>\\r\\n                  <div style=\\\"height: 5px;\\\">\\r\\n                      <div *ngIf=\\\"desginForm.get('email').hasError('pattern') && desginForm.get('email').dirty\\\">\\r\\n                          <span class=\\\"error\\\">{{emailError}}</span>\\r\\n                      </div>\\r\\n                      <div *ngIf=\\\"desginForm.get('email').value === '' && desginForm.get('email').dirty\\\">\\r\\n                          <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                      </div>\\r\\n                  </div>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n              <ion-col>\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label position=\\\"floating\\\">annual units (Kwh)*</ion-label>\\r\\n                      <ion-input class=\\\"form_input\\\"  type=\\\"tel\\\" (ionInput)=\\\"numberfield($event)\\\"\\r\\n                                  formControlName=\\\"monthlybill\\\" maxLength=\\\"5\\\"></ion-input>\\r\\n                  </ion-item>\\r\\n                  <div style=\\\"height: 5px;\\\">\\r\\n                      <div *ngIf=\\\"desginForm.get('monthlybill').dirty && desginForm.get('monthlybill').hasError('pattern')\\\">\\r\\n                          <span class=\\\"error\\\">{{\\\"Annual units should be a valid number\\\"}}</span>\\r\\n                      </div>\\r\\n                      <!-- <div *ngIf=\\\"desginForm.get('monthlybill').hasError('pattern') && desginForm.get('monthlybill').dirty\\\">\\r\\n                          <span class=\\\"error\\\">{{annualunitError}}</span>\\r\\n                      </div> -->\\r\\n                  </div>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <!-- <ion-row class=\\\"ion-margin-top\\\">\\r\\n              <ion-col>\\r\\n                  <ion-range [min]=\\\"minRange\\\" [max]=\\\"maxRange\\\" formControlName=\\\"monthlybill\\\" mode=\\\"ios\\\" pin=\\\"true\\\"\\r\\n                              class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label slot=\\\"start\\\">{{minRange | currency :'USD':'symbol':'1.0-0'}}</ion-label>\\r\\n                      <ion-label slot=\\\"end\\\">{{maxRange | currency :'USD':'symbol':'1.0-0'  }} <span style=\\\"color:red\\\">*</span></ion-label>\\r\\n\\r\\n                  </ion-range>\\r\\n\\r\\n              </ion-col>\\r\\n          </ion-row> -->\\r\\n\\r\\n          <ion-row>\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <!-- <ion-label position=\\\"floating\\\">module make*</ion-label> -->\\r\\n                  <app-auto-complete #myinput style=\\\"font-size: 14px;\\\" [dataList]=\\\"listOfSolarMake\\\"\\r\\n                formControlName=\\\"solarmake\\\"><ion-label position=\\\"floating\\\" >Module make*</ion-label></app-auto-complete>\\r\\n\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <!-- <ion-label position=\\\"floating\\\">module model*</ion-label> -->\\r\\n                  <app-auto-complete style=\\\"font-size: 14px;\\\"  [dataList]=\\\"listOfSolarMade\\\"\\r\\n                                      formControlName=\\\"solarmodel\\\" ><ion-label position=\\\"floating\\\" >Module model*</ion-label></app-auto-complete>\\r\\n\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row>\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <!-- <ion-label position=\\\"floating\\\">inverter make*</ion-label> -->\\r\\n                  <app-auto-complete style=\\\"font-size: 12px;\\\" [dataList]=\\\"listOfInverterMake\\\"\\r\\n                                      formControlName=\\\"invertermake\\\"><ion-label position=\\\"floating\\\" >Inverter make*</ion-label></app-auto-complete>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <!-- <ion-label position=\\\"floating\\\">invertor model*</ion-label> -->\\r\\n                  <app-auto-complete style=\\\"font-size: 10px;\\\" [dataList]=\\\"listOfInverterMade\\\"\\r\\n                                      formControlName=\\\"invertermodel\\\" ><ion-label position=\\\"floating\\\" >Inverter model*</ion-label></app-auto-complete>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label style=\\\"display: none;\\\">project type*</ion-label>\\r\\n                      <ion-label position=\\\"floating\\\">Project type*</ion-label>\\r\\n                      <!-- <ion-label style=\\\"display: none;\\\">Project Type</ion-label> -->\\r\\n                      <!-- <ion-label position=\\\"floating\\\">project type</ion-label> -->\\r\\n                      <ion-select class=\\\"form_input\\\" ok-text=\\\"\\\"\\r\\n                                  cancel-text=\\\"\\\"\\r\\n                                  formControlName=\\\"projecttype\\\" interface=\\\"popover\\\">\\r\\n                          <ion-select-option value=\\\"residential\\\">Residential</ion-select-option>\\r\\n                          <ion-select-option value=\\\"commercial\\\">Commercial</ion-select-option>\\r\\n                      </ion-select>\\r\\n                  </ion-item>\\r\\n\\r\\n              </ion-col>\\r\\n\\r\\n              <!-- <ion-col size=\\\"6\\\">\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label style=\\\"display: none;\\\">Job Type</ion-label>\\r\\n                      <ion-select class=\\\"form_input select_div\\\" placeholder=\\\"job type\\\"\\r\\n                                  ok-text=\\\"\\\"\\r\\n                                  cancel-text=\\\"\\\"\\r\\n                                  formControlName=\\\"jobtype\\\" interface=\\\"popover\\\">\\r\\n                          <ion-select-option value=\\\"pvbattery\\\">PV+Battery</ion-select-option>\\r\\n                          <ion-select-option value=\\\"battery\\\">Battery</ion-select-option>\\r\\n                          <ion-select-option value=\\\"pv\\\">PV</ion-select-option>\\r\\n                      </ion-select>\\r\\n                  </ion-item>\\r\\n              </ion-col> -->\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label position=\\\"floating\\\">New Construction*</ion-label>\\r\\n\\r\\n                      <!-- <ion-label style=\\\"display: none;\\\">New construction</ion-label> -->\\r\\n                      <!-- <ion-label position=\\\"floating\\\">new construction</ion-label> -->\\r\\n                      <ion-select  (ionChange)=\\\"showUpload($event)\\\" class=\\\"form_input select_div\\\"\\r\\n                                      ok-text=\\\"\\\"\\r\\n                                  cancel-text=\\\"\\\"\\r\\n                                  formControlName=\\\"newconstruction\\\" interface=\\\"popover\\\" value=\\\"false\\\"  >\\r\\n                          <ion-select-option  value=\\\"true\\\">Yes</ion-select-option>\\r\\n                          <ion-select-option  value=\\\"false\\\">No</ion-select-option>\\r\\n                      </ion-select>\\r\\n                  </ion-item>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n            <ion-col size=\\\"12\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <mat-form-field style=\\\"width: 100%; height: 45px;\\\" class=\\\"ion-no-padding\\\">\\r\\n                        <mat-label>Utility Name</mat-label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form_input font-size\\\" matInput [matAutocomplete]=\\\"auto\\\" autocomplete=\\\"off\\\" formControlName=\\\"utility\\\" required>\\r\\n\\r\\n                        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n                          <mat-option *ngFor=\\\"let utility of filteredModuleMakes | async\\\" [value]=\\\"utility.name\\\"\\r\\n                          (onSelectionChange)=\\\"fetchUtilityData($event,utility)\\\" class=\\\"font\\\">{{utility.name}}</mat-option>\\r\\n                        </mat-autocomplete>\\r\\n                      </mat-form-field>\\r\\n                </ion-item>\\r\\n                <div style=\\\"height: 5px;\\\">\\r\\n                    <div *ngIf=\\\"desginForm.get('utility').hasError('pattern') && desginForm.get('utility').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{moduleAndInverterError}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n          </ion-row >\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <mat-form-field style=\\\"width: 100%; height: 45px;\\\" class=\\\"ion-no-padding\\\">\\r\\n                      <mat-label>Utility Rate</mat-label>\\r\\n                      <input type=\\\"text\\\" class=\\\"form_input font-size\\\" matInput [matAutocomplete]=\\\"auto1\\\" autocomplete=\\\"off\\\" formControlName=\\\"utilityrate\\\" required>\\r\\n                      <mat-autocomplete #auto1=\\\"matAutocomplete\\\">\\r\\n                        <mat-option *ngFor=\\\"let module of filteredModuleModels | async\\\" [value]=\\\"module.rate\\\"\\r\\n                        (onSelectionChange)=\\\"setSelectedUtilityRate(module)\\\" class=\\\"font\\\">{{module.rate}}</mat-option>\\r\\n                      </mat-autocomplete>\\r\\n                    </mat-form-field>\\r\\n                </ion-item>\\r\\n                <div style=\\\"height: 5px;\\\">\\r\\n                    <div *ngIf=\\\"desginForm.get('utilityrate').hasError('pattern') && desginForm.get('utilityrate').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{moduleAndInverterError}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <!-- <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n          <ion-col style=\\\"margin-top: 15px;\\\">\\r\\n              <ion-label>Annual Utility Escalation*</ion-label>\\r\\n              <ion-range [color]=\\\"color\\\"\\r\\n              class=\\\"ion-no-padding\\\" min=\\\"0\\\" max=\\\"5\\\" formControlName=\\\"annualutilityescalation\\\" pin=\\\"true\\\"  (ionChange)=\\\"onRangeChangeHandler()\\\">\\r\\n                <ion-label slot=\\\"start\\\">0.0%</ion-label>\\r\\n                <ion-label slot=\\\"end\\\">5.0%</ion-label>\\r\\n              </ion-range>\\r\\n          </ion-col>\\r\\n    </ion-row> -->\\r\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n        <ion-col>\\r\\n            <ion-item class=\\\"ion-no-padding\\\">\\r\\n            <ion-label position=\\\"floating\\\">Annual Utility Escalation*</ion-label>\\r\\n            <ion-select  class=\\\"form_input select_div\\\"\\r\\n            ok-text=\\\"\\\"\\r\\n        cancel-text=\\\"\\\"\\r\\n        formControlName=\\\"annualutilityescalation\\\" interface=\\\"popover\\\" [value]=\\\"3.5\\\">\\r\\n        <ion-select-option  [value]=\\\"0\\\">0 %</ion-select-option>\\r\\n<ion-select-option [value]=\\\"0.5\\\">0.5 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"1\\\">1 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"1.5\\\">1.5 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"2\\\">2 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"2.5\\\">2.5 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"3\\\">3 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"3.5\\\">3.5 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"4\\\">4 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"4.5\\\">4.5 %</ion-select-option>\\r\\n<ion-select-option  [value]=\\\"5\\\">5 %</ion-select-option>\\r\\n</ion-select>\\r\\n</ion-item>\\r\\n        </ion-col>\\r\\n  </ion-row>\\r\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n      <ion-col>\\r\\n            <ion-item class=\\\"ion-no-padding\\\">\\r\\n                <ion-label position=\\\"floating\\\">Any Incentives*</ion-label>\\r\\n                <ion-select class=\\\"form_input select_div\\\"\\r\\n                ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                formControlName=\\\"incentive\\\" interface=\\\"popover\\\" [value]= 'incentives'>\\r\\n        <ion-select-option *ngFor=\\\"let incentive of incentives\\\" [value]=\\\"incentive.id\\\">{{incentive.title}}</ion-select-option>\\r\\n  </ion-select>\\r\\n          </ion-item>\\r\\n      </ion-col>\\r\\n  </ion-row>\\r\\n  <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n    <ion-col size=\\\"6\\\">\\r\\n        <ion-item class=\\\"ion-no-padding\\\">\\r\\n            <ion-label position=\\\"floating\\\">Cost of System* (Watt)</ion-label>\\r\\n            <ion-input type=\\\"text\\\" class=\\\"form_input\\\"\\r\\n            formControlName=\\\"costofsystem\\\"></ion-input>\\r\\n        </ion-item>\\r\\n    </ion-col>\\r\\n<!-- </ion-row>\\r\\n\\r\\n<ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\"> -->\\r\\n  <ion-col size=\\\"6\\\">\\r\\n      <ion-item class=\\\"ion-no-padding\\\">\\r\\n          <ion-label position=\\\"floating\\\">Representative Name*</ion-label>\\r\\n          <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n          formControlName=\\\"personname\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <div style=\\\"height: 5px;\\\">\\r\\n        <div *ngIf=\\\"desginForm.get('personname').hasError('pattern') && desginForm.get('personname').dirty\\\">\\r\\n            <span class=\\\"error\\\">{{nameError}}</span>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"desginForm.get('personname').value === '' && desginForm.get('personname').dirty\\\">\\r\\n            <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n<ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n  <ion-col>\\r\\n      <ion-item class=\\\"ion-no-padding\\\">\\r\\n          <ion-label position=\\\"floating\\\">Company Name</ion-label>\\r\\n          <ion-input  type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n          formControlName=\\\"company\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <div style=\\\"height: 5px;\\\">\\r\\n        <div *ngIf=\\\"desginForm.get('company').hasError('pattern') && desginForm.get('company').dirty\\\">\\r\\n            <span class=\\\"error\\\">{{companyError}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n\\r\\n<ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n  <!-- <ion-col>\\r\\n      <ion-item class=\\\"ion-no-padding\\\">\\r\\n          <ion-label position=\\\"floating\\\">Company Logo</ion-label>\\r\\n          <ion-input  type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n          formControlName=\\\"companylogo\\\"></ion-input>\\r\\n      </ion-item>\\r\\n  </ion-col> -->\\r\\n  <ion-col size=\\\"12\\\" (click)=\\\"fileInput.click()\\\">\\r\\n    <ion-item  class=\\\"ion-no-padding\\\">\\r\\n      <ion-label position=\\\"floating\\\">Upload Logo</ion-label>\\r\\n      <input type='file' id=\\\"imageUpload\\\" placeholder=\\\"Upload logo\\\" accept=\\\"image/\\\" #fileInput (change)=\\\"uploadFile($event)\\\" />\\r\\n      </ion-item>\\r\\n\\r\\n        <div *ngIf=\\\"logo !=null && logo !=''\\\" class=\\\"avatar-upload\\\" style=\\\"text-align: center;\\\">\\r\\n            <img [src]=logo height=\\\"100px\\\" width=\\\"100px\\\"  />\\r\\n      </div>\\r\\n\\r\\n  <!-- </ion-item> -->\\r\\n</ion-col>\\r\\n</ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label style=\\\"display: none;\\\">Mounting Type*</ion-label>\\r\\n                      <ion-label position=\\\"floating\\\">Mounting Type*</ion-label>\\r\\n                      <!-- <ion-label position=\\\"floating\\\">mounting type</ion-label> -->\\r\\n                      <ion-select class=\\\"form_input select_div\\\" (ionChange)=\\\"eventcheck($event)\\\"\\r\\n                                  ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                                  formControlName=\\\"mountingtype\\\" interface=\\\"popover\\\">\\r\\n                          <ion-select-option value=\\\"roof\\\">Roof</ion-select-option>\\r\\n                          <ion-select-option value=\\\"ground\\\">Ground</ion-select-option>\\r\\n                          <ion-select-option value=\\\"both\\\">Both</ion-select-option>\\r\\n                      </ion-select>\\r\\n                  </ion-item>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <!-- condition base roof type-->\\r\\n          <ion-row>\\r\\n              <ion-col size=\\\"6\\\" *ngIf='(showValue==\\\"roof\\\" ||showValue== \\\"both\\\")'>\\r\\n                  <ion-item class=\\\"ion-no-padding\\\">\\r\\n                      <ion-label style=\\\"display: none;\\\">Roof Type</ion-label>\\r\\n                      <ion-label position=\\\"floating\\\">Roof type*</ion-label>\\r\\n                      <ion-select class=\\\"form_input select_div\\\"\\r\\n                                  ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                                  formControlName=\\\"rooftype\\\" interface=\\\"popover\\\">\\r\\n                          <ion-select-option value=\\\"flat\\\">Flat</ion-select-option>\\r\\n                          <ion-select-option value=\\\"pitch\\\">Pitch</ion-select-option>\\r\\n                          <ion-select-option value=\\\"both\\\">Both</ion-select-option>\\r\\n                      </ion-select>\\r\\n                  </ion-item>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"6\\\" *ngIf='(showValue==\\\"ground\\\" || showValue==\\\"both\\\")'>\\r\\n                      <ion-item class=\\\"ion-no-padding\\\">\\r\\n                          <ion-label position=\\\"floating\\\" style=\\\"font-size: 13px;\\\">Tilt for ground mount*</ion-label>\\r\\n                          <ion-input class=\\\"form_input\\\"  type=\\\"tel\\\" formControlName=\\\"tiltgroundmount\\\" maxlength=\\\"5\\\"></ion-input>\\r\\n                      </ion-item>\\r\\n                      <div style=\\\"height: 5px;\\\">\\r\\n                          <div *ngIf=\\\"desginForm.get('tiltgroundmount').dirty && desginForm.get('tiltgroundmount').hasError('pattern')\\\">\\r\\n                              <span class=\\\"error\\\">{{\\\"It should be a valid number\\\"}}</span>\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"desginForm.get('tiltgroundmount').hasError('pattern') && desginForm.get('tiltgroundmount').dirty\\\">\\r\\n                              <span class=\\\"error\\\">{{tiltforgroundError}}</span>\\r\\n                          </div>\\r\\n                      </div>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n              <!--upload box-->\\r\\n  <ion-row *ngIf='uploadbox==\\\"true\\\"'>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n\\r\\n          <ng-container>\\r\\n              <ion-item class=\\\"ion-no-padding\\\" (click)=\\\"f.click()\\\">\\r\\n                  <ion-label position=\\\"floating\\\">Architectural design*</ion-label>\\r\\n                      <input type=\\\"file\\\" #f class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" multiple>\\r\\n                      <ion-icon name=\\\"attach-outline\\\" slot=\\\"end\\\" style=\\\"margin-top:21px\\\"></ion-icon>\\r\\n                  </ion-item>\\r\\n                  <div *ngFor=\\\"let file of archFiles;let i = index\\\">\\r\\n                      <ion-item>\\r\\n                          <ion-col size=\\\"11\\\">\\r\\n                              {{file.name}}\\r\\n                          </ion-col>\\r\\n                          <ion-col size=\\\"1\\\" (click)=\\\"removeArc(i)\\\">x</ion-col>\\r\\n                      </ion-item>\\r\\n                  </div>\\r\\n                  </ng-container>\\r\\n          <!-- <ion-item class=\\\"ion-no-padding\\\"> -->\\r\\n              <!-- <ion-input class=\\\"form_input\\\" type=\\\"file\\\" placeholder=\\\"Upload Architectural design\\\"\\r\\n                      (ionChange)=\\\"files($event)\\\"  multiple></ion-input> -->\\r\\n                      <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label>\\r\\n                      <p style=\\\"margin-top: 10px;\\\" *ngFor=\\\"let architecture of architecturalData;let i=index\\\"><ion-row style=\\\"display:flex;align-items: flex-end;\\\" ><ion-col style=\\\"display:flex;align-items: flex-end;\\\"><ion-label style=\\\"-webkit-text-stroke: thin;\\\" *ngIf=\\\"architecture.value!=''\\\" position=\\\"floating\\\">{{architecture?.name}}</ion-label></ion-col>\\r\\n                          <ion-col style=\\\"display:flex;align-items: flex-end;\\\"> <ion-icon name=\\\"close-circle-outline\\\" *ngIf=\\\"architecture.name!=''\\\" (click)=\\\"remove(architecture,architecture?.id)\\\"></ion-icon></ion-col></ion-row></p>\\r\\n                      <ion-input type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" placeholder=\\\"Upload Architectural design\\\" multiple></ion-input>\\r\\n                  </ion-item> -->\\r\\n\\r\\n              </ion-col>\\r\\n                           <!-- <ion-item> -->\\r\\n                           <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label> -->\\r\\n                                  <ng-container *ngIf=\\\"design && design.architecturaldesign !==null\\\">\\r\\n                                      <div *ngFor=\\\"let arc of design.architecturaldesign; let i = index\\\">\\r\\n                                         <ion-item>\\r\\n                                             <ion-col size=\\\"11\\\"> {{arc.name}}{{arc.ext}}</ion-col>\\r\\n                                             <ion-col size=\\\"1\\\" (click)=\\\"remove(arc, i)\\\">x</ion-col>\\r\\n\\r\\n\\r\\n                                         </ion-item>\\r\\n\\r\\n\\r\\n                                     </div>\\r\\n                                  </ng-container>\\r\\n                           <!-- </ion-item> -->\\r\\n\\r\\n  </ion-row>\\r\\n\\r\\n              <ion-row>\\r\\n                  <ion-col size=\\\"12\\\">\\r\\n                      <ng-container>\\r\\n                      <ion-item class=\\\"ion-no-padding\\\" (click)=\\\"d.click()\\\">\\r\\n                      <ion-label position=\\\"floating\\\">Attachments</ion-label>\\r\\n\\r\\n\\r\\n                                  <input #d type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"prelimfiles($event)\\\" style=\\\"margin-top: 12px;\\\" formArrayName=\\\"architecturaldesign\\\" multiple>\\r\\n                                  <ion-icon name=\\\"attach-outline\\\" slot=\\\"end\\\" style=\\\"margin-top:21px\\\"></ion-icon>\\r\\n                              </ion-item>\\r\\n                              <div *ngFor=\\\"let file of prelimFiles;let i = index\\\">\\r\\n                                  <ion-item>\\r\\n                                      <ion-col size=\\\"11\\\">\\r\\n                                          {{file.name}}\\r\\n                                      </ion-col>\\r\\n                                      <ion-col size=\\\"1\\\" (click)=\\\"removePrelim(i)\\\">x</ion-col>\\r\\n                                  </ion-item>\\r\\n                              </div>\\r\\n                              </ng-container>\\r\\n                      <!-- <ion-item class=\\\"ion-no-padding\\\"> -->\\r\\n                          <!-- <ion-input class=\\\"form_input\\\" type=\\\"file\\\" placeholder=\\\"Upload Architectural design\\\"\\r\\n                                  (ionChange)=\\\"files($event)\\\"  multiple></ion-input> -->\\r\\n                                  <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label>\\r\\n                                  <p style=\\\"margin-top: 10px;\\\" *ngFor=\\\"let architecture of architecturalData;let i=index\\\"><ion-row style=\\\"display:flex;align-items: flex-end;\\\" ><ion-col style=\\\"display:flex;align-items: flex-end;\\\"><ion-label style=\\\"-webkit-text-stroke: thin;\\\" *ngIf=\\\"architecture.value!=''\\\" position=\\\"floating\\\">{{architecture?.name}}</ion-label></ion-col>\\r\\n                                      <ion-col style=\\\"display:flex;align-items: flex-end;\\\"> <ion-icon name=\\\"close-circle-outline\\\" *ngIf=\\\"architecture.name!=''\\\" (click)=\\\"remove(architecture,architecture?.id)\\\"></ion-icon></ion-col></ion-row></p>\\r\\n                                  <ion-input type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" placeholder=\\\"Upload Architectural design\\\" multiple></ion-input>\\r\\n                              </ion-item> -->\\r\\n\\r\\n                          </ion-col>\\r\\n                                       <!-- <ion-item> -->\\r\\n                                       <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label> -->\\r\\n                                              <ng-container *ngIf=\\\"design && design.attachments !==null\\\">\\r\\n                                                  <div *ngFor=\\\"let arc of design.attachments;let i=index\\\">\\r\\n                                                     <ion-item>\\r\\n                                                         <ion-col size=\\\"11\\\"> {{arc.name}}{{arc.ext}}</ion-col>\\r\\n                                                         <ion-col size=\\\"1\\\" (click)=\\\"removeattachment(arc,i)\\\">x</ion-col>\\r\\n\\r\\n\\r\\n                                                     </ion-item>\\r\\n\\r\\n\\r\\n                                                 </div>\\r\\n                                              </ng-container>\\r\\n              </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-margin-top\\\">\\r\\n              <ion-label position=\\\"floating\\\">Comments</ion-label></ion-row>\\r\\n             <ion-row class=\\\"ion-margin-top\\\"> <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n                  <ion-textarea class=\\\"ion-no-margin ion-no-padding comment_box\\\" rows=\\\"3\\\"\\r\\n                                  formControlName=\\\"comments\\\"></ion-textarea>\\r\\n              </ion-col>\\r\\n          </ion-row>\\r\\n  <!--\\r\\n          <ion-row class=\\\"ion-margin-top\\\">\\r\\n              <ion-col>\\r\\n                  <ion-item class=\\\" ion-no-padding no-border\\\" lines=\\\"none\\\" style=\\\"padding: 30px 0px;\\\">\\r\\n                      <app-user-selector style=\\\"overflow:scroll;\\\" placeholder=\\\"assign\\\" [assignees]=\\\"listOfAssignees\\\"\\r\\n                                          formControlName=\\\"assignedto\\\"></app-user-selector>\\r\\n                  </ion-item>\\r\\n              </ion-col>\\r\\n          </ion-row> -->\\r\\n      </ion-grid>\\r\\n  </form>\\r\\n\\r\\n  </ion-content>\\r\\n\";","export default \".user-image {\\n  width: 50px;\\n  height: 50px;\\n  object-fit: cover;\\n  border-radius: 50%;\\n}\\n\\nion-range {\\n  --bar-background: #CBCBCB;\\n  --bar-background-active: #CBCBCB;\\n  --knob-background: #3c78d8;\\n  --knob-border-radius: 2px solid white;\\n  --knob-size: 20px;\\n  --knob-border-radius: 50%;\\n  --pin-color: #E1E1E1;\\n}\\n\\n.solar-data {\\n  position: absolute;\\n  margin-top: 50px;\\n  width: 146px;\\n  max-width: 150px;\\n  z-index: 3;\\n  margin-left: 0px;\\n  max-height: 200px;\\n  overflow: auto;\\n}\\n\\n.solar-made {\\n  position: absolute;\\n  width: 172px;\\n  max-width: 175px;\\n  z-index: 3;\\n  margin-left: 0px;\\n  max-height: 200px;\\n  overflow: auto;\\n  margin-top: 2px;\\n}\\n\\nion-label {\\n  color: #6C6C6C !important;\\n}\\n\\n.error {\\n  color: #df3e3e;\\n  font-size: 11px;\\n}\\n\\n.select_div {\\n  border-bottom: 1px solid #E1E1E1;\\n}\\n\\nion-select {\\n  max-width: 100% !important;\\n  width: 100% !important;\\n  padding-left: 0px !important;\\n}\\n\\ninput[type=file] {\\n  visibility: hidden;\\n}\\n\\n.font {\\n  font-size: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxzYWxlc3Byb3Bvc2FsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUU7RUFDRSx5QkFBQTtFQUNBLGdDQUFBO0VBQ0EsMEJBQUE7RUFDQSxxQ0FBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxvQkFBQTtBQUNKOztBQUVFO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUU7RUFDRSx5QkFBQTtBQUNKOztBQUVFO0VBQ0UsY0FBQTtFQUNBLGVBQUE7QUFDSjs7QUFFRTtFQUNFLGdDQUFBO0FBQ0o7O0FBRUU7RUFDRSwwQkFBQTtFQUNBLHNCQUFBO0VBQ0EsNEJBQUE7QUFDSjs7QUFDRTtFQUNFLGtCQUFBO0FBRUo7O0FBQUU7RUFDRSxlQUFBO0FBR0oiLCJmaWxlIjoic2FsZXNwcm9wb3NhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51c2VyLWltYWdlIHtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1yYW5nZSB7XHJcbiAgICAtLWJhci1iYWNrZ3JvdW5kOiAjQ0JDQkNCO1xyXG4gICAgLS1iYXItYmFja2dyb3VuZC1hY3RpdmU6ICNDQkNCQ0I7XHJcbiAgICAtLWtub2ItYmFja2dyb3VuZDogIzNjNzhkODtcclxuICAgIC0ta25vYi1ib3JkZXItcmFkaXVzOiAycHggc29saWQgd2hpdGU7XHJcbiAgICAtLWtub2Itc2l6ZTogMjBweDtcclxuICAgIC0ta25vYi1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAtLXBpbi1jb2xvcjogI0UxRTFFMTtcclxuICB9XHJcbiAgXHJcbiAgLnNvbGFyLWRhdGEge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogNTBweDtcclxuICAgIHdpZHRoOiAxNDZweDtcclxuICAgIG1heC13aWR0aDogMTUwcHg7XHJcbiAgICB6LWluZGV4OiAzO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDBweDtcclxuICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIC5zb2xhci1tYWRlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiAxNzJweDtcclxuICAgIG1heC13aWR0aDogMTc1cHg7XHJcbiAgICB6LWluZGV4OiAzO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDBweDtcclxuICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICBtYXJnaW4tdG9wOiAycHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1sYWJlbCB7XHJcbiAgICBjb2xvcjogIzZDNkM2QyAhaW1wb3J0YW50O1xyXG4gIH1cclxuICBcclxuICAuZXJyb3Ige1xyXG4gICAgY29sb3I6IHJnYigyMjMsIDYyLCA2Mik7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5zZWxlY3RfZGl2IHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRTFFMUUxO1xyXG4gIH1cclxuICBcclxuICBpb24tc2VsZWN0e1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwcHggIWltcG9ydGFudDtcclxuICB9XHJcbiAgaW5wdXRbdHlwZT1cImZpbGVcIl17XHJcbiAgICB2aXNpYmlsaXR5OmhpZGRlbjtcclxuICB9XHJcbiAgLmZvbnR7XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gICJdfQ== */\";","export default \".user-image {\\n  width: 50px;\\n  height: 50px;\\n  object-fit: cover;\\n  border-radius: 50%;\\n}\\n\\nion-range {\\n  --bar-background: #CBCBCB;\\n  --bar-background-active: #CBCBCB;\\n  --knob-background: #3c78d8;\\n  --knob-border-radius: 2px solid white;\\n  --knob-size: 20px;\\n  --knob-border-radius: 50%;\\n  --pin-color: #E1E1E1;\\n}\\n\\n.solar-data {\\n  position: absolute;\\n  margin-top: 50px;\\n  width: 146px;\\n  max-width: 150px;\\n  z-index: 3;\\n  margin-left: 0px;\\n  max-height: 200px;\\n  overflow: auto;\\n}\\n\\n.solar-made {\\n  position: absolute;\\n  width: 172px;\\n  max-width: 175px;\\n  z-index: 3;\\n  margin-left: 0px;\\n  max-height: 200px;\\n  overflow: auto;\\n  margin-top: 2px;\\n}\\n\\nion-label {\\n  color: #6C6C6C !important;\\n}\\n\\n.error {\\n  color: #df3e3e;\\n  font-size: 11px;\\n}\\n\\n.select_div {\\n  border-bottom: 1px solid #E1E1E1;\\n}\\n\\nion-select {\\n  max-width: 100% !important;\\n  width: 100% !important;\\n  padding-left: 0px !important;\\n}\\n\\ninput[type=file] {\\n  visibility: hidden;\\n}\\n\\n.font {\\n  font-size: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxkZXNpZ24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsZ0NBQUE7RUFDQSwwQkFBQTtFQUNBLHFDQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLG9CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0NBQUE7QUFDRjs7QUFFQTtFQUNFLDBCQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtBQUNGOztBQUNBO0VBQ0Usa0JBQUE7QUFFRjs7QUFBQTtFQUNFLGVBQUE7QUFHRiIsImZpbGUiOiJkZXNpZ24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlci1pbWFnZSB7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgaGVpZ2h0OiA1MHB4O1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuaW9uLXJhbmdlIHtcclxuICAtLWJhci1iYWNrZ3JvdW5kOiAjQ0JDQkNCO1xyXG4gIC0tYmFyLWJhY2tncm91bmQtYWN0aXZlOiAjQ0JDQkNCO1xyXG4gIC0ta25vYi1iYWNrZ3JvdW5kOiAjM2M3OGQ4O1xyXG4gIC0ta25vYi1ib3JkZXItcmFkaXVzOiAycHggc29saWQgd2hpdGU7XHJcbiAgLS1rbm9iLXNpemU6IDIwcHg7XHJcbiAgLS1rbm9iLWJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAtLXBpbi1jb2xvcjogI0UxRTFFMTtcclxufVxyXG5cclxuLnNvbGFyLWRhdGEge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBtYXJnaW4tdG9wOiA1MHB4O1xyXG4gIHdpZHRoOiAxNDZweDtcclxuICBtYXgtd2lkdGg6IDE1MHB4O1xyXG4gIHotaW5kZXg6IDM7XHJcbiAgbWFyZ2luLWxlZnQ6IDBweDtcclxuICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuLnNvbGFyLW1hZGUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB3aWR0aDogMTcycHg7XHJcbiAgbWF4LXdpZHRoOiAxNzVweDtcclxuICB6LWluZGV4OiAzO1xyXG4gIG1hcmdpbi1sZWZ0OiAwcHg7XHJcbiAgbWF4LWhlaWdodDogMjAwcHg7XHJcbiAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgbWFyZ2luLXRvcDogMnB4O1xyXG59XHJcblxyXG5pb24tbGFiZWwge1xyXG4gIGNvbG9yOiAjNkM2QzZDICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5lcnJvciB7XHJcbiAgY29sb3I6IHJnYigyMjMsIDYyLCA2Mik7XHJcbiAgZm9udC1zaXplOiAxMXB4O1xyXG59XHJcblxyXG4uc2VsZWN0X2RpdiB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFMUUxRTE7XHJcbn1cclxuXHJcbmlvbi1zZWxlY3R7XHJcbiAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICBwYWRkaW5nLWxlZnQ6IDBweCAhaW1wb3J0YW50O1xyXG59XHJcbmlucHV0W3R5cGU9XCJmaWxlXCJde1xyXG4gIHZpc2liaWxpdHk6aGlkZGVuO1xyXG59XHJcbi5mb250e1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuXHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SchedulePageRoutingModule } from './schedule-routing.module';\r\nimport { SchedulePage } from './schedule.page';\r\nimport { SurveyComponent } from './survey/survey.component';\r\nimport { DesignComponent } from './design/design.component';\r\nimport { UtilitiesModule } from '../utilities/utilities.module';\r\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\nimport { NativeGeocoder } from '@ionic-native/native-geocoder/ngx';\r\nimport { NumberOnlyDirective } from './number.directive';\r\nimport { Camera } from '@ionic-native/Camera/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport { SalesproposalComponent } from './salesproposal/salesproposal.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SchedulePageRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    UtilitiesModule,\r\n    SharedModule,\r\n    MatAutocompleteModule,\r\n    MatFormFieldModule,\r\n    MatInputModule\r\n  ],\r\n  declarations: [\r\n    SchedulePage,\r\n    SurveyComponent,\r\n    DesignComponent,\r\n    NumberOnlyDirective,\r\n    SalesproposalComponent\r\n  ],\r\n  providers: [\r\n    Diagnostic,\r\n    NativeGeocoder,\r\n    Camera,\r\n    File\r\n  ]\r\n})\r\nexport class SchedulePageModule {}\r\n","import { Component, OnDestroy, OnInit, ViewChild, Input } from '@angular/core';\r\nimport { AlertController, IonTabs, NavController, Platform, ToastController } from '@ionic/angular';\r\nimport { NativeGeocoder, NativeGeocoderOptions, NativeGeocoderResult } from '@ionic-native/native-geocoder/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { StorageService } from '../storage.service';\r\nimport { UtilitiesService } from '../utilities.service';\r\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\nimport { ActivatedRoute, Router, NavigationEnd, RoutesRecognized, NavigationStart } from '@angular/router';\r\nimport { ScheduleFormEvent } from '../model/constants';\r\nimport { Subscription } from 'rxjs';\r\nimport { AddressModel } from '../model/address.model';\r\n\r\nimport { NetworkdetectService } from '../networkdetect.service';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-schedule',\r\n  templateUrl: './schedule.page.html',\r\n  styleUrls: ['./schedule.page.scss'],\r\n})\r\nexport class SchedulePage implements OnInit, OnDestroy {\r\n\r\n  @ViewChild('tabs', { static: true }) tabs: IonTabs;\r\n\r\n\r\n  address = '';\r\n  currentTab = 'design';\r\n  tabsDisabled = false;\r\n\r\n  // Geocoder configuration\r\n  geoEncoderOptions: NativeGeocoderOptions = {\r\n    useLocale: true,\r\n    maxResults: 5\r\n  };\r\n\r\n  locationAllowed = false;\r\n  gpsActive = false;\r\n  private subscription: Subscription;\r\n  userdata:any;\r\n  netSwitch: boolean;\r\n  deactivateNetworkSwitch: Subscription;\r\n  designs: any;\r\n\r\n  constructor(\r\n    private navController: NavController,\r\n    private nativeGeocoder: NativeGeocoder,\r\n    private diagnostic: Diagnostic,\r\n    private geolocation: Geolocation,\r\n    private platform: Platform,\r\n    private storage: StorageService,\r\n    private utilities: UtilitiesService,\r\n    public router: Router,\r\n    private alertController: AlertController,\r\n    private toastController: ToastController,\r\n    private network:NetworkdetectService,\r\n    private location:Location\r\n  ) {\r\n\r\n\r\n    const url = this.router.url;\r\n    const splittedUrl = url.split('/');\r\n    console.log(splittedUrl);\r\n    this.tabsDisabled = splittedUrl.length === 4;\r\n    this.currentTab = splittedUrl[2];\r\n\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.deactivateNetworkSwitch = this.network.networkSwitch.subscribe(data=>{\r\n      this.netSwitch = data;\r\n      console.log(this.netSwitch);\r\n    })\r\n  }\r\n\r\nngOnInit() {\r\n\r\n  this.network.networkDisconnect();\r\nthis.network.networkConnect();\r\n\r\n   this.userdata = this.storage.getUser();\r\n    this.requestLocationPermission();\r\n    if (this.tabsDisabled) {\r\n      this.subscription = this.utilities.getStaticAddress().subscribe((address) => {\r\n        this.address = address;\r\n        this.storage.setData(this.address);\r\n      });\r\n    } else {\r\n      // await this.getGeoLocation();\r\n      this.subscription = this.utilities.getAddressObservable().subscribe((address) => {\r\n        console.log(address);\r\n        this.address = address.address;\r\n      this.storage.setData(this.address);\r\n      });\r\n    }\r\n     this.designs = this.utilities.getdesignDetails();\r\n  //console.log(this.designs.status);\r\n  }\r\n\r\n  goBack() {\r\n    this.navController.pop();\r\n    // this.location.back();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n    this.utilities.setStaticAddress('');\r\n    this.deactivateNetworkSwitch.unsubscribe();\r\n  }\r\n\r\n  segmentChanged(event) {\r\n    console.log(event);\r\n    this.currentTab = event.detail.value;\r\n    this.tabs.select(event.detail.value);\r\n  }\r\n\r\n  getGeoLocation() {\r\n    // this.utilities.showLoading('Getting Location').then(()=>{\r\n          // setTimeout(()=>{\r\n          //   this.utilities.hideLoading();\r\n          // },1000)\r\n      this.geolocation.getCurrentPosition().then((resp) => {\r\n        this.utilities.hideLoading();\r\n        // .then(()=>{\r\n          console.log('resp',resp);\r\n          this.getGeoEncoder(resp.coords.latitude, resp.coords.longitude);\r\n          this.utilities.hideLoading();\r\n        // });\r\n      },err=>{\r\n        this.utilities.hideLoading();\r\n        this.utilities.errorSnackBar('Unable to get location');\r\n      }).catch((error) => {\r\n        this.utilities.hideLoading();\r\n        this.utilities.errorSnackBar('Unable to get location');\r\n\r\n        console.log('Error getting location', error);\r\n        this.showNoLocation();\r\n      });\r\n    // },err=>{\r\n    //   this.utilities.hideLoading();\r\n    // });\r\n  }\r\n\r\n  async  showNoLocation() {\r\n    const toast = await this.toastController.create({\r\n      header: 'Error',\r\n      message: 'Unable to get location',\r\n      cssClass: 'my-custom-class',\r\n      buttons: [\r\n        {\r\n          text: 'OK',\r\n          handler: () => {\r\n            this.goBack();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n\r\n  async showLocationDenied() {\r\n    const toast = await this.toastController.create({\r\n      header: 'Error',\r\n      message: 'Location services denied, please enable them manually',\r\n      cssClass: 'my-custom-class',\r\n      buttons: [\r\n        {\r\n          text: 'OK',\r\n          handler: () => {\r\n            this.goBack();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  getGeoEncoder(latitude, longitude) {\r\n    // this.utilities.hideLoading().then((success) => {\r\n          this.utilities.showLoading('Getting Location').then(()=>{\r\n      this.nativeGeocoder.reverseGeocode(latitude, longitude, this.geoEncoderOptions)\r\n      .then((result: NativeGeocoderResult[]) => {\r\n        console.log(result);\r\n        this.utilities.hideLoading();\r\n            const address: AddressModel = {\r\n              address: this.generateAddress(result[0]),\r\n              lat: latitude,\r\n              long: longitude,\r\n              country:result[0].countryName,\r\n              state: result[0].administrativeArea,\r\n              city:result[0].locality,\r\n              postalcode:result[0].postalCode\r\n            };\r\n            this.utilities.setAddress(address);\r\n          })\r\n          .catch((error: any) => {\r\n            this.showNoLocation();\r\n            this.utilities.hideLoading();\r\n            alert('Error getting location' + JSON.stringify(error));\r\n          });\r\n        });\r\n      // }, (error) => {\r\n\r\n      // }\r\n    // );\r\n  }\r\n\r\n  generateAddress(addressObj) {\r\n    const obj = [];\r\n    let address = '';\r\n    for (const key in addressObj) {\r\n      obj.push(addressObj[key]);\r\n    }\r\n    obj.reverse();\r\n    for (const val in obj) {\r\n      if (obj[val].length) {\r\n        address += obj[val] + ', ';\r\n      }\r\n    }\r\n    return address.slice(0, -2);\r\n  }\r\n\r\n  requestLocationPermission() {\r\n    this.diagnostic.requestLocationAuthorization(this.diagnostic.locationAuthorizationMode.WHEN_IN_USE).then((mode) => {\r\n      console.log(mode);\r\n      switch (mode) {\r\n        case this.diagnostic.permissionStatus.NOT_REQUESTED:\r\n          this.goBack();\r\n          break;\r\n        case this.diagnostic.permissionStatus.DENIED_ALWAYS:\r\n          this.showLocationDenied();\r\n          break;\r\n        case this.diagnostic.permissionStatus.DENIED_ONCE:\r\n          this.goBack();\r\n          break;\r\n        case this.diagnostic.permissionStatus.GRANTED:\r\n          this.fetchLocation();\r\n          break;\r\n        case this.diagnostic.permissionStatus.GRANTED_WHEN_IN_USE:\r\n          this.fetchLocation();\r\n          break;\r\n        case 'authorized_when_in_use':\r\n          this.fetchLocation();\r\n          break;\r\n      }\r\n    }, (rejection) => {\r\n      console.log(rejection);\r\n      // this.goBack();\r\n    });\r\n\r\n    // if (this.platform.is('ios')) {\r\n    //   if (this.storage.isLocationAllowedOnIOS()) {\r\n    //     this.fetchLocation();\r\n    //   } else {\r\n    //     if (!this.storage.isLocationCheckedOnIOS()) {\r\n    //       this.storage.setLocationCheckedOnIOS(true);\r\n    //       this.diagnostic.requestLocationAuthorization(this.diagnostic.locationAuthorizationMode.WHEN_IN_USE).then((mode) => {\r\n    //         switch (mode) {\r\n    //           case this.diagnostic.permissionStatus.NOT_REQUESTED:\r\n    //             this.storage.setLocationAllowedOnIOS(false);\r\n    //             break;\r\n    //           case this.diagnostic.permissionStatus.DENIED_ALWAYS:\r\n    //             this.storage.setLocationAllowedOnIOS(false);\r\n    //             break;\r\n    //           case this.diagnostic.permissionStatus.GRANTED:\r\n    //             this.storage.setLocationAllowedOnIOS(true);\r\n    //             this.fetchLocation();\r\n    //             break;\r\n    //           case this.diagnostic.permissionStatus.GRANTED_WHEN_IN_USE:\r\n    //             this.storage.setLocationAllowedOnIOS(true);\r\n    //             this.fetchLocation();\r\n    //             break;\r\n    //           case 'authorized_when_in_use':\r\n    //             this.storage.setLocationAllowedOnIOS(true);\r\n    //             this.fetchLocation();\r\n    //             break;\r\n    //         }\r\n    //       }, (rejection) => {\r\n    //         this.locationAllowed = false;\r\n    //         this.storage.setLocationAllowedOnIOS(false);\r\n    //       });\r\n    //     }\r\n    //   }\r\n    // } else {\r\n    //\r\n    // }\r\n\r\n  }\r\n\r\n  fetchLocation() {\r\n    if (this.platform.is('ios')) {\r\n      this.getGeoLocation();\r\n    } else {\r\n      this.diagnostic.isGpsLocationEnabled().then((status) => {\r\n        if (status === true) {\r\n          this.getGeoLocation();\r\n          // this.utilities.showLoading('Getting Location').then(() => {\r\n\r\n          // });\r\n        } else {\r\n          this.askToChangeSettings();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  async askToChangeSettings() {\r\n    const toast = await this.toastController.create({\r\n      header: 'Location Disabled',\r\n      message: 'Please enable location services',\r\n      cssClass: 'my-custom-class',\r\n      buttons: [\r\n        {\r\n          text: 'OK',\r\n          handler: () => {\r\n            this.changeLocationSettings();\r\n          }\r\n        }, {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            this.goBack();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  changeLocationSettings() {\r\n    this.diagnostic.switchToLocationSettings();\r\n    this.diagnostic.registerLocationStateChangeHandler((state) => {\r\n      if ((this.platform.is('android') && state !== this.diagnostic.locationMode.LOCATION_OFF) ||\r\n        (this.platform.is('ios')) && (state === this.diagnostic.permissionStatus.GRANTED ||\r\n          state === this.diagnostic.permissionStatus.GRANTED_WHEN_IN_USE\r\n        )) {\r\n        this.checkLocationAccess();\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  checkLocationAccess() {\r\n    this.diagnostic.isLocationAuthorized().then((success) => {\r\n      this.fetchLocation();\r\n    }, (error) => {\r\n      this.utilities.showSnackBar('GPS Not Allowed');\r\n    });\r\n\r\n  }\r\n\r\n  goTo() {\r\n    this.router.navigate(['/mappage']);\r\n  }\r\n\r\n\r\n  saveDesignForm() {\r\n    console.log('posting value');\r\n    console.log(this.router.url);\r\n    if(this.router.url=='/schedule/design'){\r\n    this.utilities.setScheduleFormEvent(ScheduleFormEvent.SAVE_DESIGN_FORM);\r\n    }\r\n    else\r\n    {\r\n      this.utilities.setScheduleFormEvent(ScheduleFormEvent.SAVE_SALES_FORM);\r\n    }\r\n  }\r\n\r\n  saveSurveyForm() {\r\n    console.log('posting value');\r\n    this.utilities.setScheduleFormEvent(ScheduleFormEvent.SAVE_SURVEY_FORM);\r\n  }\r\n\r\n  startSurvey() {\r\n    console.log('posting value');\r\n    this.utilities.setScheduleFormEvent(ScheduleFormEvent.START_SURVEY);\r\n  }\r\n\r\n  sendDesignForm(){\r\n    if(this.router.url=='/schedule/design'){\r\n     this.utilities.setScheduleFormEvent(ScheduleFormEvent.SEND_DESIGN_FORM);\r\n  }\r\n  else{\r\n    this.utilities.setScheduleFormEvent(ScheduleFormEvent.SEND_SALES_FORM);\r\n  }\r\n}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SchedulePage } from './schedule.page';\r\nimport { DesignComponent } from './design/design.component';\r\nimport { SurveyComponent } from './survey/survey.component';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { NativeGeocoder } from '@ionic-native/native-geocoder/ngx';\r\nimport { SalesproposalComponent } from './salesproposal/salesproposal.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SchedulePage,\r\n    children: [\r\n      {\r\n        path: 'design/:id',\r\n        component: DesignComponent\r\n      },\r\n      {\r\n        path: 'design',\r\n        component: DesignComponent\r\n      },\r\n      {\r\n        path: 'survey/:id',\r\n        component: SurveyComponent\r\n      },\r\n      {\r\n        path: 'survey',\r\n        component: SurveyComponent\r\n      },\r\n      {\r\n        path: 'salesproposal',\r\n        component: SalesproposalComponent\r\n      },\r\n      {\r\n        path: 'salesproposal/:id',\r\n        component: SalesproposalComponent\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: 'design',\r\n        pathMatch: 'full'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n  providers: [\r\n    Geolocation\r\n  ]\r\n})\r\nexport class SchedulePageRoutingModule { }\r\n","export default \"<ion-content class=\\\"ion-padding-start ion-padding-end ion-padding-bottom\\\" style=\\\"height:650px\\\">\\r\\n<form [formGroup]=\\\"desginForm\\\" novalidate style=\\\"overflow:scroll\\\">\\r\\n    <ion-grid style=\\\"position: relative;\\\">\\r\\n        <!-- <ion-row *ngIf=\\\"address !== ''\\\">\\r\\n            <ion-col>\\r\\n                {{address}}\\r\\n            </ion-col>\\r\\n        \\r\\n        </ion-row>\\r\\n        <ion-row *ngIf=\\\"address == ''\\\">\\r\\n            <ion-col>\\r\\n            Address not found.\\r\\n            </ion-col>\\r\\n        \\r\\n        </ion-row> -->\\r\\n        <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\" *ngIf=\\\"userdata.role.type=='wattmonkadmins' || userdata.role.type=='superadmin'\\\">\\r\\n       <ion-col>\\r\\n            <ion-item class=\\\"ion-no-padding\\\">\\r\\n                           \\r\\n                            <ion-label position=\\\"floating\\\">Company Name</ion-label>\\r\\n                            <ion-select  (ionChange)=\\\"onCompanyChanged($event)\\\" class=\\\"form_input select_div\\\"\\r\\n                                        ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                                        formControlName=\\\"companyname\\\" interface=\\\"popover\\\" >\\r\\n                                <ion-select-option *ngFor=\\\"let company of getCompanies\\\" [value]=\\\"company\\\">{{company.companyname}}</ion-select-option>\\r\\n                               \\r\\n                            </ion-select>\\r\\n                        </ion-item>\\r\\n                        <!-- <mat-form-field style=\\\"width: 100%; height: 45px;\\\" class=\\\"ion-no-padding\\\">\\r\\n                            <mat-label style=\\\"font-size: smaller;color: #6C6C6C;\\\">Company Name</mat-label>\\r\\n                            <input [(ngModel)]=\\\"proxyValue\\\" type=\\\"text\\\" class=\\\"form_input font-size\\\" matInput [matAutocomplete]=\\\"auto11\\\" formControlName=\\\"companyname\\\">\\r\\n                            <mat-autocomplete #auto11=\\\"matAutocomplete\\\" (optionSelected)=\\\"onCompanyChanged($event)\\\">\\r\\n                              <mat-option *ngFor=\\\"let company of filteredCompanies | async\\\" [value]=\\\"company\\\"\\r\\n                              class=\\\"font\\\">{{company.companyname}}</mat-option>\\r\\n                            </mat-autocomplete>\\r\\n                          </mat-form-field>\\r\\n                      <div style=\\\"height: 5px;\\\">\\r\\n                          <div *ngIf=\\\"desginForm.get('companyname').hasError('pattern') && desginForm.get('companyname').dirty\\\">\\r\\n                              <span class=\\\"error\\\">{{companyError}}</span>\\r\\n                          </div>\\r\\n                      </div> -->\\r\\n                    </ion-col>\\r\\n            <!-- <ion-col size=\\\"12\\\">\\r\\n                <mat-form-field style=\\\"width: 100%; height: 45px;\\\" class=\\\"ion-no-padding\\\">\\r\\n                    <mat-label style=\\\"font-size: smaller;color: #6C6C6C;\\\">Company Name</mat-label>\\r\\n                    <input [(ngModel)]=\\\"proxyValue\\\" type=\\\"text\\\" class=\\\"form_input font-size\\\" matInput [matAutocomplete]=\\\"auto11\\\" formControlName=\\\"companyname\\\">\\r\\n                    <mat-autocomplete #auto11=\\\"matAutocomplete\\\" (optionSelected)=\\\"onCompanyChanged($event)\\\">\\r\\n                      <mat-option *ngFor=\\\"let company of filteredCompanies | async\\\" [value]=\\\"company\\\"\\r\\n                      class=\\\"font\\\">{{company.companyname}}</mat-option>\\r\\n                    </mat-autocomplete>\\r\\n                  </mat-form-field>\\r\\n              <div style=\\\"height: 5px;\\\">\\r\\n                  <div *ngIf=\\\"desginForm.get('companyname').hasError('pattern') && desginForm.get('companyname').dirty\\\">\\r\\n                      <span class=\\\"error\\\">{{companyError}}</span>\\r\\n                  </div>\\r\\n              </div>\\r\\n            </ion-col> -->\\r\\n            \\r\\n          </ion-row >\\r\\n        <ion-row >\\r\\n            <ion-col>\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label position=\\\"floating\\\">name*</ion-label>\\r\\n                    <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n                                formControlName=\\\"name\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <div style=\\\"height: 5px;\\\">\\r\\n                    <div *ngIf=\\\"desginForm.get('name').hasError('pattern') && desginForm.get('name').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{nameError}}</span>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"desginForm.get('name').value === '' && desginForm.get('name').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n            <ion-col>\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label position=\\\"floating\\\">email*</ion-label>\\r\\n                    <ion-input class=\\\"form_input\\\" type=\\\"email\\\" autocapitalize=\\\"none\\\" autocomplete=\\\"off\\\"\\r\\n                                formControlName=\\\"email\\\" [disabled]=\\\"fieldDisabled\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <div style=\\\"height: 5px;\\\">\\r\\n                    <div *ngIf=\\\"desginForm.get('email').hasError('pattern') && desginForm.get('email').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{emailError}}</span>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"desginForm.get('email').value === '' && desginForm.get('email').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n            <ion-col>\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label position=\\\"floating\\\">annual units (Kwh)*</ion-label>\\r\\n                    <ion-input class=\\\"form_input\\\"  type=\\\"tel\\\" (ionInput)=\\\"numberfield($event)\\\"\\r\\n                                formControlName=\\\"monthlybill\\\" maxLength=\\\"5\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <div style=\\\"height: 5px;\\\">\\r\\n                    <div *ngIf=\\\"desginForm.get('monthlybill').dirty && desginForm.get('monthlybill').hasError('pattern')\\\">\\r\\n                        <span class=\\\"error\\\">{{\\\"Annual units should be a valid number\\\"}}</span>\\r\\n                    </div>\\r\\n                    <!-- <div *ngIf=\\\"desginForm.get('monthlybill').hasError('pattern') && desginForm.get('monthlybill').dirty\\\">\\r\\n                        <span class=\\\"error\\\">{{annualunitError}}</span>\\r\\n                    </div> -->\\r\\n                </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <!-- Address -->\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item class=\\\"ion-no-padding\\\">\\r\\n                <ion-label position=\\\"floating\\\" class=\\\"label\\\">Address*</ion-label>\\r\\n                <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n                            formControlName=\\\"address\\\" autocomplete=\\\"off\\\"  (ionChange)=\\\"updateSearchResults($event)\\\"\\r\\n                            (ionClear)=\\\"onCancel()\\\" debounce=\\\"300\\\"\\r\\n                            (ionFocus)=\\\"forAutoComplete($event)\\\" (ionBlur)=\\\"onBlur()\\\"></ion-input>\\r\\n            </ion-item>\\r\\n            <!-- <ion-item class=\\\"ion-no-padding\\\">\\r\\n              <ion-label position=\\\"floating\\\" class=\\\"label\\\">Shipping Address*</ion-label>\\r\\n              <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n                          formControlName=\\\"shippingaddress\\\" autocomplete=\\\"off\\\"></ion-input>\\r\\n          </ion-item> -->\\r\\n            <!-- <ion-list *ngIf=\\\"autocompleteItems.length > 0 && autoCompleteOff\\\"> -->\\r\\n                <ion-list>\\r\\n              <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"selectSearchResult(item)\\\">\\r\\n                  <ion-label>\\r\\n                      {{ item.description }}\\r\\n                  </ion-label>\\r\\n              </ion-item>\\r\\n          </ion-list>\\r\\n          <div style=\\\"height: 5px;\\\">\\r\\n            <div *ngIf=\\\"desginForm.get('address').hasError('pattern') && desginForm.get('address').dirty\\\">\\r\\n                <span class=\\\"error\\\">{{addressError}}</span>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"desginForm.get('address').value === '' && desginForm.get('address').dirty\\\">\\r\\n                <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n        \\r\\n          <!-- <ion-item *ngIf=\\\"autocompleteItems.length === 0\\\" lines=\\\"none\\\">\\r\\n              <ion-label class=\\\"ion-text-center\\\">\\r\\n                  Search for address\\r\\n              </ion-label>\\r\\n          </ion-item> -->\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n        <!-- <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-col>\\r\\n                <ion-range [min]=\\\"minRange\\\" [max]=\\\"maxRange\\\" formControlName=\\\"monthlybill\\\" mode=\\\"ios\\\" pin=\\\"true\\\"\\r\\n                            class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label slot=\\\"start\\\">{{minRange | currency :'USD':'symbol':'1.0-0'}}</ion-label>\\r\\n                    <ion-label slot=\\\"end\\\">{{maxRange | currency :'USD':'symbol':'1.0-0'  }} <span style=\\\"color:red\\\">*</span></ion-label>\\r\\n                    \\r\\n                </ion-range>\\r\\n                \\r\\n            </ion-col>\\r\\n        </ion-row> -->\\r\\n\\r\\n        <ion-row>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <!-- <ion-label position=\\\"floating\\\">module make*</ion-label> -->\\r\\n                <app-auto-complete #myinput style=\\\"font-size: 14px;\\\" [dataList]=\\\"listOfSolarMake\\\"\\r\\n              formControlName=\\\"solarmake\\\"><ion-label position=\\\"floating\\\" >Module make*</ion-label></app-auto-complete>\\r\\n\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <!-- <ion-label position=\\\"floating\\\">module model*</ion-label> -->\\r\\n                <app-auto-complete style=\\\"font-size: 14px;\\\"  [dataList]=\\\"listOfSolarMade\\\" \\r\\n                                    formControlName=\\\"solarmodel\\\" ><ion-label position=\\\"floating\\\" >Module model*</ion-label></app-auto-complete>\\r\\n\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <!-- <ion-label position=\\\"floating\\\">inverter make*</ion-label> -->\\r\\n                <app-auto-complete style=\\\"font-size: 12px;\\\" [dataList]=\\\"listOfInverterMake\\\" \\r\\n                                    formControlName=\\\"invertermake\\\"><ion-label position=\\\"floating\\\" >Inverter make*</ion-label></app-auto-complete>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <!-- <ion-label position=\\\"floating\\\">invertor model*</ion-label> -->\\r\\n                <app-auto-complete style=\\\"font-size: 10px;\\\" [dataList]=\\\"listOfInverterMade\\\" \\r\\n                                    formControlName=\\\"invertermodel\\\" ><ion-label position=\\\"floating\\\" >Inverter model*</ion-label></app-auto-complete>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label style=\\\"display: none;\\\">project type*</ion-label>\\r\\n                    <ion-label position=\\\"floating\\\">Project type*</ion-label>\\r\\n                    <!-- <ion-label style=\\\"display: none;\\\">Project Type</ion-label> -->\\r\\n                    <!-- <ion-label position=\\\"floating\\\">project type</ion-label> -->\\r\\n                    <ion-select class=\\\"form_input\\\" ok-text=\\\"\\\" \\r\\n                                cancel-text=\\\"\\\"\\r\\n                                formControlName=\\\"projecttype\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option value=\\\"residential\\\">Residential</ion-select-option>\\r\\n                        <ion-select-option value=\\\"commercial\\\">Commercial</ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-item>\\r\\n\\r\\n            </ion-col>\\r\\n        \\r\\n            <!-- <ion-col size=\\\"6\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label style=\\\"display: none;\\\">Job Type</ion-label>\\r\\n                    <ion-select class=\\\"form_input select_div\\\" placeholder=\\\"job type\\\"\\r\\n                                ok-text=\\\"\\\"\\r\\n                                cancel-text=\\\"\\\"\\r\\n                                formControlName=\\\"jobtype\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option value=\\\"pvbattery\\\">PV+Battery</ion-select-option>\\r\\n                        <ion-select-option value=\\\"battery\\\">Battery</ion-select-option>\\r\\n                        <ion-select-option value=\\\"pv\\\">PV</ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-item>\\r\\n            </ion-col> -->\\r\\n            <ion-col size=\\\"6\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label position=\\\"floating\\\">New Construction*</ion-label>\\r\\n                    \\r\\n                    <!-- <ion-label style=\\\"display: none;\\\">New construction</ion-label> -->\\r\\n                    <!-- <ion-label position=\\\"floating\\\">new construction</ion-label> -->\\r\\n                    <ion-select  (ionChange)=\\\"showUpload($event)\\\" class=\\\"form_input select_div\\\" \\r\\n                                    ok-text=\\\"\\\"\\r\\n                                cancel-text=\\\"\\\"\\r\\n                                formControlName=\\\"newconstruction\\\" interface=\\\"popover\\\" value=\\\"false\\\"  >\\r\\n                        <ion-select-option  value=\\\"true\\\">Yes</ion-select-option>\\r\\n                        <ion-select-option  value=\\\"false\\\">No</ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\r\\n        \\r\\n            <ion-col size=\\\"12\\\">\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label style=\\\"display: none;\\\">Mounting Type*</ion-label>\\r\\n                    <ion-label position=\\\"floating\\\">Mounting Type*</ion-label>\\r\\n                    <!-- <ion-label position=\\\"floating\\\">mounting type</ion-label> -->\\r\\n                    <ion-select class=\\\"form_input select_div\\\" (ionChange)=\\\"eventcheck($event)\\\" \\r\\n                                ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                                formControlName=\\\"mountingtype\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option value=\\\"roof\\\">Roof</ion-select-option>\\r\\n                        <ion-select-option value=\\\"ground\\\">Ground</ion-select-option>\\r\\n                        <ion-select-option value=\\\"both\\\">Both</ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        \\r\\n        <!-- condition base roof type-->\\r\\n        <ion-row>\\r\\n            <ion-col size=\\\"6\\\" *ngIf='(showValue==\\\"roof\\\" ||showValue== \\\"both\\\")'>\\r\\n                <ion-item class=\\\"ion-no-padding\\\">\\r\\n                    <ion-label style=\\\"display: none;\\\">Roof Type</ion-label>\\r\\n                    <ion-label position=\\\"floating\\\">Roof type*</ion-label>\\r\\n                    <ion-select class=\\\"form_input select_div\\\"\\r\\n                                ok-text=\\\"\\\" cancel-text=\\\"\\\"\\r\\n                                formControlName=\\\"rooftype\\\" interface=\\\"popover\\\">\\r\\n                        <ion-select-option value=\\\"flat\\\">Flat</ion-select-option>\\r\\n                        <ion-select-option value=\\\"pitch\\\">Pitch</ion-select-option>\\r\\n                        <ion-select-option value=\\\"both\\\">Both</ion-select-option>\\r\\n                    </ion-select>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\" *ngIf='(showValue==\\\"ground\\\" || showValue==\\\"both\\\")'>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-label position=\\\"floating\\\" style=\\\"font-size: 13px;\\\">Tilt for ground mount*</ion-label>\\r\\n                        <ion-input class=\\\"form_input\\\"  type=\\\"tel\\\" formControlName=\\\"tiltofgroundmountingsystem\\\" maxlength=\\\"5\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <div style=\\\"height: 5px;\\\">\\r\\n                        <div *ngIf=\\\"desginForm.get('tiltofgroundmountingsystem').dirty && desginForm.get('tiltofgroundmountingsystem').hasError('pattern')\\\">\\r\\n                            <span class=\\\"error\\\">{{\\\"It should be a valid number\\\"}}</span>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"desginForm.get('tiltofgroundmountingsystem').hasError('pattern') && desginForm.get('tiltofgroundmountingsystem').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{tiltforgroundError}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n            <!--upload box-->\\r\\n<ion-row *ngIf='uploadbox==\\\"true\\\"'>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n\\r\\n        <ng-container>\\r\\n            <ion-item class=\\\"ion-no-padding\\\" (click)=\\\"f.click()\\\">\\r\\n                <ion-label position=\\\"floating\\\">Architectural design*</ion-label>\\r\\n                    <input type=\\\"file\\\" #f class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" multiple>\\r\\n                    <ion-icon name=\\\"attach-outline\\\" slot=\\\"end\\\" style=\\\"margin-top:21px\\\"></ion-icon>\\r\\n                </ion-item>\\r\\n                <div *ngFor=\\\"let file of archFiles;let i = index\\\">\\r\\n                    <ion-item>\\r\\n                        <ion-col size=\\\"11\\\">\\r\\n                            {{file.name}}\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"1\\\" (click)=\\\"removeArc(i)\\\">x</ion-col>\\r\\n                    </ion-item>\\r\\n                </div>\\r\\n                </ng-container>\\r\\n        <!-- <ion-item class=\\\"ion-no-padding\\\"> -->\\r\\n            <!-- <ion-input class=\\\"form_input\\\" type=\\\"file\\\" placeholder=\\\"Upload Architectural design\\\" \\r\\n                    (ionChange)=\\\"files($event)\\\"  multiple></ion-input> -->\\r\\n                    <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label>\\r\\n                    <p style=\\\"margin-top: 10px;\\\" *ngFor=\\\"let architecture of architecturalData;let i=index\\\"><ion-row style=\\\"display:flex;align-items: flex-end;\\\" ><ion-col style=\\\"display:flex;align-items: flex-end;\\\"><ion-label style=\\\"-webkit-text-stroke: thin;\\\" *ngIf=\\\"architecture.value!=''\\\" position=\\\"floating\\\">{{architecture?.name}}</ion-label></ion-col>\\r\\n                        <ion-col style=\\\"display:flex;align-items: flex-end;\\\"> <ion-icon name=\\\"close-circle-outline\\\" *ngIf=\\\"architecture.name!=''\\\" (click)=\\\"remove(architecture,architecture?.id)\\\"></ion-icon></ion-col></ion-row></p>\\r\\n                    <ion-input type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" placeholder=\\\"Upload Architectural design\\\" multiple></ion-input>\\r\\n                </ion-item> -->\\r\\n                \\r\\n            </ion-col>\\r\\n                         <!-- <ion-item> -->\\r\\n                         <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label> -->\\r\\n                                <ng-container *ngIf=\\\"design && design.architecturaldesign !==null\\\">\\r\\n                                    <div *ngFor=\\\"let arc of design.architecturaldesign; let i = index\\\">\\r\\n                                       <ion-item>\\r\\n                                           <ion-col size=\\\"11\\\"> {{arc.name}}{{arc.ext}}</ion-col>\\r\\n                                           <ion-col size=\\\"1\\\" (click)=\\\"remove(arc, i)\\\">x</ion-col>\\r\\n                                          \\r\\n      \\r\\n                                       </ion-item>\\r\\n                                   \\r\\n                                       \\r\\n                                   </div> \\r\\n                                </ng-container>\\r\\n                         <!-- </ion-item> -->\\r\\n    \\r\\n</ion-row>\\r\\n\\r\\n            <ion-row>\\r\\n                <ion-col size=\\\"12\\\">\\r\\n                    <ng-container>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\" (click)=\\\"d.click()\\\">\\r\\n                    <ion-label position=\\\"floating\\\">Attachments</ion-label>\\r\\n                   \\r\\n                               \\r\\n                                <input #d type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"prelimfiles($event)\\\" style=\\\"margin-top: 12px;\\\" formArrayName=\\\"architecturaldesign\\\" multiple>\\r\\n                                <ion-icon name=\\\"attach-outline\\\" slot=\\\"end\\\" style=\\\"margin-top:21px\\\"></ion-icon>\\r\\n                            </ion-item>\\r\\n                            <div *ngFor=\\\"let file of prelimFiles;let i = index\\\">\\r\\n                                <ion-item>\\r\\n                                    <ion-col size=\\\"11\\\">\\r\\n                                        {{file.name}}\\r\\n                                    </ion-col>\\r\\n                                    <ion-col size=\\\"1\\\" (click)=\\\"removePrelim(i)\\\">x</ion-col>\\r\\n                                </ion-item>\\r\\n                            </div>\\r\\n                            </ng-container>\\r\\n                    <!-- <ion-item class=\\\"ion-no-padding\\\"> -->\\r\\n                        <!-- <ion-input class=\\\"form_input\\\" type=\\\"file\\\" placeholder=\\\"Upload Architectural design\\\" \\r\\n                                (ionChange)=\\\"files($event)\\\"  multiple></ion-input> -->\\r\\n                                <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label>\\r\\n                                <p style=\\\"margin-top: 10px;\\\" *ngFor=\\\"let architecture of architecturalData;let i=index\\\"><ion-row style=\\\"display:flex;align-items: flex-end;\\\" ><ion-col style=\\\"display:flex;align-items: flex-end;\\\"><ion-label style=\\\"-webkit-text-stroke: thin;\\\" *ngIf=\\\"architecture.value!=''\\\" position=\\\"floating\\\">{{architecture?.name}}</ion-label></ion-col>\\r\\n                                    <ion-col style=\\\"display:flex;align-items: flex-end;\\\"> <ion-icon name=\\\"close-circle-outline\\\" *ngIf=\\\"architecture.name!=''\\\" (click)=\\\"remove(architecture,architecture?.id)\\\"></ion-icon></ion-col></ion-row></p>\\r\\n                                <ion-input type=\\\"file\\\"  class=\\\"form_input\\\"  (change)=\\\"files($event)\\\" style=\\\"margin-top: 12px;\\\" formControlName=\\\"architecturaldesign\\\" placeholder=\\\"Upload Architectural design\\\" multiple></ion-input>\\r\\n                            </ion-item> -->\\r\\n                            \\r\\n                        </ion-col>\\r\\n                                     <!-- <ion-item> -->\\r\\n                                     <!-- <ion-label position=\\\"floating\\\">architectural design*</ion-label> -->\\r\\n                                            <ng-container *ngIf=\\\"design && design.attachments !==null\\\">\\r\\n                                                <div *ngFor=\\\"let arc of design.attachments;let i=index\\\">\\r\\n                                                   <ion-item>\\r\\n                                                       <ion-col size=\\\"11\\\"> {{arc.name}}{{arc.ext}}</ion-col>\\r\\n                                                       <ion-col size=\\\"1\\\" (click)=\\\"removeattachment(arc,i)\\\">x</ion-col>\\r\\n                                                      \\r\\n                  \\r\\n                                                   </ion-item>\\r\\n                                               \\r\\n                                                   \\r\\n                                               </div> \\r\\n                                            </ng-container>\\r\\n            </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-label position=\\\"floating\\\">Comments</ion-label></ion-row>\\r\\n           <ion-row class=\\\"ion-margin-top\\\"> <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n                <ion-textarea class=\\\"ion-no-margin ion-no-padding comment_box\\\" rows=\\\"3\\\"\\r\\n                                formControlName=\\\"comments\\\"></ion-textarea>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n<!-- \\r\\n        <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-col>\\r\\n                <ion-item class=\\\" ion-no-padding no-border\\\" lines=\\\"none\\\" style=\\\"padding: 30px 0px;\\\">\\r\\n                    <app-user-selector style=\\\"overflow:scroll;\\\" placeholder=\\\"assign\\\" [assignees]=\\\"listOfAssignees\\\"\\r\\n                                        formControlName=\\\"assignedto\\\"></app-user-selector>\\r\\n                </ion-item>\\r\\n            </ion-col>\\r\\n        </ion-row> -->\\r\\n    </ion-grid>\\r\\n</form>\\r\\n\\r\\n</ion-content>\\r\\n\";","import {\r\n  Directive,\r\n  ElementRef,\r\n  HostListener\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[numberOnly]'\r\n})\r\nexport class NumberOnlyDirective {\r\n  // Allow decimal numbers and negative values\r\n  private regex: RegExp = new RegExp(/^[0-9]+(\\.[0-9]*){0,1}$/g);\r\n  // Allow key codes for special events. Reflect :\r\n  // Backspace, tab, end, home\r\n  private specialKeys: Array < string > = ['Backspace', 'Tab', 'End', 'Home', '-'];\r\n\r\n  constructor(private el: ElementRef) {}\r\n  @HostListener('keydown', ['$event'])\r\n  onKeyDown(event: KeyboardEvent) {\r\n    // Allow Backspace, tab, end, and home keys\r\n    if (this.specialKeys.indexOf(event.key) !== -1) {\r\n      return;\r\n    }\r\n    const current: string = this.el.nativeElement.value;\r\n    const next: string = current.concat(event.key);\r\n    if (next && !String(next).match(this.regex)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport * as ngcc0 from '@angular/core';\nvar NativeGeocoder = /** @class */ (function (_super) {\n    __extends(NativeGeocoder, _super);\n    function NativeGeocoder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NativeGeocoder.prototype.reverseGeocode = function (latitude, longitude, options) { return cordova(this, \"reverseGeocode\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    NativeGeocoder.prototype.forwardGeocode = function (addressString, options) { return cordova(this, \"forwardGeocode\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    NativeGeocoder.pluginName = \"NativeGeocoder\";\n    NativeGeocoder.plugin = \"cordova-plugin-nativegeocoder\";\n    NativeGeocoder.pluginRef = \"nativegeocoder\";\n    NativeGeocoder.repo = \"https://github.com/sebastianbaar/cordova-plugin-nativegeocoder\";\n    NativeGeocoder.platforms = [\"iOS\", \"Android\"];\nNativeGeocoder.fac = function NativeGeocoder_Factory(t) { return NativeGeocoder_BaseFactory(t || NativeGeocoder); };\nNativeGeocoder.prov = ngcc0.defineInjectable({ token: NativeGeocoder, factory: function (t) { return NativeGeocoder.fac(t); } });\nvar NativeGeocoder_BaseFactory = /*@__PURE__*/ ngcc0.getInheritedFactory(NativeGeocoder);\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(NativeGeocoder, [{\n        type: Injectable\n    }], null, null); })();\n    return NativeGeocoder;\n}(IonicNativePlugin));\nexport { NativeGeocoder };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvbmF0aXZlLWdlb2NvZGVyL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDOztBQUN4RTtBQUlVLElBbUMwQixrQ0FBaUI7QUFBQztBQUU5QjtBQUNKO0FBQU0sSUFReEIsdUNBQWMsYUFDWixRQUFnQixFQUNoQixTQUFpQixFQUNqQixPQUErQjtBQU1SLElBUXpCLHVDQUFjLGFBQUMsYUFBcUIsRUFBRSxPQUErQjtBQU16QztBQUV6QjtBQUE2RDtBQUN4QjtBQUlsQztrREExQ1AsVUFBVTs7Ozs7MEJBQ0w7QUFBQyx5QkF6Q1A7QUFBRSxFQXlDa0MsaUJBQWlCO0FBQ3BELFNBRFksY0FBYztBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbi8qKlxuICogQG5hbWUgTmF0aXZlIEdlb2NvZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvcmRvdmEgcGx1Z2luIGZvciBuYXRpdmUgZm9yd2FyZCBhbmQgcmV2ZXJzZSBnZW9jb2RpbmdcbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IE5hdGl2ZUdlb2NvZGVyLCBOYXRpdmVHZW9jb2RlclJlc3VsdCwgTmF0aXZlR2VvY29kZXJPcHRpb25zIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9uYXRpdmUtZ2VvY29kZXIvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdGl2ZUdlb2NvZGVyOiBOYXRpdmVHZW9jb2RlcikgeyB9XG4gKlxuICogLi4uXG4gKlxuICogbGV0IG9wdGlvbnM6IE5hdGl2ZUdlb2NvZGVyT3B0aW9ucyA9IHtcbiAqICAgICB1c2VMb2NhbGU6IHRydWUsXG4gKiAgICAgbWF4UmVzdWx0czogNVxuICogfTtcbiAqXG4gKiB0aGlzLm5hdGl2ZUdlb2NvZGVyLnJldmVyc2VHZW9jb2RlKDUyLjUwNzIwOTUsIDEzLjE0NTI4MTgsIG9wdGlvbnMpXG4gKiAgIC50aGVuKChyZXN1bHQ6IE5hdGl2ZUdlb2NvZGVyUmVzdWx0W10pID0+IGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdFswXSkpKVxuICogICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XG4gKlxuICogdGhpcy5uYXRpdmVHZW9jb2Rlci5mb3J3YXJkR2VvY29kZSgnQmVybGluJywgb3B0aW9ucylcbiAqICAgLnRoZW4oKHJlc3VsdDogTmF0aXZlR2VvY29kZXJSZXN1bHRbXSkgPT4gY29uc29sZS5sb2coJ1RoZSBjb29yZGluYXRlcyBhcmUgbGF0aXR1ZGU9JyArIHJlc3VsdFswXS5sYXRpdHVkZSArICcgYW5kIGxvbmdpdHVkZT0nICsgcmVzdWx0WzBdLmxvbmdpdHVkZSkpXG4gKiAgIC5jYXRjaCgoZXJyb3I6IGFueSkgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAqIGBgYFxuICogQGludGVyZmFjZXNcbiAqIE5hdGl2ZUdlb2NvZGVyUmVzdWx0XG4gKiBOYXRpdmVHZW9jb2Rlck9wdGlvbnNcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdOYXRpdmVHZW9jb2RlcicsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLW5hdGl2ZWdlb2NvZGVyJyxcbiAgcGx1Z2luUmVmOiAnbmF0aXZlZ2VvY29kZXInLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3NlYmFzdGlhbmJhYXIvY29yZG92YS1wbHVnaW4tbmF0aXZlZ2VvY29kZXInLFxuICBwbGF0Zm9ybXM6IFsnaU9TJywgJ0FuZHJvaWQnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmF0aXZlR2VvY29kZXIgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBSZXZlcnNlIGdlb2NvZGUgYSBnaXZlbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIHRvIGZpbmQgbG9jYXRpb24gYWRkcmVzc1xuICAgKiBAcGFyYW0gbGF0aXR1ZGUge251bWJlcn0gVGhlIGxhdGl0dWRlXG4gICAqIEBwYXJhbSBsb25naXR1ZGUge251bWJlcn0gVGhlIGxvbmdpdHVkZVxuICAgKiBAcGFyYW0gb3B0aW9ucyB7TmF0aXZlR2VvY29kZXJPcHRpb25zfSBUaGUgb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlPE5hdGl2ZUdlb2NvZGVyUmVzdWx0W10+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyxcbiAgfSlcbiAgcmV2ZXJzZUdlb2NvZGUoXG4gICAgbGF0aXR1ZGU6IG51bWJlcixcbiAgICBsb25naXR1ZGU6IG51bWJlcixcbiAgICBvcHRpb25zPzogTmF0aXZlR2VvY29kZXJPcHRpb25zXG4gICk6IFByb21pc2U8TmF0aXZlR2VvY29kZXJSZXN1bHRbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3J3YXJkIGdlb2NvZGUgYSBnaXZlbiBhZGRyZXNzIHRvIGZpbmQgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIGFkZHJlc3NTdHJpbmcge3N0cmluZ30gVGhlIGFkZHJlc3MgdG8gYmUgZ2VvY29kZWRcbiAgICogQHBhcmFtIG9wdGlvbnMge05hdGl2ZUdlb2NvZGVyT3B0aW9uc30gVGhlIG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZTxOYXRpdmVHZW9jb2RlclJlc3VsdFtdPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsXG4gIH0pXG4gIGZvcndhcmRHZW9jb2RlKGFkZHJlc3NTdHJpbmc6IHN0cmluZywgb3B0aW9ucz86IE5hdGl2ZUdlb2NvZGVyT3B0aW9ucyk6IFByb21pc2U8TmF0aXZlR2VvY29kZXJSZXN1bHRbXT4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vKipcbiAqIEVuY2Fwc3VsYXRlcyBmb3JtYXQgaW5mb3JtYXRpb24gYWJvdXQgYSBnZW9jb2RpbmcgcmVzdWx0LlxuICogbW9yZSBJbmZvOlxuICogIC0gaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vY29yZWxvY2F0aW9uL2NscGxhY2VtYXJrXG4gKiAgLSBodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9yZWZlcmVuY2UvYW5kcm9pZC9sb2NhdGlvbi9BZGRyZXNzLmh0bWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOYXRpdmVHZW9jb2RlclJlc3VsdCB7XG4gIC8qKlxuICAgKiBUaGUgbGF0aXR1ZGUuXG4gICAqL1xuICBsYXRpdHVkZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxvbmdpdHVkZS5cbiAgICovXG4gIGxvbmdpdHVkZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNvdW50cnkgY29kZS5cbiAgICovXG4gIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY291bnRyeSBuYW1lLlxuICAgKi9cbiAgY291bnRyeU5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwb3N0YWwgY29kZS5cbiAgICovXG4gIHBvc3RhbENvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBhZG1pbmlzdHJhdGl2ZUFyZWEuXG4gICAqL1xuICBhZG1pbmlzdHJhdGl2ZUFyZWE6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBzdWJBZG1pbmlzdHJhdGl2ZUFyZWEuXG4gICAqL1xuICBzdWJBZG1pbmlzdHJhdGl2ZUFyZWE6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsb2NhbGl0eS5cbiAgICovXG4gIGxvY2FsaXR5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgc3ViTG9jYWxpdHkuXG4gICAqL1xuICBzdWJMb2NhbGl0eTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHRob3JvdWdoZmFyZS5cbiAgICovXG4gIHRob3JvdWdoZmFyZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHN1YlRob3JvdWdoZmFyZS5cbiAgICovXG4gIHN1YlRob3JvdWdoZmFyZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGFyZWFzT2ZJbnRlcmVzdFxuICAgKi9cbiAgYXJlYXNPZkludGVyZXN0OiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciByZXZlcnNlIGFuZCBmb3J3YXJkIGdlb2NvZGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOYXRpdmVHZW9jb2Rlck9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIGxvY2FsZSB0byB1c2Ugd2hlbiByZXR1cm5pbmcgdGhlIGFkZHJlc3MgaW5mb3JtYXRpb24uXG4gICAqIElmIHNldCB0byAnZmFsc2UnIHRoZSBsb2NhbGUgd2lsbCBhbHdheXMgYmUgJ2VuX1VTJy5cbiAgICogRGVmYXVsdCBpcyAndHJ1ZSdcbiAgICovXG4gIHVzZUxvY2FsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGxvY2FsZSB0byB1c2Ugd2hlbiByZXR1cm5pbmcgdGhlIGFkZHJlc3MgaW5mb3JtYXRpb24uXG4gICAqIGUuZy46ICdmYS1JUicgb3IgJ2RlX0RFJy5cbiAgICovXG4gIGRlZmF1bHRMb2NhbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0IHRvIHJldHVybiAobWF4IGlzIDUpLlxuICAgKiBEZWZhdWx0IGlzIDFcbiAgICovXG4gIG1heFJlc3VsdHM6IG51bWJlcjtcbn1cbiJdfQ==","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, resolveForwardRef, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AssigneeModel } from 'src/app/model/assignee.model';\r\nimport { SolarMake } from 'src/app/model/solar-make.model';\r\nimport { ApiService } from 'src/app/api.service';\r\nimport { UtilitiesService } from 'src/app/utilities.service';\r\nimport { ErrorModel } from 'src/app/model/error.model';\r\nimport { SolarMadeModel } from 'src/app/model/solar-made.model';\r\nimport { InverterMakeModel } from 'src/app/model/inverter-make.model';\r\nimport { NavController } from '@ionic/angular';\r\nimport { InverterMadeModel } from 'src/app/model/inverter-made.model';\r\nimport { ScheduleFormEvent, UserRoles, INVALID_EMAIL_MESSAGE, FIELD_REQUIRED,INVALID_NAME_MESSAGE, INVALID_ANNUAL_UNIT, INVALID_TILT_FOR_GROUND_MOUNT, INVALID_COMPANY_NAME, INVALID_MODULE_AND_INVERTER } from '../../model/constants';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { StorageService } from '../../storage.service';\r\nimport { ActivatedRoute, Router, RoutesRecognized, NavigationEnd, NavigationExtras } from '@angular/router';\r\nimport {  DesginDataModel, DesignModel } from '../../model/design.model';\r\nimport { Camera, CameraOptions } from '@ionic-native/Camera/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { CometChat } from '@cometchat-pro/cordova-ionic-chat';\r\nimport { Clients } from 'src/app/model/clients.model';\r\nimport { map, startWith } from \"rxjs/operators\";\r\nimport { UtilityRates } from 'src/app/model/utilityrate.model';\r\nimport { Incentive } from 'src/app/model/incentive.model';\r\nimport { Utility } from 'src/app/model/utility.model';\r\n//import { AngularFireDatabase, AngularFireObject } from '@angular/fire/database';\r\n//import { AngularFirestore} from '@angular/fire/firestore';\r\n\r\n@Component({\r\n  selector: 'app-salesproposal',\r\n  templateUrl: './salesproposal.component.html',\r\n  styleUrls: ['./salesproposal.component.scss'],\r\n})\r\nexport class SalesproposalComponent implements OnInit {\r\n  myControl = new FormControl();\r\n    desginForm: FormGroup;\r\n\r\n  listOfAssignees: AssigneeModel[] = [];\r\n\r\n  listOfSolarMake: SolarMake[] = [];\r\n  listOfSolarMade: SolarMadeModel[] = [];\r\n\r\n  listOfInverterMade: InverterMadeModel[] = [];\r\n  listOfInverterMake: InverterMakeModel[] = [];\r\n  attachmentData:any;\r\n  private subscription: Subscription;\r\n  private addressSubscription: Subscription;\r\n\r\n  getCompanies: Clients[] = [];\r\n  filteredCompanies: Observable<Clients[]>;\r\n  designCreatedBy;\r\n  designCreatedByUserParent;\r\n\r\n  emailError = INVALID_EMAIL_MESSAGE;\r\n  nameError = INVALID_NAME_MESSAGE;\r\n  annualunitError = INVALID_ANNUAL_UNIT;\r\n  tiltforgroundError = INVALID_TILT_FOR_GROUND_MOUNT;\r\n  companyError = INVALID_COMPANY_NAME;\r\n  moduleAndInverterError = INVALID_MODULE_AND_INVERTER;\r\n\r\n  fieldRequired = FIELD_REQUIRED;\r\n\r\n  designId = 0;\r\n  design: DesginDataModel = null;\r\n  address: string;\r\n  showValue: any;\r\n  uploadbox: any;\r\n  archFiles: any=[];\r\n  prelimFiles: any=[];\r\n imageName:any;\r\n\r\n indexOfArcFiles=[]\r\n isArcFileDelete:boolean=false;\r\n  //attachmentName = this.desginForm.get('attachments').value;\r\n\r\n options: CameraOptions = {\r\n  quality: 30,\r\n  targetWidth:600,\r\n  targetHeight:300,\r\n  sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n  destinationType: this.camera.DestinationType.DATA_URL,\r\n  encodingType: this.camera.EncodingType.PNG,\r\n  mediaType: this.camera.MediaType.PICTURE\r\n}\r\n  fileName: any;\r\n  logoFileName:any;\r\n  moduledata: any;\r\n  // solarmake:string='solarmake';\r\n  // solarmade:string='solarmade';\r\n  // invertermake:string='invertermake';\r\n  // invertermade:string='invertermade';\r\n  filterrecord: SolarMake[];\r\n  modulename: any;\r\n  solarmake: string;\r\n  solarmade: string;\r\n  invertermake: string;\r\n  invertermade: string;\r\n  onFormSubmit:boolean=true;\r\n  solarMakeDisposable: Subscription;\r\n  send:any;\r\n  value:number;\r\n  architecturalData:any;\r\n  fieldDisabled = false;\r\n  userdata:any;\r\n\r\n  attachmentFileUpload: boolean= false;\r\n  incentives: Incentive[]=[];\r\n  utilitiesName: any;\r\n  modulemakes: Utility[]=[];\r\n  modulemodels: UtilityRates[]=[];\r\n  filteredModuleMakes: Observable<any>;\r\n  filteredModuleModels: Observable<any>;\r\n  filterUtilityRate: Observable<any>;\r\n  filterIncentive: Observable<any>;\r\n\r\n  // newprelims: Observable<any>;\r\n  // newprelimsRef: AngularFireObject<any>;\r\n  // //newprelimsRef:any;\r\n  // newprelimscount = 0;\r\n\r\n  number: number;\r\ncolor: string;\r\n\r\nisEditMode:boolean=false;\r\nselectedUtilityId:number;\r\nselectedUtilityRateId:number;\r\nlogoSelected: boolean=false;\r\nlogo: any ;\r\nblob:Blob;\r\n  userId: string;\r\n  uploadLogo: any;\r\n  firstFormGroup: FormGroup;\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private apiService: ApiService,\r\n    private utils: UtilitiesService,\r\n    private navController: NavController,\r\n    private storage: StorageService,\r\n    private route: ActivatedRoute,\r\n    private camera: Camera,\r\n    private file: File,\r\n    public router:Router,\r\n    private cdr:ChangeDetectorRef,\r\n    //private db: AngularFireDatabase\r\n  ) {\r\n    // this.utils.showHideIntercom(true);\r\n    var tomorrow=new Date();\r\n    tomorrow.setDate(tomorrow.getDate()+1);\r\n    var d_date=tomorrow.toISOString();\r\n    const EMAILPATTERN = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z]+(?:\\.[a-zA-Z]+)*$/;\r\n    const NAMEPATTERN = /^[a-zA-Z. ]{3,}$/;\r\n    const NUMBERPATTERN = '^[0-9]*$';\r\n    const COMPANYFORMAT = '[a-zA-Z0-9. ]{3,}';\r\n\r\n    this.firstFormGroup=this.formBuilder.group({\r\n\r\n    })\r\n\r\n    this.desginForm = this.formBuilder.group({\r\n      company: new FormControl('',[Validators.pattern(COMPANYFORMAT)]),\r\n      name: new FormControl('', [Validators.required, Validators.pattern(NAMEPATTERN)]),\r\n      email: new FormControl('', [Validators.required, Validators.pattern(EMAILPATTERN)]),\r\n      solarmake: new FormControl('', [Validators.required]),\r\n      solarmodel: new FormControl('', [Validators.required]),\r\n      invertermake: new FormControl('', [Validators.required]),\r\n      invertermodel: new FormControl('', [Validators.required]),\r\n      monthlybill: new FormControl('',[Validators.required,Validators.min(0),Validators.pattern(NUMBERPATTERN)]),\r\n      address: new FormControl('',[Validators.required]),\r\n      createdby: new FormControl(''),\r\n      assignedto: new FormControl(''),\r\n      rooftype: new FormControl(''),\r\n      //prelimdesign: new FormControl(null),\r\n      architecturaldesign: new FormControl(''),\r\n      tiltgroundmount: new FormControl(''),\r\n      mountingtype: new FormControl('', [Validators.required]),\r\n      // jobtype: new FormControl('', [Validators.required]),\r\n      projecttype: new FormControl('', [Validators.required]),\r\n      newconstruction: new FormControl(false),\r\n      source: new FormControl('android', [Validators.required]),\r\n      comments: new FormControl(''),\r\n      requesttype: new FormControl('prelim'),\r\n      latitude: new FormControl(''),\r\n      longitude: new FormControl(''),\r\n      country: new FormControl(''),\r\n      state: new FormControl(''),\r\n      city: new FormControl(''),\r\n      postalcode: new FormControl(''),\r\n      status: new FormControl('created'),\r\n      attachments: new FormControl([]),\r\n      deliverydate:new FormControl(d_date,[]),\r\n      outsourcedto:new FormControl(null),\r\n      isoutsourced:new FormControl('false'),\r\n      designacceptancestarttime:new FormControl(null),\r\n      creatorparentid:new FormControl(this.storage.getParentId()),\r\n      //isonpriority:new FormControl('false'),\r\n      paymentstatus:new FormControl(null),\r\n      paymenttype:new FormControl(null),\r\n      utility: new FormControl(\"\",[Validators.required,Validators.pattern(\"^[a-zA-Z-_ ]{3,}$\")]),\r\n      //utility: new FormControl(\"\",[Validators.pattern(\"^[a-zA-Z-_ ]{3,}$\")]),\r\n      //utilityrate : new FormControl(\"\",[Validators.pattern(\"^[a-zA-Z-_ ]{3,}$\")]),\r\n      utilityrate : new FormControl(\"\",[Validators.required,Validators.pattern(\"^[a-zA-Z-_ ]{3,}$\")]),\r\n      annualutilityescalation : new FormControl('',[Validators.required]),\r\n      incentive : new FormControl('',[Validators.required]),\r\n      costofsystem : new FormControl(null,[Validators.required]),\r\n      personname : new FormControl(null,[Validators.required,Validators.pattern(NAMEPATTERN)]),\r\n      // companylogo : new FormControl(null),\r\n      requirementtype : new FormControl('proposal')\r\n      // uploadbox:new FormControl('')\r\n    });\r\n\r\n    // this.newprelimsRef = db.object('newprelimdesigns');\r\n    // this.newprelims = this.newprelimsRef.valueChanges();\r\n    // this.newprelims.subscribe(\r\n    //   (res) => {\r\n    //     console.log(res);\r\n    //     this.newprelimscount = res.count;\r\n    //     cdr.detectChanges();\r\n    //   },\r\n    //   (err) => console.log(err),\r\n    //   () => console.log('done!')\r\n    // )\r\n     //this.newprelims = this.newprelimsRef.valueChanges();\r\n    // this.db.doc('newprelimdesigns').valueChanges().subscribe((res:any)=>{\r\n    //   this.newprelimscount = res;\r\n    //   console.log(this.newprelimscount)\r\n    // })\r\n    // this.newprelims.subscribe(\r\n    //   (res) => {\r\n    //     console.log(res);\r\n    //     this.newprelimscount = res.count;\r\n    //   },\r\n    //   (err) => console.log(err),\r\n    //   () => console.log('done!')\r\n    // )\r\n\r\n    this.designId = +this.route.snapshot.paramMap.get('id');\r\n    this.getAssignees();\r\n\r\n  }\r\n\r\n  numberfield(event){\r\n    console.log(event);\r\n\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    // this.utils.showHideIntercom(true);\r\n    // this.getincentives();\r\n    // this.getutilitiesName();\r\n    this.fetchIncentive();\r\n  }\r\n\r\n  getincentives(){\r\n    this.apiService.salesIncentives().subscribe(res=>{\r\n      console.log(res,\"salesinc\");\r\n      // this.incentives  = res;\r\n    })\r\n  }\r\n\r\n  getutilitiesName(){\r\n    this.apiService.utilitiesNames().subscribe(res=>{\r\n      console.log(res,\"utilityname\");\r\n      this.utilitiesName = res;\r\n\r\n    })\r\n  }\r\n\r\n  fetchModuleMakesData() {\r\n    this.apiService.utilitiesNames().subscribe(\r\n      (response:any) => {\r\n        console.log(\"Hiii\");\r\n        this.modulemakes = response;\r\n        this.filteredModuleMakes = this.desginForm.get('utility').valueChanges.pipe(\r\n          startWith(\"\"),\r\n          map(value => (typeof value === \"string\" ? value : value.name)),\r\n          map(name => (name ? this._filterModuleMake(name) : this.modulemakes.slice()))\r\n        );\r\n      },\r\n      error => {\r\n        this.utils.errorSnackBar(\"Error\");\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchIncentive() {\r\n    this.apiService.salesIncentives().subscribe(\r\n      (response:any) => {\r\n        console.log(\"Hiii\");\r\n        this.incentives = response;\r\n        // this.filterIncentive = this.desginForm.get('utility').valueChanges.pipe(\r\n        //   startWith(\"\"),\r\n        //   map(value => (typeof value === \"string\" ? value : value.title)),\r\n        //   map(title => (title ? this._filterincentive(title) : this.incentives.slice()))\r\n        // );\r\n      },\r\n      error => {\r\n        this.utils.errorSnackBar(\"Error\");\r\n      }\r\n    );\r\n  }\r\n\r\n  private _filterModuleMake(name: string) {\r\n    const filterValue = name.toLowerCase();\r\n    return this.modulemakes.filter(\r\n      modulemake => modulemake.name.toLowerCase().indexOf(filterValue) != -1\r\n    );\r\n  }\r\n\r\n  fetchUtilityData(_event: any, make) {\r\n    //this.desginForm.patchValue({ uti: \" \" })\r\n    this.desginForm.patchValue({ utilityrate: \" \" })\r\n    if (_event.isUserInput) {\r\n      console.log(_event,\"hello\");\r\n      this.desginForm.get('utilityrate').setValue(\"\");\r\n     if (this.isEditMode) {\r\n       this.selectedUtilityRateId = null;\r\n     }\r\n      this.modulemodels = [];\r\n      this.selectedUtilityId = make.id;\r\n      this.apiService.utilitiesRate(make.id).subscribe(\r\n        (response:any) =>{\r\n          console.log(\"Hiii\",response);\r\n          this.modulemodels = response;\r\n          console.log(this.modulemodels)\r\n          this.filteredModuleModels = this.desginForm.get('utilityrate').valueChanges.pipe(\r\n            startWith(\"\"),\r\n            map(value => (typeof value === \"string\" ? value : value.rate)),\r\n            map(rate => (rate ? this._filterModuleModel(rate) : this.modulemodels.slice()))\r\n          );\r\n        },\r\n        error => {\r\n          this.utils.errorSnackBar(\"Error\");\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  setSelectedUtilityRate(module)\r\n  {\r\n    console.log(module);\r\n    this.selectedUtilityRateId = module.id;\r\n  }\r\n\r\n  displayFnModuleModel(modulemodel:any): string {\r\n    return modulemodel && modulemodel.name ? modulemodel.name : \"\";\r\n  }\r\n\r\n  private _filterModuleModel(rate: string) {\r\n    const filterValue = rate.toLowerCase();\r\n\r\n    return this.modulemodels.filter(\r\n      modulemodel => modulemodel.rate.toLowerCase().indexOf(filterValue) != -1\r\n    );\r\n  }\r\n\r\n  saveUtilityName() {\r\n    console.log(this.modulemakes)\r\n    console.log(\"g\",this.desginForm.get(\"utility\").value);\r\n    const found = this.modulemakes.some(el => el.name === this.desginForm.get(\"utility\").value);\r\n    if (!found) {\r\n      console.log(\"hello\");\r\n      let data={\r\n\r\n\r\n        name:this.desginForm.get('utility').value\r\n      }\r\n      this.apiService\r\n        .postUtilitiesNames(\r\n          data\r\n        )\r\n        .subscribe(\r\n          (response:any) => {\r\n            console.log(response);\r\n            this.selectedUtilityId = response.id;\r\n            this.saveUtilityRate();\r\n          },\r\n          error => {\r\n            this.utils.errorSnackBar(\r\n\r\n              \"Error\"\r\n            );\r\n          }\r\n        );\r\n    } else {\r\n      this.saveUtilityRate();\r\n    }\r\n  }\r\n\r\n  saveUtilityRate() {\r\n    console.log(this.modulemodels);\r\n    console.log(this.desginForm.get(\"utilityrate\").value)\r\n    const ismakefound = this.modulemakes.some(el => el.name === this.desginForm.get(\"utility\").value);\r\n    console.log(ismakefound);\r\n    const found = this.modulemodels.some(el => el.rate === this.desginForm.get(\"utilityrate\").value);\r\n   console.log(found);\r\n    if (!ismakefound || !found) {\r\n      let data={\r\n        utility:this.selectedUtilityId,\r\n        rate:this.desginForm.get('utilityrate').value\r\n\r\n      }\r\n      this.apiService\r\n        .postUtilitiesRate(\r\n          data\r\n        )\r\n        .subscribe(\r\n          (response:any) => {\r\n            this.selectedUtilityRateId = response.id;\r\n            this.submitform();\r\n          },\r\n          error => {\r\n            this.utils.errorSnackBar(\r\n              \"Error\"\r\n            );\r\n          }\r\n        );\r\n    } else {\r\n      this.submitform();\r\n    }\r\n  }\r\n\r\n  uploadFile(event) {\r\n    this.logoSelected=true;\r\n    this.uploadLogo= event.target.files[0].name;\r\n    console.log(this.uploadLogo);\r\n\r\n    let reader = new FileReader(); // HTML5 FileReader API\r\n    let file = event.target.files[0];\r\n    if (event.target.files && event.target.files[0]) {\r\n      reader.readAsDataURL(file);\r\n\r\n      // When file uploads set it to file formcontrol\r\n      reader.onload = () => {\r\n        this.logo = reader.result;\r\n        this.blob= this.utils.b64toBlob(this.logo);\r\n        console.log(this.blob);\r\n\r\n        this.firstFormGroup.patchValue({\r\n          logo: this.uploadLogo\r\n        });\r\n      }\r\n      // ChangeDetectorRef since file is loading outside the zone\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  // getmodulename(event){\r\n\r\n  //     this.modulename= event;\r\n  //     console.log(this.modulename);\r\n\r\n  // }\r\n\r\n\r\n  // logScrolling(e){\r\n\r\n  // }\r\n\r\n  // record(){\r\n  //   this.filterrecord= this.listOfSolarMake.filter(x=>\r\n  // }\r\n\r\n  ngOnInit() {\r\n    this.userId= this.storage.getUserID();\r\n      this.fieldDisabled=false;\r\n      this.userdata = this.storage.getUser();\r\n      this.byDefaultData();\r\n      //this.fetchModuleMakesData();\r\n      // this.intercom.update({\r\n      //   \"hide_default_launcher\": true\r\n      // });\r\n    // this.utils.manualInput.subscribe(data=>{\r\n    //     if(this.modulename=='solarmake'){\r\n    //       this.solarmake=data;\r\n          // this.solarMakeDisposable.unsubscribe();\r\n          // this.desginForm.patchValue({\r\n          //   solarmake:data\r\n          // });\r\n          // this.solarMakeDisposable = this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n          //   this.getSolarMade();\r\n          // });\r\n\r\n        // }else if(this.modulename=='solarmade'){\r\n        // this.solarmade=data;\r\n        // }else if(this.modulename=='invertermake'){\r\n        //   this.invertermake = data;\r\n        // }else if(this.modulename=='invertermade'){\r\n        //   this.invertermade= data;\r\n        // }\r\n\r\n\r\n    // })\r\n    this.address= this.storage.getData();\r\n    this.subscription = this.utils.getScheduleFormEvent().subscribe((event) => {\r\n      if (event === ScheduleFormEvent.SAVE_SALES_FORM || event === ScheduleFormEvent.SEND_SALES_FORM) {\r\n        this.send=event;\r\n        this.addForm();\r\n\r\n      }\r\n      if(event===ScheduleFormEvent.PAY_EVENT){\r\n        this.sendtowattmonk();\r\n      }\r\n    });\r\n    this.gettingClients();\r\n\r\n    if (this.designId !== 0) {\r\n      setTimeout(()=>{\r\n        this.getDesignDetails();\r\n      },1000)\r\n\r\n    } else {\r\n      // if(this.onFormSubmit){\r\n        this.solarMakeDisposable = this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n          this.getSolarMade();\r\n        });\r\n        this.desginForm.get('invertermake').valueChanges.subscribe(val => {\r\n          this.getInverterMade();\r\n        });\r\n      // }\r\n      this.addressSubscription = this.utils.getAddressObservable().subscribe((address) => {\r\n        // console.log(address,\">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\");\r\n\r\n         this.desginForm.get('address').setValue('124/345');\r\n         this.desginForm.get('latitude').setValue('24.553333');\r\n         this.desginForm.get('longitude').setValue('80.5555555555');\r\n         this.desginForm.get('country').setValue('india');\r\n         this.desginForm.get('city').setValue('Lucknow');\r\n         this.desginForm.get('state').setValue('UP');\r\n         this.desginForm.get('postalcode').setValue(3232343);\r\n        //  this.desginForm.get('address').setValue(address.address);\r\n        //    this.desginForm.get('latitude').setValue(address.lat);\r\n        //    this.desginForm.get('longitude').setValue(address.long);\r\n        //    this.desginForm.get('country').setValue(address.country);\r\n        //  this.desginForm.get('city').setValue(address.city);\r\n        //    this.desginForm.get('state').setValue(address.state);\r\n        //    this.desginForm.get('postalcode').setValue(address.postalcode);\r\n      }, (error) => {\r\n        this.desginForm.get('address').setValue('');\r\n        this.desginForm.get('latitude').setValue('');\r\n        this.desginForm.get('longitude').setValue('');\r\n        this.desginForm.get('country').setValue('');\r\n        this.desginForm.get('city').setValue('');\r\n        this.desginForm.get('state').setValue('');\r\n        this.desginForm.get('postalcode').setValue('');\r\n      });\r\n      this.desginForm.patchValue({\r\n        createdby: this.storage.getUserID()\r\n      });\r\n      this.getSolarMake();\r\n\r\n\r\n    }\r\n\r\n    setTimeout(()=>{\r\n      this.fetchModuleMakesData();\r\n      if (this.designId !== 0) {\r\n        this.loadModuleModelsData();\r\n        this.byDefaultData();\r\n      }\r\n    });\r\nthis.formControlValueChanged();\r\nthis.uploadcontrolvalidation();\r\n\r\n  }\r\n\r\n  byDefaultData()\r\n  {\r\n    console.log(this.userdata)\r\n    this.desginForm.patchValue({\r\n      company:this.userdata.company\r\n    })\r\n    if(this.userdata.logo != null){\r\n    this.logo = this.userdata.logo.url\r\n    }\r\n  }\r\n\r\nformControlValueChanged() {\r\n  const NUMBERPATTERN = '^[0-9]*$';\r\n  const tiltControl = this.desginForm.get('tiltgroundmount');\r\n  const roofcontrol = this.desginForm.get('rooftype');\r\n  this.desginForm.get('mountingtype').valueChanges.subscribe(\r\n      (mode: string) => {\r\n          console.log(mode);\r\n          if (mode === 'ground') {\r\n              tiltControl.setValidators([Validators.required,Validators.pattern(NUMBERPATTERN)]);\r\n              roofcontrol.clearValidators();\r\n              roofcontrol.reset();\r\n          }else if(mode ==='both'){\r\n            tiltControl.setValidators([Validators.required,,Validators.min(0), Validators.pattern(NUMBERPATTERN)]);\r\n            roofcontrol.setValidators([Validators.required]);\r\n          }\r\n          else if (mode === 'roof') {\r\n            roofcontrol.setValidators([Validators.required]);\r\n              tiltControl.clearValidators();\r\n              tiltControl.reset();\r\n          }else{\r\n            tiltControl.clearValidators();\r\n            roofcontrol.clearValidators();\r\n          }\r\n          tiltControl.updateValueAndValidity();\r\n          roofcontrol.updateValueAndValidity();\r\n      });\r\n\r\n}\r\n\r\nuploadcontrolvalidation(){\r\n  const uploadboxcontrol= this.desginForm.get('architecturaldesign');\r\n    this.desginForm.get('newconstruction').valueChanges.subscribe(\r\n    (uploadmode:any)=>{\r\n      console.log(uploadmode);\r\n        if(uploadmode=='true'){\r\n          uploadboxcontrol.setValidators([Validators.required]);\r\n        }else if(uploadmode=='false'){\r\n          uploadboxcontrol.clearValidators();\r\n          uploadboxcontrol.reset();\r\n        }\r\n        uploadboxcontrol.updateValueAndValidity();\r\n  })\r\n}\r\n\r\nloadModuleModelsData() {\r\n  this.modulemodels = [];\r\n  this.apiService.utilitiesRate(this.selectedUtilityId).subscribe(\r\n    (response:any) => {\r\n      console.log(\"Hiii\");\r\n      this.modulemodels = response;\r\n      this.filteredModuleModels = this.desginForm.get('utilityrate').valueChanges.pipe(\r\n        startWith(\"\"),\r\n        map(value => (typeof value === \"string\" ? value : value.rate)),\r\n        map(rate => (rate ? this._filterModuleModel(rate) : this.modulemodels.slice()))\r\n      );\r\n    },\r\n    error => {\r\n      this.utils.errorSnackBar(\"Error\");\r\n    }\r\n  );\r\n}\r\n\r\n  ngOnDestroy(): void {\r\n   // this.utils.showHideIntercom(false);\r\n    this.subscription.unsubscribe();\r\n    if (this.designId === 0) {\r\n      this.addressSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\ngetDesignDetails() {\r\n\r\n    this.utils.showLoading('Getting Design Details').then(() => {\r\n      this.apiService.getDesginDetail(this.designId).subscribe(async (result) => {\r\n        await this.utils.hideLoading().then(()=>{\r\n          // this.utils.showHideIntercom(true);\r\n          this.design = result;\r\n          console.log(this.design);\r\n          this.fieldDisabled=true;\r\n       this.attachmentData=this.design.attachments;\r\n       this.architecturalData = this.design.architecturaldesign;\r\n          console.log(\"hello\",this.design.attachments);\r\n          this.desginForm.patchValue({\r\n            name: this.design.name,\r\n            email: this.design.email,\r\n            monthlybill: this.design.monthlybill,\r\n            address: this.design.address,\r\n            createdby: this.design.createdby,\r\n            rooftype: this.design.rooftype,\r\n            mountingtype:this.design.mountingtype,\r\n            architecturaldesign:this.design.architecturaldesign,\r\n            // jobtype: this.design.jobtype,\r\n            tiltgroundmount: this.design.tiltgroundmount,\r\n            comments: this.design.comments==''? '': this.design.comments[0].message,\r\n            projecttype: this.design.projecttype,\r\n            latitude: this.design.latitude,\r\n            longitude: this.design.longitude,\r\n            country: this.design.country,\r\n            state: this.design.state,\r\n            city: this.design.city,\r\n            postalcode:this.design.postalcode,\r\n            newconstruction: this.design.newconstruction + '',\r\n            prelimdesign:null,\r\n            //attachments:this.design.attachments,\r\n\r\n            attachments:this.design.attachments,\r\n            solarmake:this.design.solarmake,\r\n            solarmodel:this.design.solarmodel,\r\n            invertermake:this.design.invertermake,\r\n            invertermodel:this.design.invertermodel,\r\n            status:this.design.status,\r\n            utility: this.design.utility.name,\r\n            utilityrate : this.design.utilityrate.rate,\r\n            annualutilityescalation : this.design.annualutilityescalation,\r\n            incentive : this.design.incentive.id,\r\n            costofsystem : this.design.costofsystem,\r\n            personname : this.design.personname,\r\n            requirementtype : this.design.requirementtype\r\n          });\r\n          //console.log(\"attachments\",this.desginForm.get('attachments').value)\r\n          this.utils.setStaticAddress(this.design.address);\r\n        //  this.attachmentData=this.design.attachments.length==1 ? this.design.attachments[0].name + this.design.attachments[0].ext : this.design.attachments.length;\r\n          if (this.design.assignedto !== null && this.design.assignedto !== undefined) {\r\n            this.desginForm.patchValue({\r\n              assignedto: this.design.assignedto.id\r\n            });\r\n          }\r\n        setTimeout(()=>{\r\n          this.getSolarMakeForForm();\r\n          this.getInverterMakeForForm();\r\n        },500)\r\n        });\r\n\r\n      }, (error) => {\r\n        this.utils.hideLoading();\r\n      });\r\n    });\r\n  }\r\n\r\n  getSolarMakeForForm() {\r\n\r\n    this.apiService.getSolarMake().subscribe(response => {\r\n      this.listOfSolarMake = response;\r\n\r\n      this.apiService.getSolarMade(this.design.solarmake.id).subscribe(solarresponse => {\r\n        // this.utils.hideLoading().then(()=>{\r\n          this.listOfSolarMade = solarresponse;\r\n          console.log(solarresponse);\r\n          console.log('patching solar');\r\n          setTimeout(() => {\r\n            this.desginForm.patchValue({\r\n              solarmake: this.design.solarmake.id,\r\n              solarmodel: this.design.solarmodel.id\r\n            });\r\n            // if(this.onFormSubmit){\r\n              this.desginForm.get('solarmake').valueChanges.subscribe(val => {\r\n                this.getSolarMade();\r\n              });\r\n            // }\r\n          }, 500);\r\n        // });\r\n      }, solarResponseError => {\r\n\r\n        const error: ErrorModel = solarResponseError.error;\r\n        if (error.message instanceof String) {\r\n          this.utils.errorSnackBar(error.message);\r\n        } else if (error.message instanceof Array) {\r\n          this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n        }\r\n      });\r\n\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      if (error.message instanceof String) {\r\n        this.utils.errorSnackBar(error.message);\r\n      } else if (error.message instanceof Array) {\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      }\r\n    });\r\n  }\r\n\r\n  getInverterMakeForForm() {\r\n    this.apiService.getInverterMake().subscribe(response => {\r\n      console.log(response);\r\n      this.listOfInverterMake = response;\r\n      this.apiService.getInverterMade(this.design.invertermake.id).subscribe(makeResponse => {\r\n        // this.utils.hideLoading();\r\n        console.log('patching inverter');\r\n        this.listOfInverterMade = makeResponse;\r\n\r\n        setTimeout(() => {\r\n          this.desginForm.patchValue({\r\n            invertermake: this.design.invertermake.id,\r\n            invertermodel: this.design.invertermodel.id\r\n          });\r\n          // if(this.onFormSubmit){\r\n            this.desginForm.get('invertermake').valueChanges.subscribe(val => {\r\n              this.getInverterMade();\r\n            });\r\n          // }\r\n        }, 500);\r\n\r\n\r\n      }, makeResponseError => {\r\n\r\n        const error: ErrorModel = makeResponseError.error;\r\n        if (error.message instanceof String) {\r\n          this.utils.errorSnackBar(error.message);\r\n        } else if (error.message instanceof Array) {\r\n          this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n        }\r\n      });\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      if (error.message instanceof String) {\r\n        this.utils.errorSnackBar(error.message);\r\n      } else if (error.message instanceof Array) {\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      }\r\n    });\r\n  }\r\n\r\n  saveModuleMake(){\r\n  const found= this.listOfSolarMake.some((el:any)=>\r\n    el.name=== this.solarmake\r\n);\r\n\r\n  console.log(found);\r\n\r\n    if(!found){\r\n      let solarmakedata={\r\n        name:this.solarmake\r\n      }\r\n      this.apiService.postSolarMake(solarmakedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          solarmake:response.id\r\n        })\r\n        this.saveModuleModel();\r\n      },err=>{\r\n        console.log(err,'err in savemodulemake');\r\n\r\n      })\r\n\r\n    }else{\r\n      this.saveModuleModel();\r\n    }\r\n  }\r\n\r\n  saveModuleModel(){\r\n    const ismakefound  =this.listOfSolarMake.some(el=>el.name===this.solarmake);\r\n    const found= this.listOfSolarMade.some((el:any)=>\r\n      el.name=== this.solarmade\r\n    );\r\n\r\n    if(!ismakefound || !found){\r\n      let solarmadedata={\r\n        solarmade:this.solarmade,\r\n        solarmake:this.desginForm.get('solarmake').value\r\n      }\r\n      console.log(solarmadedata);\r\n\r\n      this.apiService.postSolarMade(solarmadedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          solarmade:response.id\r\n\r\n        })\r\n        this.saveInvertermake();\r\n      })\r\n    }else{\r\n      this.saveInvertermake();\r\n    }\r\n  }\r\n\r\n  saveInvertermake(){\r\n    const found = this.listOfInverterMake.some(el=>el.name===this.invertermake);\r\n    if(!found){\r\n      let invertermakedata={\r\n        invertermake:this.invertermake\r\n      }\r\n      this.apiService.postInverterMake(invertermakedata).subscribe((response:any)=>{\r\n        this.desginForm.patchValue({\r\n          invertermake:response.id\r\n        })\r\n        this.saveInverterMade();\r\n      })\r\n    }else{\r\n      this.saveInverterMade();\r\n    }\r\n\r\n  }\r\n\r\n  saveInverterMade(){\r\n    const ismakefound= this.listOfInverterMake.some(el=>el.name===this.invertermake);\r\n    const found = this.listOfInverterMade.some(el=>el.name===this.invertermade)\r\n\r\n    if(!ismakefound || !found){\r\n      let invertermadedata={\r\n        invertermade:this.invertermade,\r\n        invertermake:this.desginForm.get('invertermake').value\r\n      }\r\n      console.log(invertermadedata);\r\n\r\n      this.apiService.postInverterMade(invertermadedata).subscribe((response:any)=>{\r\n          this.desginForm.patchValue({\r\n            invertermade:response.id\r\n          })\r\n          this.submitform();\r\n      })\r\n    }else{\r\n      this.submitform();\r\n    }\r\n\r\n  }\r\n\r\nremove(arc,i){\r\n//   this.utils.showLoading('Deleting Architecture Design').then((success)=>{\r\n//     this.apiService.deletePrelimImage(index).subscribe(res=>{console.log(\"hello\",res)\r\n//   this.utils.hideLoading().then(()=>{\r\n//     this.utils.showSnackBar('File deleted successfully');\r\n//     this.navController.navigateRoot([\"/schedule/design/\",{id:this.designId}]);\r\n//     //this.utils.setHomepageDesignRefresh(true);\r\n//   });\r\n//   },\r\n// (error)=>{\r\n//   this.utils.hideLoading().then(()=> {\r\n//     this.utils.errorSnackBar('some Error Occured');\r\n//   });\r\n\r\n// });\r\n// });\r\nconsole.log(arc);\r\nthis.indexOfArcFiles.push( arc.id);\r\n\r\nthis.isArcFileDelete=true;\r\nconsole.log(this.isArcFileDelete);\r\nconsole.log(this.indexOfArcFiles);\r\nconsole.log(this.architecturalData);\r\n\r\nthis.architecturalData.splice(i, 1);\r\n\r\n}\r\n\r\nremoveattachment(attachment,i){\r\n\r\n  this.indexOfArcFiles.push( attachment.id);\r\n\r\n  this.isArcFileDelete=true;\r\n  console.log(this.isArcFileDelete);\r\n  console.log(this.indexOfArcFiles);\r\n  console.log(this.attachmentData);\r\n  console.log(i);\r\n\r\n  this.attachmentData.splice(i, 1);\r\n}\r\n\r\ndeleteArcFile(index){\r\n\r\n\r\n  // this.utils.showLoading('Deleting Architecture Design').then((success)=>{\r\n     for(var i=0; i< index.length;i++){\r\n       var id = index[i];\r\n       this.apiService.deletePrelimImage(id).subscribe(res=>{console.log(\"hello\",res)\r\n\r\n   });\r\n\r\n // this.utils.hideLoading().then(()=>{\r\n //   //   this.utils.showSnackBar('File deleted successfully');\r\n //     // this.navController.navigateRoot([\"/permitschedule\",{id:this.designId}]);\r\n\r\n //    // this.utils.setPermitDesignDetailsRefresh(true);\r\n //  // });\r\n //   },\r\n (error)=>{\r\n   this.utils.hideLoading().then(()=> {\r\n     this.utils.errorSnackBar('some Error Occured');\r\n   });\r\n }}\r\n\r\n// });\r\n //this.utils.setHomepageDesignRefresh(true);\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n  addForm() {\r\n  this.onFormSubmit=false;\r\n  // this.saveModuleMake();\r\n   debugger;\r\n    console.log('Reach', this.desginForm.value);\r\n    // debugger;\r\n    // this.saveModuleMake();\r\n    this.saveUtilityName();\r\n\r\n\r\n  }\r\n\r\n  submitform(){\r\n    console.log(this.desginForm);\r\n    // const invalid = [];\r\n    // const controls = this.desginForm.controls;\r\n    // for (const name in controls) {\r\n    //     if (controls[name].invalid) {\r\n    //         invalid.push(name);\r\n    //     }\r\n    // }\r\n    // console.log('hey',invalid)\r\n    // return invalid;\r\n\r\n\r\n    if (this.desginForm.status == 'VALID') {\r\n      var newConstruction = this.desginForm.get(\"newconstruction\").value;\r\n      console.log(this.selectedUtilityId)\r\n     // this.desginForm.get('utilityrate').setValue(this.selectedUtilityRateId);\r\n     // this.desginForm.get('utility').setValue(this.selectedUtilityId);\r\n     let postData;\r\n        if (this.designId === 0) {\r\n\r\n          if(this.send===ScheduleFormEvent.SAVE_SALES_FORM){\r\n            debugger;\r\n            postData = {\r\n              company: this.desginForm.get('company').value,\r\n              name: this.desginForm.get('name').value,\r\n              email: this.desginForm.get('email').value,\r\n              solarmake: this.desginForm.get('solarmake').value,\r\n              solarmodel: this.desginForm.get('solarmodel').value,\r\n              invertermake: this.desginForm.get('invertermake').value,\r\n              invertermodel: this.desginForm.get('invertermodel').value,\r\n              monthlybill: this.desginForm.get('monthlybill').value,\r\n              address: this.desginForm.get('address').value,\r\n              createdby: this.desginForm.get('createdby').value,\r\n              assignedto: this.desginForm.get('assignedto').value,\r\n              rooftype: this.desginForm.get('rooftype').value,\r\n              //prelimdesign: new FormControl(null),\r\n              architecturaldesign: this.desginForm.get('architecturaldesign').value,\r\n              tiltgroundmount: this.desginForm.get('tiltgroundmount').value,\r\n              mountingtype: this.desginForm.get('mountingtype').value,\r\n              // jobtype: new FormControl('', [Validators.required]),\r\n              projecttype: this.desginForm.get('projecttype').value,\r\n              newconstruction: this.desginForm.get('newconstruction').value,\r\n              source: this.desginForm.get('source').value,\r\n              comments: this.desginForm.get('comments').value,\r\n              requesttype: this.desginForm.get('requesttype').value,\r\n              latitude: this.desginForm.get('latitude').value,\r\n              longitude: this.desginForm.get('longitude').value,\r\n              country:this.desginForm.get('country').value,\r\n              state: this.desginForm.get('state').value,\r\n              city: this.desginForm.get('city').value,\r\n              postalcode:this.desginForm.get('postalcode').value,\r\n              status: this.desginForm.get('status').value,\r\n              attachments: this.desginForm.get('attachments').value,\r\n              deliverydate:this.desginForm.get('deliverydate').value,\r\n              outsourcedto:this.desginForm.get('outsourcedto').value,\r\n              isoutsourced:this.desginForm.get('isoutsourced').value,\r\n              designacceptancestarttime:this.desginForm.get('designacceptancestarttime').value,\r\n              creatorparentid:this.desginForm.get('creatorparentid').value,\r\n              //isonpriority:new FormControl('false'),\r\n              paymentstatus:this.desginForm.get('paymentstatus').value,\r\n              paymenttype:this.desginForm.get('paymenttype').value,\r\n              utility:this.selectedUtilityId,\r\n              utilityrate : this.selectedUtilityRateId,\r\n              annualutilityescalation :this.desginForm.get('annualutilityescalation').value,\r\n              incentive : this.desginForm.get('incentive').value,\r\n              costofsystem : this.desginForm.get('costofsystem').value,\r\n              personname : this.desginForm.get('personname').value,\r\n              requirementtype :this.desginForm.get('requirementtype').value,\r\n            }\r\n            this.utils.showLoading('Saving').then(() => {\r\n            // this.apiService.addDesginForm(this.desginForm.value).subscribe((response) => {\r\n              this.apiService.addDesginForm(postData).subscribe((response) => {\r\n              // this.uploaarchitecturedesign(response.id,'architecturaldesign');\r\n              // this.uploadpreliumdesign(response.id,'attachments')\r\n              this.utils.hideLoading().then(()=>{\r\n                if(this.logoSelected){\r\n              this.updateLogo();\r\n                }\r\n              if(newConstruction=='true'){\r\n                // if(this.architecturalFileUpload){\r\n                   this.uploaarchitecturedesign(response,'architecturaldesign');\r\n                // }\r\n               }\r\n               else{\r\n                 if(this.attachmentFileUpload){\r\n                   this.uploadpreliumdesign(response,'attachments')\r\n                 }\r\n                 else{\r\n                   console.log('Redirect.....')\r\n                  this.router.navigate(['/homepage/design'])\r\n                  // this.utils.showSnackBar('Design have been saved');\r\n                  this.utils.setHomepageDesignRefresh(true);\r\n                 }\r\n               }\r\n              // this.utils.hideLoading().then(() => {\r\n              //   console.log('Res', response);\r\n              //   this.createChatGroup(response);\r\n              //   this.router.navigate(['/homepage/design'])\r\n              //   // this.utils.showSnackBar('Design have been saved');\r\n              //   this.utils.setHomepageDesignRefresh(true);\r\n              //   // this.navController.pop();\r\n              //   // this.utils.showSuccessModal('Desgin have been saved').then((modal) => {\r\n              //   //   modal.present();\r\n              //   //   modal.onWillDismiss().then((dismissed) => {\r\n              //       // this.utils.setHomepageDesignRefresh(true);\r\n              //   //     this.navController.pop();\r\n              //   //   });\r\n              //   // });\r\n\r\n               });\r\n            }, responseError => {\r\n              this.utils.hideLoading();\r\n                const error: ErrorModel = responseError.error;\r\n                this.utils.errorSnackBar(error.message);\r\n              });\r\n            });\r\n            }\r\n            else if(this.send===ScheduleFormEvent.SEND_SALES_FORM){\r\n              postData = {\r\n                company: this.desginForm.get('company').value,\r\n                name: this.desginForm.get('name').value,\r\n                email: this.desginForm.get('email').value,\r\n                solarmake: this.desginForm.get('solarmake').value,\r\n                solarmodel: this.desginForm.get('solarmodel').value,\r\n                invertermake: this.desginForm.get('invertermake').value,\r\n                invertermodel: this.desginForm.get('invertermodel').value,\r\n                monthlybill: this.desginForm.get('monthlybill').value,\r\n                address: this.desginForm.get('address').value,\r\n                createdby: this.desginForm.get('createdby').value,\r\n                assignedto: this.desginForm.get('assignedto').value,\r\n                rooftype: this.desginForm.get('rooftype').value,\r\n                //prelimdesign: new FormControl(null),\r\n                architecturaldesign: this.desginForm.get('architecturaldesign').value,\r\n                tiltgroundmount: this.desginForm.get('tiltgroundmount').value,\r\n                mountingtype: this.desginForm.get('mountingtype').value,\r\n                // jobtype: new FormControl('', [Validators.required]),\r\n                projecttype: this.desginForm.get('projecttype').value,\r\n                newconstruction: this.desginForm.get('newconstruction').value,\r\n                source: this.desginForm.get('source').value,\r\n                comments: this.desginForm.get('comments').value,\r\n                requesttype: this.desginForm.get('requesttype').value,\r\n                latitude: this.desginForm.get('latitude').value,\r\n                longitude: this.desginForm.get('longitude').value,\r\n                country:this.desginForm.get('country').value,\r\n                state: this.desginForm.get('state').value,\r\n                city: this.desginForm.get('city').value,\r\n                postalcode:this.desginForm.get('postalcode').value,\r\n                status: this.desginForm.get('status').value,\r\n                attachments: this.desginForm.get('attachments').value,\r\n                deliverydate:this.desginForm.get('deliverydate').value,\r\n                outsourcedto:this.desginForm.get('outsourcedto').value,\r\n                isoutsourced:this.desginForm.get('isoutsourced').value,\r\n                designacceptancestarttime:this.desginForm.get('designacceptancestarttime').value,\r\n                creatorparentid:this.desginForm.get('creatorparentid').value,\r\n                //isonpriority:new FormControl('false'),\r\n                paymentstatus:this.desginForm.get('paymentstatus').value,\r\n                paymenttype:this.desginForm.get('paymenttype').value,\r\n                utility:this.selectedUtilityId,\r\n                utilityrate : this.selectedUtilityRateId,\r\n                annualutilityescalation :this.desginForm.get('annualutilityescalation').value,\r\n                incentive : this.desginForm.get('incentive').value,\r\n                costofsystem : this.desginForm.get('costofsystem').value,\r\n                personname : this.desginForm.get('personname').value,\r\n                requirementtype :this.desginForm.get('requirementtype').value,\r\n              }\r\n              this.apiService.addDesginForm(postData).subscribe((response) => {\r\n                console.log(response.id);\r\n                this.utils.hideLoading().then(()=>{\r\n                  if(this.logoSelected){\r\n                  this.updateLogo();\r\n                  }\r\n                if(newConstruction == 'true')\r\n                {\r\n               this.uploaarchitecturedesign(response,'architecturaldesign');\r\n                }\r\n                else{\r\n                  if(this.attachmentFileUpload){\r\n                    this.uploadpreliumdesign(response,'attachments')\r\n                  }\r\n                  else{\r\n                    let objToSend: NavigationExtras = {\r\n                              queryParams: {\r\n                                id:response.id,\r\n                                designData:\"prelim\",\r\n                                fulldesigndata:response,\r\n\r\n                              },\r\n                              skipLocationChange: false,\r\n                              fragment: 'top'\r\n                          };\r\n\r\n\r\n                      this.router.navigate(['/payment-modal'], {\r\n                        state: { productdetails: objToSend }\r\n                      });\r\n                  }\r\n                }\r\n              })\r\n              }\r\n            , responseError => {\r\n                this.utils.hideLoading();\r\n                  const error: ErrorModel = responseError.error;\r\n                  this.utils.errorSnackBar(error.message);\r\n                });\r\n              }\r\n\r\n\r\n        } else {\r\n          if(this.send===ScheduleFormEvent.SAVE_SALES_FORM){\r\n            postData = {\r\n              company: this.desginForm.get('company').value,\r\n              name: this.desginForm.get('name').value,\r\n              email: this.desginForm.get('email').value,\r\n              solarmake: this.desginForm.get('solarmake').value,\r\n              solarmodel: this.desginForm.get('solarmodel').value,\r\n              invertermake: this.desginForm.get('invertermake').value,\r\n              invertermodel: this.desginForm.get('invertermodel').value,\r\n              monthlybill: this.desginForm.get('monthlybill').value,\r\n              address: this.desginForm.get('address').value,\r\n              createdby: this.desginForm.get('createdby').value,\r\n              assignedto: this.desginForm.get('assignedto').value,\r\n              rooftype: this.desginForm.get('rooftype').value,\r\n              //prelimdesign: new FormControl(null),\r\n              architecturaldesign: this.desginForm.get('architecturaldesign').value,\r\n              tiltgroundmount: this.desginForm.get('tiltgroundmount').value,\r\n              mountingtype: this.desginForm.get('mountingtype').value,\r\n              // jobtype: new FormControl('', [Validators.required]),\r\n              projecttype: this.desginForm.get('projecttype').value,\r\n              newconstruction: this.desginForm.get('newconstruction').value,\r\n              source: this.desginForm.get('source').value,\r\n              comments: this.desginForm.get('comments').value,\r\n              requesttype: this.desginForm.get('requesttype').value,\r\n              latitude: this.desginForm.get('latitude').value,\r\n              longitude: this.desginForm.get('longitude').value,\r\n              country:this.desginForm.get('country').value,\r\n              state: this.desginForm.get('state').value,\r\n              city: this.desginForm.get('city').value,\r\n              postalcode:this.desginForm.get('postalcode').value,\r\n              status: this.desginForm.get('status').value,\r\n              attachments: this.desginForm.get('attachments').value,\r\n              deliverydate:this.desginForm.get('deliverydate').value,\r\n              outsourcedto:this.desginForm.get('outsourcedto').value,\r\n              isoutsourced:this.desginForm.get('isoutsourced').value,\r\n              designacceptancestarttime:this.desginForm.get('designacceptancestarttime').value,\r\n              creatorparentid:this.desginForm.get('creatorparentid').value,\r\n              //isonpriority:new FormControl('false'),\r\n              paymentstatus:this.desginForm.get('paymentstatus').value,\r\n              paymenttype:this.desginForm.get('paymenttype').value,\r\n              utility:this.selectedUtilityId,\r\n              utilityrate : this.selectedUtilityRateId,\r\n              annualutilityescalation :this.desginForm.get('annualutilityescalation').value,\r\n              incentive : this.desginForm.get('incentive').value,\r\n              costofsystem : this.desginForm.get('costofsystem').value,\r\n              personname : this.desginForm.get('personname').value,\r\n              requirementtype :this.desginForm.get('requirementtype').value,\r\n            }\r\n            this.utils.showLoading('Saving').then(() => {\r\n          this.apiService.updateDesignForm(postData, this.designId).subscribe(response => {\r\n            this.utils.hideLoading().then(()=>{\r\n              if(this.logoSelected){\r\n              this.updateLogo();\r\n              }\r\n            if(newConstruction=='true')\r\n            {\r\n            this.uploaarchitecturedesign(response,'architecturaldesign');\r\n            }\r\n            else{\r\n              if(this.attachmentFileUpload){\r\n            this.uploadpreliumdesign(response,'attachments')\r\n              }\r\n              else{\r\n                this.utils.showSnackBar('Design have been updated');\r\n                this.utils.setDesignDetailsRefresh(true);\r\n                this.navController.pop();\r\n              }\r\n            }\r\n            if(this.isArcFileDelete){\r\n              this.deleteArcFile(this.indexOfArcFiles);\r\n            }\r\n\r\n              });\r\n          },\r\n           responseError => {\r\n            this.utils.hideLoading().then(() => {\r\n              const error: ErrorModel = responseError.error;\r\n              this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n            });\r\n\r\n          });\r\n        });\r\n        }\r\n        else if(this.send===ScheduleFormEvent.SEND_SALES_FORM){\r\n          postData = {\r\n            company: this.desginForm.get('company').value,\r\n            name: this.desginForm.get('name').value,\r\n            email: this.desginForm.get('email').value,\r\n            solarmake: this.desginForm.get('solarmake').value,\r\n            solarmodel: this.desginForm.get('solarmodel').value,\r\n            invertermake: this.desginForm.get('invertermake').value,\r\n            invertermodel: this.desginForm.get('invertermodel').value,\r\n            monthlybill: this.desginForm.get('monthlybill').value,\r\n            address: this.desginForm.get('address').value,\r\n            createdby: this.desginForm.get('createdby').value,\r\n            assignedto: this.desginForm.get('assignedto').value,\r\n            rooftype: this.desginForm.get('rooftype').value,\r\n            //prelimdesign: new FormControl(null),\r\n            architecturaldesign: this.desginForm.get('architecturaldesign').value,\r\n            tiltgroundmount: this.desginForm.get('tiltgroundmount').value,\r\n            mountingtype: this.desginForm.get('mountingtype').value,\r\n            // jobtype: new FormControl('', [Validators.required]),\r\n            projecttype: this.desginForm.get('projecttype').value,\r\n            newconstruction: this.desginForm.get('newconstruction').value,\r\n            source: this.desginForm.get('source').value,\r\n            comments: this.desginForm.get('comments').value,\r\n            requesttype: this.desginForm.get('requesttype').value,\r\n            latitude: this.desginForm.get('latitude').value,\r\n            longitude: this.desginForm.get('longitude').value,\r\n            country:this.desginForm.get('country').value,\r\n            state: this.desginForm.get('state').value,\r\n            city: this.desginForm.get('city').value,\r\n            postalcode:this.desginForm.get('postalcode').value,\r\n            status: this.desginForm.get('status').value,\r\n            attachments: this.desginForm.get('attachments').value,\r\n            deliverydate:this.desginForm.get('deliverydate').value,\r\n            outsourcedto:this.desginForm.get('outsourcedto').value,\r\n            isoutsourced:this.desginForm.get('isoutsourced').value,\r\n            designacceptancestarttime:this.desginForm.get('designacceptancestarttime').value,\r\n            creatorparentid:this.desginForm.get('creatorparentid').value,\r\n            //isonpriority:new FormControl('false'),\r\n            paymentstatus:this.desginForm.get('paymentstatus').value,\r\n            paymenttype:this.desginForm.get('paymenttype').value,\r\n            utility:this.selectedUtilityId,\r\n            utilityrate : this.selectedUtilityRateId,\r\n            annualutilityescalation :this.desginForm.get('annualutilityescalation').value,\r\n            incentive : this.desginForm.get('incentive').value,\r\n            costofsystem : this.desginForm.get('costofsystem').value,\r\n            personname : this.desginForm.get('personname').value,\r\n            requirementtype :this.desginForm.get('requirementtype').value,\r\n          }\r\n          this.apiService.updateDesignForm(postData, this.designId).subscribe(response => {\r\n            this.utils.hideLoading().then(()=>{\r\n              if(this.logoSelected){\r\n              this.updateLogo();\r\n              }\r\n            if(newConstruction=='true')\r\n            {\r\n            this.uploaarchitecturedesign(response,'architecturaldesign');\r\n            }\r\n            else{\r\n              if(this.attachmentFileUpload){\r\n            this.uploadpreliumdesign(response,'attachments');\r\n              }\r\n              else{\r\n                let objToSend: NavigationExtras = {\r\n                  queryParams: {\r\n                    id:response.id,\r\n                    designData:\"prelim\",\r\n                    fulldesigndata:response,\r\n                  },\r\n                  skipLocationChange: false,\r\n                  fragment: 'top'\r\n              };\r\n\r\n\r\n          this.router.navigate(['/payment-modal'], {\r\n            state: { productdetails: objToSend }\r\n          });\r\n              }\r\n            }\r\n            if(this.isArcFileDelete){\r\n              console.log(\"hello\");\r\n              this.deleteArcFile(this.indexOfArcFiles);\r\n            }\r\n            // this.utils.hideLoading().then(() => {\r\n            //   console.log('Res', response);\r\n            //   this.value=response.id;\r\n\r\n            //   this.utils.showSnackBar('Design have been updated');\r\n            //   //this.router.navigate([\"payment-modal\",{id:response.id,designData:\"prelim\"}]);\r\n\r\n\r\n\r\n             });\r\n          }, responseError => {\r\n            this.utils.hideLoading().then(() => {\r\n              const error: ErrorModel = responseError.error;\r\n              this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n            });\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n\r\n    } else {\r\n      if(this.desginForm.value.name=='' || this.desginForm.get('name').hasError('pattern')){\r\n\r\n        this.utils.errorSnackBar('Please check the field name.');\r\n      }\r\n      else if(this.desginForm.value.email=='' || this.desginForm.get('email').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field email.');\r\n      }\r\n      else if(this.desginForm.value.monthlybill=='' || this.desginForm.get('monthlybill').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field annual units.');\r\n      }\r\n      else if(this.desginForm.value.solarmake=='' || this.desginForm.get('solarmake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module make.');\r\n      }\r\n      else if(this.desginForm.value.solarmodel=='' || this.desginForm.get('solarmodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module model.');\r\n      }\r\n      else if(this.desginForm.value.invertermake=='' || this.desginForm.get('invertermake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter make.');\r\n      }\r\n      else if(this.desginForm.value.invertermodel=='' || this.desginForm.get('invertermodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter model.');\r\n      }\r\n      else if(this.desginForm.value.utility=='' || this.desginForm.get('utility').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field utility name.');\r\n      }\r\n      else if(this.desginForm.value.utilityrate=='' || this.desginForm.get('utilityrate').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field utility rate.');\r\n      }\r\n      else if(this.desginForm.value.mountingtype==''){\r\n        this.utils.errorSnackBar('Please fill the mounting type.');\r\n      }\r\n      else if(this.desginForm.value.annualutilityescalation==''){\r\n        this.utils.errorSnackBar('Please fill the annual utility escalation.');\r\n      }\r\n      else if(this.desginForm.value.incentive==''){\r\n        this.utils.errorSnackBar('Please fill the incentive.');\r\n      }\r\n      else if(this.desginForm.value.costofsystem==''){\r\n        this.utils.errorSnackBar('Please fill the cost of system');\r\n      }\r\n      else if(this.desginForm.value.personname==''){\r\n        this.utils.errorSnackBar('Please fill the representative name.');\r\n      }\r\n      else if(this.desginForm.value.mountingtype==''){\r\n        this.utils.errorSnackBar('Please fill the mounting type.');\r\n      }\r\n      else if(this.desginForm.value.projecttype==''){\r\n        this.utils.errorSnackBar('Please fill the project type.');\r\n      }\r\n      else if(this.desginForm.value.tiltgroundmount=='' || this.desginForm.get('tiltgroundmount').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field tilt for ground mount.');\r\n      }\r\n      else if(this.desginForm.value.rooftype==''){\r\n        this.utils.errorSnackBar('Please fill the rooftype.');\r\n      }\r\n\r\n\r\n      else if(this.desginForm.value.architecturaldesign==''){\r\n        this.utils.errorSnackBar('Please attach architectural design.');\r\n      }\r\n      else{\r\n        this.utils.errorSnackBar('Address not found. Make sure location is on on device.');\r\n      }\r\n    }\r\n  }\r\n\r\n  showInvalidFormAlert() {\r\n    let error = '';\r\n    Object.keys(this.desginForm.controls).forEach((key: string) => {\r\n      const control: AbstractControl = this.desginForm.get(key);\r\n      if (control.invalid) {\r\n        if (error !== '') {\r\n          error = error + '<br/>';\r\n        }\r\n        if (control.errors.required === true) {\r\n          error = error + this.utils.capitalizeWord(key) + ' is required';\r\n        }\r\n        if (control.errors.email === true) {\r\n          error = error + 'Invalid email';\r\n        }\r\n        if (control.errors.error !== null && control.errors.error !== undefined) {\r\n          error = error + control.errors.error;\r\n        }\r\n      }\r\n    });\r\n    console.log(this.desginForm.value);\r\n    this.utils.showAlert(error);\r\n  }\r\n\r\n\r\n  getAssignees() {\r\n    this.apiService.getDesigners().subscribe(assignees => {\r\n      this.listOfAssignees = [];\r\n      // this.listOfAssignees.push(this.utils.getDefaultAssignee(this.storage.getUserID()));\r\n      assignees.forEach(item => this.listOfAssignees.push(item));\r\n      console.log(this.listOfAssignees);\r\n    });\r\n  }\r\n\r\n  getSolarMade() {\r\n    this.utils.showLoading('Getting module models').then((success) => {\r\n      this.apiService.getSolarMade(this.desginForm.get('solarmake').value).subscribe(response => {\r\n        this.utils.hideLoading().then(()=>{\r\n          console.log(response);\r\n          this.listOfSolarMade = response;\r\n          this.desginForm.patchValue({\r\n            solarmodel: ''\r\n          });\r\n        });\r\n      }, responseError => {\r\n        this.utils.hideLoading();\r\n        const error: ErrorModel = responseError.error;\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      });\r\n    // }, (error) => {\r\n\r\n    });\r\n\r\n\r\n  }\r\nioniViewDidEnter(){\r\n\r\n\r\n}\r\n  getSolarMake() {\r\n    this.getInverterMake();\r\n\r\n    this.apiService.getSolarMake().subscribe(response => {\r\n      this.listOfSolarMake = response;\r\n\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      console.log(error);\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    });\r\n  }\r\n\r\n  getInverterMade() {\r\n    console.log(this.desginForm.get('invertermake').value);\r\n    this.utils.showLoading('Getting inverter models').then((success) => {\r\n      this.apiService.getInverterMade(this.desginForm.get('invertermake').value).subscribe(response => {\r\n        this.utils.hideLoading().then(()=>{\r\n          console.log(response);\r\n          this.listOfInverterMade = response;\r\n          this.desginForm.patchValue({\r\n            invertermodel: ''\r\n          });\r\n        });\r\n      }, responseError => {\r\n        this.utils.hideLoading();\r\n        const error: ErrorModel = responseError.error;\r\n        this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n      });\r\n    // }, (reject) => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n  getInverterMake() {\r\n    this.apiService.getInverterMake().subscribe(response => {\r\n      console.log(response);\r\n      this.listOfInverterMake = response;\r\n    }, responseError => {\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    });\r\n  }\r\n\r\n  // onProjectChange(event){\r\n  // console.log(\"eve\",this.desginForm);\r\n  // }\r\n\r\n  getclass=()=>{\r\n  return   this.address == \"\" ? \"0px\" : \"50px\";\r\n  }\r\n\r\n  eventcheck(e){\r\n    this.showValue = e.target.value;\r\n    console.log(this.showValue);\r\n\r\n  }\r\n  showUpload(e){\r\n    this.uploadbox = e.target.value;\r\n\r\n\r\n  }\r\n\r\n\r\n  files(event){\r\n   console.log(event.target.files);\r\n    for(var i=0; i< event.target.files.length;i++){\r\n      this.archFiles.push(event.target.files[i])\r\n    }\r\n    console.log(this.archFiles);\r\n  }\r\n\r\n  prelimfiles(event){\r\n    console.log(event.target.files);\r\n    for(var i=0; i< event.target.files.length;i++){\r\n      this.prelimFiles.push(event.target.files[i])\r\n    }\r\n    this.attachmentFileUpload= true;\r\n    if(this.prelimFiles.length==1){\r\n      this.fileName= event.target.files[0].name;\r\n      console.log(this.fileName);\r\n\r\n    }else if(this.prelimFiles.length >1){\r\n      this.fileName= this.prelimFiles.length;\r\n    }else{\r\n      this.fileName='';\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  uploaarchitecturedesign(response?: any, key?: string){\r\n    console.log(this.archFiles);\r\n    const imageData = new FormData();\r\n    for(var i=0; i< this.archFiles.length;i++){\r\n      imageData.append(\"files\",this.archFiles[i]);\r\n      if(i ==0){\r\n        imageData.append('path', 'designs/' + response.id);\r\n        imageData.append('refId', response.id + '');\r\n        imageData.append('ref', 'design');\r\n        imageData.append('field', key);\r\n      }\r\n    }\r\n    this.utils.showLoading(\"Architectural File Uploading\").then(()=>{\r\n    this.apiService.uploaddesign(imageData).subscribe(res=>{\r\n      console.log(res);\r\n      this.utils.hideLoading();\r\n      if(this.attachmentFileUpload){\r\n      this.uploadpreliumdesign(response,'attachments');\r\n      }\r\n      else{\r\n        if(this.send === ScheduleFormEvent.SAVE_DESIGN_FORM ){\r\n        this.router.navigate(['/homepage/design'])\r\n        if(this.designId==0){\r\n                 this.utils.showSnackBar('Design have been saved');\r\n        }\r\n        else{\r\n          this.utils.showSnackBar('Design have been updated')\r\n        }\r\n                this.utils.setHomepageDesignRefresh(true);\r\n        }\r\n        else{\r\n          let objToSend: NavigationExtras = {\r\n                    queryParams: {\r\n                      id:response.id,\r\n                      designData:\"prelim\",\r\n                      fulldesigndata:response\r\n                    },\r\n                    skipLocationChange: false,\r\n                    fragment: 'top'\r\n                };\r\n\r\n\r\n            this.router.navigate(['/payment-modal'], {\r\n              state: { productdetails: objToSend }\r\n            });\r\n        }\r\n      }\r\n    }, responseError => {\r\n      this.utils.hideLoading();\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    })\r\n  })\r\n\r\n\r\n  }\r\n\r\n  uploadpreliumdesign(response?: any, key?: string,filearray?:File[]){\r\n    console.log(this.prelimFiles);\r\n    const imageData = new FormData();\r\n    for(var i=0; i< this.prelimFiles.length;i++){\r\n      imageData.append(\"files\",this.prelimFiles[i]);\r\n      if(i ==0){\r\n        imageData.append('path', 'designs/' + response.id);\r\n        imageData.append('refId', response.id + '');\r\n        imageData.append('ref', 'design');\r\n        imageData.append('field', key);\r\n      }\r\n    }\r\n    this.utils.showLoading(\"Attachment File Uploading\").then(()=>{\r\n    this.apiService.uploaddesign(imageData).subscribe(res=>{\r\n      console.log(res);\r\n      this.utils.hideLoading();\r\n      if(this.send === ScheduleFormEvent.SAVE_DESIGN_FORM)\r\n      {\r\n      this.router.navigate(['/homepage/design'])\r\n      if(this.designId==0)\r\n      {\r\n                 this.utils.showSnackBar('Design have been saved');\r\n      }\r\n      else{\r\n        this.utils.showSnackBar('Design have been updated');\r\n      }\r\n                this.utils.setHomepageDesignRefresh(true);\r\n      }\r\n      else{\r\n        let objToSend: NavigationExtras = {\r\n          queryParams: {\r\n            id:response.id,\r\n            designData:\"prelim\",\r\n            fulldesigndata:response\r\n          },\r\n          skipLocationChange: false,\r\n          fragment: 'top'\r\n      };\r\n\r\n\r\n  this.router.navigate(['/payment-modal'], {\r\n    state: { productdetails: objToSend }\r\n  });\r\n      }\r\n\r\n    }, responseError => {\r\n      this.utils.hideLoading();\r\n      //this.utils.hideUploadingLoading();\r\n      const error: ErrorModel = responseError.error;\r\n      this.utils.errorSnackBar(error.message[0].messages[0].message);\r\n    })\r\n  })\r\n  }\r\n\r\n  updateLogo(){\r\n\r\n    this.apiService.uploadlogo(this.blob,this.uploadLogo).subscribe(res=>{\r\n      console.log(res);\r\n        this.apiService.updateUser(this.userId,this.uploadLogo).subscribe((res:any)=>{\r\n          console.log('updated',res);\r\n\r\n         let token=  this.storage.getJWTToken();\r\n          this.storage.setUser(res,token);\r\n        })\r\n    })\r\n  }\r\n\r\n  // pickarchitecturaldesign(){\r\n  //   this.camera.getPicture(this.options).then((imageData) => {\r\n  //     let base64Image = 'data:image/jpeg;base64,' + imageData;\r\n  //     let blob = this.utils.b64tBlob(base64Image);\r\n  //     let filename = Date.now().toString() + '.png';\r\n  //     this.utils.showLoading('Uploading').then(()=>{\r\n  //       this.apiService.uploaddesign(designId, key, blob, filename).subscribe(()=>{\r\n\r\n  //       })\r\n  //     })\r\n  //   })\r\n\r\n  // }\r\n\r\n  removeArc(i) {\r\n    this.archFiles.splice(i, 1);\r\n  }\r\n  removePrelim(i) {\r\n    this.prelimFiles.splice(i, 1);\r\n  }\r\n  sendtowattmonk(){\r\n    var designacceptancestarttime = new Date();\r\n      designacceptancestarttime.setMinutes(designacceptancestarttime.getMinutes() + 15);\r\n    const postData = {\r\n      outsourcedto: 232,\r\n        isoutsourced: \"true\",\r\n        status: \"outsourced\",\r\n        designacceptancestarttime: designacceptancestarttime,\r\n        paymenttype: this.utils.getPaymentMode().value,\r\n        couponid:this.utils.getCouponId().value\r\n      };\r\n\r\n      this.utils.showLoading('Assigning').then(()=>{\r\n        //this.newprelimsRef.update({ count: this.newprelimscount + 1});\r\n        this.apiService.updateDesignForm(postData, /*this.desginForm.get('id').value*/this.value).subscribe((value) => {\r\n          this.utils.hideLoading().then(()=>{\r\n            ;\r\n            console.log('reach ', value);\r\n\r\n            this.utils.showSnackBar('Design request has been assigned to wattmonk successfully');//.firstname +\" \"+this.selectedDesigner.lastname + ' ' + 'successfully');\r\n            this.router.navigate(['/homepage/design'])\r\n            this.utils.setHomepageDesignRefresh(true);\r\n          })\r\n        }, (error) => {\r\n          this.utils.hideLoading();\r\n        });\r\n      })\r\n  }\r\n\r\n  Pay()\r\n  {\r\n    if (this.desginForm.status === 'VALID') {\r\n    //this.router.navigate([\"payment-modal\",{designData:\"prelim\"}]);\r\n    let objToSend: NavigationExtras = {\r\n      queryParams: {\r\n        //id:response.id,\r\n        designData:\"prelim\"\r\n      },\r\n      skipLocationChange: false,\r\n      fragment: 'top'\r\n  };\r\n\r\n\r\nthis.router.navigate(['/payment-modal'], {\r\nstate: { productdetails: objToSend }\r\n});\r\n    }else {\r\n      if(this.desginForm.value.name=='' || this.desginForm.get('name').hasError('pattern')){\r\n\r\n        this.utils.errorSnackBar('Please check the field name.');\r\n      }\r\n      else if(this.desginForm.value.email=='' || this.desginForm.get('email').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field email.');\r\n      }\r\n      else if(this.desginForm.value.monthlybill=='' || this.desginForm.get('monthlybill').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field annual units.');\r\n      }\r\n      else if(this.desginForm.value.modulemake=='' || this.desginForm.get('modulemake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module make.');\r\n      }\r\n      else if(this.desginForm.value.modulemodel=='' || this.desginForm.get('modulemodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field module model.');\r\n      }\r\n      else if(this.desginForm.value.invertermake=='' || this.desginForm.get('invertermake').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter make.');\r\n      }\r\n      else if(this.desginForm.value.invertermodel=='' || this.desginForm.get('invertermodel').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field inverter model.');\r\n      }\r\n      else if(this.desginForm.value.mountingtype==''){\r\n        this.utils.errorSnackBar('Please fill the mounting type.');\r\n      }\r\n      else if(this.desginForm.value.projecttype==''){\r\n        this.utils.errorSnackBar('Please fill the project type.');\r\n      }\r\n      else if(this.desginForm.value.tiltgroundmount=='' || this.desginForm.get('tiltgroundmount').hasError('pattern')){\r\n        this.utils.errorSnackBar('Please check the field tilt for ground mount.');\r\n      }\r\n      else if(this.desginForm.value.rooftype==''){\r\n        this.utils.errorSnackBar('Please fill the rooftype.');\r\n      }\r\n\r\n\r\n      else if(this.desginForm.value.architecturaldesign==[]){\r\n        this.utils.errorSnackBar('Please attach architectural design.');\r\n      }\r\n      else{\r\n        this.utils.errorSnackBar('Address not found. Make sure location is on on device.');\r\n      }\r\n    }\r\n  }\r\n\r\n  createChatGroup(design:DesginDataModel){\r\n    var GUID = 'prelim' + \"_\" + new Date().getTime();\r\n\r\n    var address = design.address.substring(0, 60);\r\n    var groupName = design.name + \"_\" + address;\r\n\r\n    var groupType = CometChat.GROUP_TYPE.PRIVATE;\r\n    var password = \"\";\r\n\r\n    var group = new CometChat.Group(GUID, groupName, groupType, password);\r\n\r\n    CometChat.createGroup(group).then(group=>{\r\n      let membersList = [\r\n        new CometChat.GroupMember(\"\" + design.createdby.id, CometChat.GROUP_MEMBER_SCOPE.ADMIN)\r\n      ];\r\n      CometChat.addMembersToGroup(group.getGuid(),membersList,[]).then(response=>{\r\n        this.cdr.detectChanges();\r\n      })\r\n    })\r\n  }\r\n\r\n  gettingClients(){\r\n    this.apiService.getClients().subscribe(res=>{\r\n      this.getCompanies = res;\r\n      console.log(this.getCompanies);\r\n      this.filteredCompanies = this.desginForm.get('companyname').valueChanges.pipe(\r\n        startWith(\"\"),\r\n        map(value => (typeof value === \"string\" ? value : value.companyid)),\r\n        map(companyname => (companyname ? this._filterCompanies(companyname) : this.getCompanies.slice()))\r\n      );\r\n    },\r\n    error => {\r\n      this.utils.errorSnackBar(\"Error\");\r\n    }\r\n  );\r\n  }\r\n\r\n  proxyValue: any; onCompanyChanged(event$) {\r\n    console.log(event$);\r\n    this.proxyValue = event$.detail.value.companyname;\r\n    this.designCreatedBy = event$.detail.value.companyid;\r\n    this.designCreatedByUserParent = event$.detail.value.parentid;\r\n    if(this.designCreatedBy !== null && this.designCreatedByUserParent !== null){\r\n      var designacceptancestarttime = new Date();\r\n      designacceptancestarttime.setMinutes(designacceptancestarttime.getMinutes() + 15);\r\n          console.log(designacceptancestarttime)\r\n      this.desginForm.patchValue({createdby:this.designCreatedBy,\r\n                                  creatorparentid:this.designCreatedByUserParent,\r\n                                  status:\"outsourced\",\r\n                                  outsourcedto:\"232\",\r\n                                  isoutsourced:\"true\",\r\n                                  designacceptancestarttime:designacceptancestarttime})\r\n    }\r\n}\r\n\r\n  private _filterCompanies(companyname: string): Clients[] {\r\n    return this.getCompanies.filter(\r\n      company => company.companyname.toLowerCase().indexOf(companyname) != -1\r\n    );\r\n  }\r\n\r\n  onRangeChangeHandler() {\r\n    this.number = this.desginForm.get('annualutilityescalation').value;\r\n    console.log(this.number);\r\n\r\n\r\n    if (this.desginForm.get('annualutilityescalation').value > 0 && this.desginForm.get('annualutilityescalation').value < 1) {\r\n        this.color = 'dark';\r\n    }\r\n    else if (this.desginForm.get('annualutilityescalation').value > 2 && this.desginForm.get('annualutilityescalation').value < 3) {\r\n      this.color = 'primary';\r\n    }\r\n    else if (this.desginForm.get('annualutilityescalation').value > 3 && this.desginForm.get('annualutilityescalation').value < 4) {\r\n      this.color = 'secondary';\r\n    }\r\n    else {\r\n      this.color = 'danger';\r\n    }\r\n  }\r\n}\r\n","export default \"<ion-content class=\\\"ion-padding-start ion-padding-end ion-padding-bottom\\\" style=\\\"height:650px\\\" >\\r\\n    <form [formGroup]=\\\"surveyForm\\\">\\r\\n        <ion-grid style=\\\"position: relative;margin-top: 30px;\\\">\\r\\n            <!-- <ion-row *ngIf=\\\"address !== ''\\\">\\r\\n                <ion-col>\\r\\n                    {{address}}\\r\\n                </ion-col>\\r\\n         \\r\\n            </ion-row>\\r\\n            <ion-row *ngIf=\\\"address == ''\\\">\\r\\n                <ion-col>\\r\\n                Address not found.\\r\\n                </ion-col>\\r\\n         \\r\\n            </ion-row> -->\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-label position=\\\"floating\\\">Name*</ion-label>\\r\\n                        <ion-input type=\\\"text\\\" class=\\\"form_input\\\" autocapitalize=\\\"words\\\"\\r\\n                                   formControlName=\\\"name\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <div style=\\\"height: 5px;\\\">\\r\\n                        <div *ngIf=\\\"surveyForm.get('name').hasError('pattern') && surveyForm.get('name').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{nameError}}</span>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"surveyForm.get('name').value === '' && surveyForm.get('name').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-label position=\\\"floating\\\">Email</ion-label>\\r\\n                        <ion-input autocapitalize=\\\"none\\\" formControlName=\\\"email\\\" email=\\\"true\\\"\\r\\n                                   type=\\\"email\\\" autocomplete=\\\"off\\\"\\r\\n                                   class=\\\"form_input\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <div style=\\\"height: 5px;\\\">\\r\\n                        <div *ngIf=\\\"surveyForm.get('email').hasError('pattern') && surveyForm.get('email').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{emailError}}</span>\\r\\n                        </div>\\r\\n                        <!--<div *ngIf=\\\"surveyForm.get('email').value === '' && surveyForm.get('email').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                        </div>-->\\r\\n                    </div>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-label position=\\\"floating\\\">Phone*</ion-label>\\r\\n                        <ion-input formControlName=\\\"phonenumber\\\" type=\\\"tel\\\"\\r\\n                                   class=\\\"form_input\\\" maxLength=\\\"15\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <div style=\\\"height: 5px;\\\">\\r\\n                        <div *ngIf=\\\"surveyForm.get('phonenumber').hasError('pattern') && surveyForm.get('phonenumber').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{phoneError}}</span>\\r\\n                        </div>\\r\\n                    <!--    <div *ngIf=\\\"surveyForm.get('phone').value === '' && surveyForm.get('phone').dirty\\\">\\r\\n                            <span class=\\\"error\\\">{{fieldRequired}}</span>\\r\\n                        </div>-->\\r\\n                    </div>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n            <ion-row>\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-label style=\\\"display: none;\\\">Job Type</ion-label>\\r\\n                        <ion-select class=\\\"form_input select_div\\\" placeholder=\\\"job type\\\"\\r\\n                                    ok-text=\\\"\\\"\\r\\n                                    cancel-text=\\\"\\\"\\r\\n                                    formControlName=\\\"jobtype\\\" interface=\\\"popover\\\">\\r\\n<!--                            <ion-select-option value=\\\"pvbattery\\\">PV+Battery</ion-select-option>-->\\r\\n<!--                            <ion-select-option value=\\\"battery\\\">Battery</ion-select-option>-->\\r\\n                            <ion-select-option value=\\\"pv\\\">PV</ion-select-option>\\r\\n                        </ion-select>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n            <ion-row class=\\\"ion-margin-top\\\">\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding no-border\\\" lines=\\\"none\\\">\\r\\n                        <app-date-time formControlName=\\\"surveydatetime\\\" placeholder=\\\"date and time\\\"\\r\\n                                       required=\\\"false\\\"></app-date-time>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n            <ion-row class=\\\"ion-margin-top\\\">\\r\\n                <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n                    <span class=\\\"input-placeholder\\\">comments</span>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n                    <ion-textarea class=\\\"ion-no-margin ion-no-padding comment_box\\\" rows=\\\"3\\\"\\r\\n                                  formControlName=\\\"comments\\\"></ion-textarea>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n            <!-- <ion-row class=\\\"ion-margin-top\\\">\\r\\n                <ion-col>\\r\\n                    <ion-item class=\\\"ion-no-padding no-border\\\" lines=\\\"none\\\">\\r\\n                        <app-user-selector formControlName=\\\"assignedto\\\" placeholder=\\\"assign\\\"\\r\\n                                           [assignees]=\\\"listOfAssignees\\\"></app-user-selector>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n            </ion-row> -->\\r\\n\\r\\n        </ion-grid>\\r\\n    </form>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"<!-- <ion-content scroll=\\\"false\\\"> -->\\r\\n    <!-- <ion-grid style=\\\"overflow:hidden;\\\" scroll=\\\"false\\\"> -->\\r\\n        <ion-row class=\\\"ion-align-items-center ion-padding-start\\\">\\r\\n            <ion-col>\\r\\n                <h5 class=\\\"ion-no-padding ion-no-margin\\\" style=\\\"font-weight: bolder;\\\" *ngIf=\\\"!tabsDisabled && router.url=='/schedule/design'\\\">Add Site Assessment</h5>\\r\\n                <h5 class=\\\"ion-no-padding ion-no-margin\\\" style=\\\"font-weight: bolder;\\\" *ngIf=\\\"!tabsDisabled && router.url=='/schedule/salesproposal'\\\">Add Sales Proposal</h5>\\r\\n                <h5 class=\\\"ion-no-padding ion-no-margin\\\" style=\\\"font-weight: bolder;\\\" *ngIf=\\\"!tabsDisabled && router.url=='/schedule/survey'\\\">Schedule Survey</h5>\\r\\n                <h4 class=\\\"ion-no-padding ion-no-margin\\\" *ngIf=\\\"tabsDisabled\\\">Edit </h4>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"auto\\\">\\r\\n                <ion-button fill=\\\"clear\\\" size=\\\"small\\\" class=\\\"ion-no-padding\\\" (click)=\\\"goBack()\\\">\\r\\n                    <ion-icon name=\\\"close-outline\\\" style=\\\"color: dimgrey;\\\" size=\\\"large\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n                <!-- <ion-buttons slot=\\\"start\\\">\\r\\n                    <ion-back-button></ion-back-button>\\r\\n                </ion-buttons> -->\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <!-- <ion-row class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n            <ion-col *ngIf=\\\"address !== '' \\\">\\r\\n                <span class=\\\"address-text\\\">\\r\\n                    {{address}}\\r\\n                </span>\\r\\n            </ion-col>\\r\\n            <ion-col *ngIf=\\\"address === '' \\\">\\r\\n                <span>\\r\\n                    No address found\\r\\n                </span>\\r\\n            </ion-col>\\r\\n        </ion-row> -->\\r\\n        <!-- <ion-row class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n            <ion-col class=\\\"ion-text-end\\\" *ngIf=\\\"!tabsDisabled\\\">\\r\\n                <span [routerLink]=\\\"['/map-page']\\\" routerDirection=\\\"forward\\\" style=\\\"color: #4E6FB0;\\\">\\r\\n                    Change\\r\\n                </span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-text-end\\\" *ngIf=\\\"tabsDisabled\\\">\\r\\n                <span class=\\\"edit_span\\\">\\r\\n                    Change\\r\\n                </span>\\r\\n            </ion-col>\\r\\n        </ion-row> -->\\r\\n    <!-- </ion-grid> -->\\r\\n\\r\\n    <!-- <ion-grid class=\\\"ion-margin-start ion-margin-end\\\" style=\\\"overflow:hidden;\\\" scroll=\\\"false\\\"> -->\\r\\n        <!-- <ion-segment mode=\\\"ios\\\" class=\\\"segments\\\" (ionChange)=\\\"segmentChanged($event)\\\" [value]=\\\"currentTab\\\"\\r\\n            [disabled]=\\\"tabsDisabled\\\">\\r\\n            <ion-segment-button value=\\\"design\\\">\\r\\n                <ion-label>Design</ion-label>\\r\\n            </ion-segment-button>\\r\\n            <ion-segment-button value=\\\"survey\\\">\\r\\n                <ion-label>Survey</ion-label>\\r\\n            </ion-segment-button>\\r\\n        </ion-segment> -->\\r\\n    <!-- </ion-grid> -->\\r\\n    <ion-content >\\r\\n        <ion-tabs #tabs>\\r\\n            <!-- <ion-tab-bar slot=\\\"top\\\" style=\\\"display:none;\\\" >\\r\\n                <ion-tab-button tab=\\\"design\\\">\\r\\n                    <ion-label>Design</ion-label>\\r\\n                </ion-tab-button>\\r\\n\\r\\n                <ion-tab-button tab=\\\"survey\\\">\\r\\n                    <ion-label>Survey</ion-label>\\r\\n                </ion-tab-button>\\r\\n            </ion-tab-bar> -->\\r\\n        </ion-tabs>\\r\\n        <!-- <ion-grid> -->\\r\\n            <!-- <ion-row class=\\\"ion-padding-start ion-padding-end mrT\\\"  style=\\\"background: #ffffff;\\\">\\r\\n                <ion-col size=\\\"9\\\" [ngClass]=\\\"address.length > 20 ? 'font_10' : 'font_12'\\\" style=\\\"background: #ffffff;\\\">\\r\\n                    <p></p>\\r\\n                    \\r\\n                    <b>{{address == \\\"\\\" ? \\\"No Address Found\\\" : address}}</b>\\r\\n                    \\r\\n                </ion-col>\\r\\n              \\r\\n                <ion-col class=\\\"ion-text-end\\\" *ngIf=\\\"!tabsDisabled\\\" size=\\\"3\\\">\\r\\n                    <p></p>\\r\\n                    <span [routerLink]=\\\"['/map-page']\\\" routerDirection=\\\"forward\\\" style=\\\"color: #4E6FB0;\\\">\\r\\n                        Change\\r\\n                    </span>\\r\\n                </ion-col>\\r\\n                <ion-col class=\\\"ion-text-end\\\" *ngIf=\\\"tabsDisabled\\\" size=\\\"3\\\">\\r\\n                    <p></p>\\r\\n                    <span   style=\\\"color:grey;\\\">\\r\\n                        Change\\r\\n                    </span>\\r\\n                </ion-col>\\r\\n            </ion-row> -->\\r\\n\\r\\n        <!-- </ion-grid> -->\\r\\n    </ion-content>\\r\\n<!-- </ion-content> -->\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border white-bg\\\">\\r\\n    <ion-grid *ngIf=\\\"currentTab === 'design' || currentTab==='salesproposal'\\\">\\r\\n        <ion-row>\\r\\n            <ion-col></ion-col>\\r\\n            <ion-col size=\\\"auto\\\">\\r\\n                <ion-button class=\\\"action-button-color\\\" fill=\\\"clear\\\" (click)=\\\"saveDesignForm()\\\">Save</ion-button>\\r\\n                <ion-button class=\\\"action-button-color\\\" *ngIf=\\\"(userdata.role.type=='clientsuperadmin' || userdata.role.type=='clientadmin')&& ((designs && designs.status != 'requestdeclined') || designs==null)\\\" fill=\\\"clear\\\" (click)=\\\"sendDesignForm()\\\">Send to Wattmonk</ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n    <ion-grid *ngIf=\\\"currentTab === 'survey'\\\">\\r\\n        <ion-row>\\r\\n            <ion-col size=\\\"auto\\\">\\r\\n                <ion-button class=\\\"action-button-color\\\" fill=\\\"clear\\\" (click)=\\\"saveSurveyForm()\\\">Save</ion-button>\\r\\n            </ion-col>\\r\\n            <ion-col></ion-col>\\r\\n            <ion-col size=\\\"auto\\\" *ngIf=\\\"userdata.role.type !=='wattmonkadmins' && userdata.role.type !=='clientsuperadmin'\\\">\\r\\n                <ion-button class=\\\"action-button-color\\\" fill=\\\"clear\\\" (click)=\\\"startSurvey()\\\">Start Survey</ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n</ion-footer>\\r\\n\";"],"sourceRoot":"webpack:///"}