{"version":3,"sources":["./src/app/email-model/email-model.page.ts","./src/app/email-model/email-model-routing.module.ts","./src/app/email-model/email-model.page.html","./src/app/email-model/email-model.page.scss","./src/app/email-model/email-model.module.ts"],"names":[],"mappings":"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","file":"email-model-email-model-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { BaseUrl } from 'src/app/contants' \r\n\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpErrorResponse\r\n} from \"@angular/common/http\";\r\nimport { UtilitiesService } from 'src/app/utilities.service';\r\nimport { StorageService } from 'src/app/storage.service';\r\nimport { ApiService } from 'src/app/api.service';\r\nimport { User  } from 'src/app/model/user.model';\r\nimport { DesignModel  } from 'src/app/model/design.model';\r\nimport { ModalController, NavController, NavParams } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-email-model',\r\n  templateUrl: './email-model.page.html',\r\n  styleUrls: ['./email-model.page.scss'],\r\n})\r\nexport class EmailModelPage implements OnInit {\r\n\r\n  example:any=[];\r\n  teamMember:User[]=[];\r\n  TeamData:any=[];\r\n  headers: HttpHeaders;\r\n  bodyData:any=[];\r\n  selectedEmails:any=[];\r\n  resp:any=[];\r\n  emailArray;\r\n  design : DesignModel;\r\n  id:any;\r\n  data:any;\r\n  emails:any='';\r\n  checkedEmailIds: boolean=false;\r\n  \r\n  constructor(\r\n    private util:UtilitiesService,\r\n    private http: HttpClient,\r\n    private storage : StorageService,\r\n    private api : ApiService,\r\n    private modalctrl: ModalController,\r\n    private nav:NavParams\r\n  ){\r\n    this.getTeamData();\r\n  }\r\n  validate(control: import(\"@angular/forms\").AbstractControl): import(\"@angular/forms\").ValidationErrors {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  writeValue(obj: any): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  registerOnChange(fn: any): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  registerOnTouched(fn: any): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.id= this.nav.get('id');\r\n    this.data=this.nav.get('designData');\r\n    console.log(\"hello\",this.data);\r\n   \r\n  }\r\n\r\n  getTeamData(){\r\n    this.util.showLoading('Loading emails').then(()=>{\r\n\r\n      this.api.getTeamData().subscribe(\r\n        response => {\r\n          this.util.hideLoading().then(()=>{\r\n            this.teamMember=response;\r\n            this.example=response;\r\n            this.TeamData=this.example  ;\r\n          })\r\n        })\r\n    })\r\n  }\r\n  //onCloseClick(){\r\n   // this.dialogRef.close(this.data);\r\n // }\r\n selectAll(event) {\r\n    const Checked = event.target.checked;\r\n    this.TeamData.forEach(item => item.Checked = Checked);\r\n    console.log(this.TeamData.Checked);\r\n    \r\n  }\r\n\r\n  checkedMails(event){\r\n    const Checked = event.target.checked;\r\n    this.checkedEmailIds = event.target.checked;\r\n  \r\n    \r\n  }\r\n  \r\n SendMail(){\r\n  var emails =(document.getElementById(\"inputemails\") as HTMLInputElement).value\r\n  this.emailArray = emails.split(',')\r\n  this.emailArray.forEach(element =>{\r\n    this.selectedEmails.push(element)\r\n  })\r\n\r\n  this.bodyData= this.TeamData.filter(item=> item.Checked);\r\n    this.bodyData.forEach(element => {\r\n     \r\n      this.selectedEmails.push(element.email)\r\n    });\r\n  \r\n    console.log(this.selectedEmails)\r\n    // if(this.selectedEmails.length > 1){\r\n  let body= {emails:this.selectedEmails,\r\n  id:this.id}\r\n  if(this.data.requesttype==='prelim'){\r\n  this.api.sendPrelimEmails(body).subscribe((response)=>{\r\n     this.resp=response\r\n     if(this.resp.status=='success'){\r\n        this.util.showSnackBar(\"Email Sent  Successfully\");\r\n        this.modalctrl.dismiss({\r\n          'dismissed': true\r\n        });\r\n       // this.dialogRef.close( );\r\n     }\r\n     this.selectedEmails=[]; \r\n   },\r\n   error => {\r\n   \r\n    this.util.errorSnackBar(\r\n      \"Something went wrong. Please try again.\"\r\n    );\r\n    this.selectedEmails=[];\r\n      }\r\n      )\r\n    } \r\n    else{\r\n      this.api.sendPermitEmails(body).subscribe((response)=>{\r\n        this.resp=response\r\n        if(this.resp.status=='success'){\r\n           this.util.showSnackBar(\"Email Sent  Successfully\");\r\n           this.modalctrl.dismiss({\r\n             'dismissed': true\r\n           });\r\n          // this.dialogRef.close( );\r\n        }\r\n        this.selectedEmails=[]; \r\n      },\r\n      error => {\r\n      \r\n       this.util.errorSnackBar(\r\n         \"Something went wrong. Please try again.\"\r\n       );\r\n       this.selectedEmails=[];\r\n         }\r\n         )\r\n    }\r\n  // }\r\n  //   else{\r\n  //     this.util.errorSnackBar(\"Please Select the Email\");\r\n  //   }\r\n   \r\n      \r\n  }\r\n\r\n\r\n cancel(){\r\n  this.modalctrl.dismiss({\r\n    'dismissed': true,\r\n    cancel:'cancel'\r\n  });\r\n}\r\n\r\ncheckedData(event){\r\nconsole.log(event.target.checked);\r\n\r\n}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EmailModelPage } from './email-model.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EmailModelPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EmailModelPageRoutingModule {}\r\n","export default \"\\r\\n  <h4 style=\\\"font-weight: bold;margin-bottom:0px !important;padding: 10px;\\\">Select the Emails</h4>\\r\\n  \\r\\n  <ion-content>\\r\\n    <ion-list>\\r\\n     <ion-item>\\r\\n       <ion-label>\\r\\n       <input type=\\\"checkbox\\\" name=\\\"selectall\\\" [value]=\\\"TeamData\\\" (change)=\\\"selectAll($event)\\\" style=\\\"height: 17px;width: 28px;\\\">\\r\\n       Select All</ion-label>\\r\\n     </ion-item>\\r\\n     <ion-list>\\r\\n     <ion-item\\r\\n      *ngFor=\\\"let item of example; let i = index \\\">\\r\\n         <!-- <input type=\\\"checkbox\\\" [(ngModel)]=\\\"item.Checked\\\">&nbsp;  -->\\r\\n         <p class=\\\"listitem\\\">{{item?.firstname}}</p>\\r\\n         <p class=\\\"listitem\\\">{{item?.lastname}}</p>\\r\\n         <p class=\\\"listitem\\\">({{item?.email}})</p>\\r\\n         <ion-checkbox slot=\\\"start\\\" [(ngModel)]=\\\"item.Checked\\\" (ionChange)=\\\"checkedMails($event)\\\"></ion-checkbox>\\r\\n         \\r\\n     \\r\\n     </ion-item>\\r\\n     </ion-list>\\r\\n   </ion-list>\\r\\n   <ion-grid>\\r\\n         <ion-row>\\r\\n           <ion-col>\\r\\n             <h6 style=\\\"margin-top:0px;padding: 2px;\\\"></h6>\\r\\n             <textarea id=\\\"inputemails\\\" placeholder=\\\"eg : john@gmail.com\\\" type=\\\"emails\\\" multiple style=\\\"width: 100%;\\\" [(ngModel)]='emails'></textarea>\\r\\n           </ion-col>\\r\\n         </ion-row>\\r\\n        <!-- <ion-row>\\r\\n           <ion-col>\\r\\n             <h6 style=\\\"margin:0px 0 0px 0;\\\">Attachment</h6>\\r\\n           \\r\\n               <ion-input type=\\\"text\\\" placeholder=\\\"Select Attachment\\\" [(ngModel)]=\\\"filename\\\" readonly (click)=\\\"selectAttachment()\\\" style=\\\"border-bottom:1px solid grey\\\"  > <ion-icon name=\\\"attach-outline\\\" style=\\\"float: right;text-align:right ;\\\"></ion-icon></ion-input>\\r\\n              \\r\\n            <small *ngIf=\\\"exceedfileSize > 0\\\" style=\\\"color:red\\\">File size should not be greater than 25MB.</small>\\r\\n           </ion-col>\\r\\n         </ion-row>-->\\r\\n       </ion-grid>\\r\\n  </ion-content>\\r\\n    <footer style=\\\"text-align: right;margin:12px;\\\">\\r\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"cancel()\\\">Cancel</ion-button>\\r\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"SendMail()\\\" [disabled]='emails ==\\\"\\\" && !checkedEmailIds'>Send</ion-button>\\r\\n    </footer>\\r\\n  <!-- <div class=_padding>\\r\\n    <p>Decline the design Request</p>\\r\\n    <textarea placeholder=\\\"Reason*\\\" style=\\\"width: 100%;\\\"></textarea>\\r\\n  </div> -->\\r\\n\\r\\n\";","export default \".listitem {\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGVtYWlsLW1vZGVsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7QUFDSiIsImZpbGUiOiJlbWFpbC1tb2RlbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdGl0ZW17XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EmailModelPageRoutingModule } from './email-model-routing.module';\r\n\r\nimport { EmailModelPage } from './email-model.page';\r\n\r\n@NgModule({\r\n  entryComponents:[EmailModelPage],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EmailModelPageRoutingModule\r\n  ],\r\n  declarations: [EmailModelPage]\r\n})\r\nexport class EmailModelPageModule {}\r\n"],"sourceRoot":"webpack:///"}