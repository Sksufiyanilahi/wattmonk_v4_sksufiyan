
<ion-content (click)="close()" style="padding-bottom: 250px;position: sticky;overflow:none;" >
  <ion-refresher slot="fixed" (ionRefresh)="refreshDesigns($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-grid>

    <!-- <ion-row *ngFor="let item of listOfDesignsHelper;let i = index"> -->
    <!-- <ion-virtual-scroll [items]="listOfDesignsHelper"> -->
    <ion-row style="margin-bottom: 40px;">
      <!-- <ion-row *virtualItem="let item;let i = index"> -->
      <!-- <ion-col size="12" class="ion-margin-top">
              <span class="ion-padding" *ngIf="today === item.date">
                  Today
                  </span>
          <span class="ion-padding" *ngIf="today !== item.date">
                      {{item.date | date: 'dd MMM yyyy'}}
              </span>
      </ion-col> -->
      <ion-col *ngFor="let designData of teamData;let i = index" size="12">
        <ion-card class="ion-no-padding custom-card ion-no-margin" (click)="teamdetail(designData,$event)"
          style="height: 100%;">
          <p class="customer-name" routerDirection="forward">{{designData.firstname}} {{designData.lastname}}
            <!--<span class="chipdetail" style="background-color: #1289A7;"  routerDirection="forward">
                {{designData?.id | date: 'hh:mm a'}}
            </span> -->


          </p>

          <p style="margin:0px">
            <span class="customer-email" routerDirection="forward"
              style="color: #4272B9">{{designData.role?.displayname}}</span>
            <!-- <ion-col *ngIf="segments=='requesttype=permit&status=reviewassigned&status=reviewfailed&status=reviewpassed' && userData.role.type != 'clientsuperadmin' && userData.role.type !== 'clientadmin'"  style="font-size: 0.8em;"> -->
            <!-- </ion-col> -->

          </p>
          <p style="margin:0px">
            <span class="customer-email" routerDirection="forward">{{designData.email}}</span>
            <!-- <ion-col *ngIf="segments=='requesttype=permit&status=reviewassigned&status=reviewfailed&status=reviewpassed' && userData.role.type != 'clientsuperadmin' && userData.role.type !== 'clientadmin'"  style="font-size: 0.8em;"> -->
            <!-- </ion-col> -->

          </p>
          <p style="margin:0px">
            <span class="customer-phone" routerDirection="forward">{{designData.phone}}</span>
            <!-- <ion-col *ngIf="segments=='requesttype=permit&status=reviewassigned&status=reviewfailed&status=reviewpassed' && userData.role.type != 'clientsuperadmin' && userData.role.type !== 'clientadmin'"  style="font-size: 0.8em;"> -->
            <!-- </ion-col> -->

          </p>
          <p style="margin:0px">
            <span *ngIf="(utils.isspecificClient && (userData?.role.id==6 || userData.role.id==7) && designData?.role.id==9 && (designData.addedby?.role!=3 ))"
            style="float:right !important;" class="ion-text-end action-button-color"
            (click)="openAssignSalesManager(designData.id,designData,$event)">Assign</span>

            <span *ngIf="(utils.isspecificClient && (userData?.role.id==6 ) && designData?.role.id==3 && (designData.addedby?.role!=7 ))"
            style="float:right !important;" class="ion-text-end action-button-color"
            (click)="openAssignAdmin(designData,$event)">Assign</span>
          </p>

          <ion-grid>
            <ng-template #nodesignFound>
              <div *ngIf="listOfteamData.length === 0 " class="h-100 d-flex flex-column align-center justify-center">
                <!-- <div *ngIf="!netSwitch"> -->

                {{noDesignFound}}
                <!-- </div> -->

                <ion-img src="/assets/images/blank.png" class="placeholder"></ion-img>
              </div>
            </ng-template>
          </ion-grid>
          <!-- <ion-progress-bar [value]="1" mode="ios" color="success" class="progress-bar-height"></ion-progress-bar> -->
          <!-- <span class="ion-text-end timestamp" [routerLink]="['/permit-design-details/',designData.id]" routerDirection="forward">
                      {{designData.deliverydate | date: 'hh:mm a'}}
          </span> -->
        </ion-card>
      </ion-col>
    </ion-row>
    <!-- </ion-virtual-scroll> -->
  </ion-grid>



</ion-content>
<ng-container *ngIf="showBottomDraw">

  <ion-bottom-drawer [(state)]="drawerState" [minimumHeight]="0" [dockedHeight]="400" [draggable]="false"
      [disableDrag]="true" [shouldBounce]="true" [distanceTop]="0" class="drawer" style="z-index: 9999 !important;">
      <!-- <form [formGroup]="assignForm"> -->
          <ion-grid class="drawer">
              <ion-row>
                  <ion-col size="12">
                      <app-user-selector (assigneeData)=getassignedata($event) placeholder="Assign"
                          [assignees]="SalesManager"
                          ></app-user-selector>

                  </ion-col>
              </ion-row>
              <!--<ion-row style="margin-left: 8px;">
                <ion-col size="12">
                    <span class="input-placeholder">comments</span>
                </ion-col>
                <ion-col size="12" style="padding-top: 0px;">
                    <ion-textarea style="max-width: 98%;" class="ion-no-margin ion-no-padding comment_box" rows="3"
                                  formControlName="comment"></ion-textarea>
                </ion-col>
            </ion-row>-->
              <ion-row style="justify-content: flex-end;">
                  <ion-col size="auto" style="padding-top: 0px; margin-right: 6px;">
                      <ion-button class="buttom-drawer-button" fill="clear" (click)="assign()">
                          Confirm
                      </ion-button>
                  </ion-col>
                  <ion-col size="auto">
                      <ion-button class="buttom-drawer-button-cancel" fill="clear" (click)="dismissBottomSheet()">
                          Cancel
                      </ion-button>
                  </ion-col>
              </ion-row>
          </ion-grid>
      <!-- </form> -->

  </ion-bottom-drawer>
</ng-container>

