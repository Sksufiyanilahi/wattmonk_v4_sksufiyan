<!-- <ion-row>
  <ion-col size="3"></ion-col>
  <ion-col size="7.5">
    <h5 class="title" style="padding-bottom: 2px;" *ngIf="!isEditMode">Add Team Member </h5>

    <h5 class="title" style="padding-bottom: 2px;" *ngIf="isEditMode">Edit Team Member </h5>
   <h4 class="ion-no-padding ion-no-margin" *ngIf="tabsDisabled">Edit </h4>
  </ion-col>
  <ion-col>
<ion-text class="bck-txt" size="3.5">
  Back
</ion-text>
</ion-col>
</ion-row> -->

<!-- <ion-header>
  <ion-toolbar>

    <ion-title class=" title ion-text-center" *ngIf="!isEditMode"> Add Team Member </ion-title>
    <ion-title class=" title ion-text-center" *ngIf="isEditMode"> Edit Team Member </ion-title>

    <ion-button class="bckbtn" style="margin-right: -4px;" clear="fill" (click)="goback()" slot="end" class="bck-txt">
      <ion-label color="dark">Back</ion-label>
    </ion-button>

  </ion-toolbar>
</ion-header> -->

<ion-content>
  <ion-toolbar>

    <ion-title class=" title ion-text-center" *ngIf="!isEditMode"> Add Team Member </ion-title>
    <ion-title class=" title ion-text-center" *ngIf="isEditMode"> Edit Team Member </ion-title>

    <ion-button class="bckbtn" style="margin-right: -4px;" clear="fill" (click)="goback()" slot="end" class="bck-txt">
      <ion-label>Back</ion-label>
    </ion-button>

  </ion-toolbar>
  <form [formGroup]="teamForm" novalidate>
    <ion-grid style="position: relative;">

      <div class="item-div">
        <ion-label class="field-label" position="fixed">First Name*</ion-label>
        <ion-item mode="md" lines="none" class="item">
          <ion-input class="team-input" formControlName="firstname" autocapitalize="words" required
            placeholder="Ex:John"></ion-input>
        </ion-item>
        <div style="height: 5px;">
          <div *ngIf="teamForm.get('firstname').hasError('pattern') && teamForm.get('firstname').dirty">
            <span class="error">{{firstnameError}}</span>
          </div>
          <div *ngIf="teamForm.get('firstname').value === '' && teamForm.get('firstname').dirty">
            <span class="error">{{fieldRequired}}</span>
          </div>
        </div>
      </div>

      <div class="item-div">
        <ion-label class="field-label" position="fixed">Last Name*</ion-label>
        <ion-item lines="none" class="item">
          <ion-input class="team-input" formControlName="lastname" autocapitalize="words" required placeholder="Ex:Doe">
          </ion-input>
        </ion-item>
        <div style="height: 5px;">
          <div *ngIf="teamForm.get('lastname').hasError('pattern') && teamForm.get('lastname').dirty">
            <span class="error">{{lastnameError}}</span>
          </div>
          <div *ngIf="teamForm.get('lastname').value === '' && teamForm.get('lastname').dirty">
            <span class="error">{{fieldRequired}}</span>
          </div>
        </div>
      </div>


      <div class="item-div">
        <ion-label class="field-label" position="fixed">Work Email*</ion-label>
        <ion-item lines="none" class="item">
          <ion-input class="team-input" formControlName="workemail" [disabled]="isEditMode" required
            placeholder="Ex:john@mail.com"></ion-input>
        </ion-item>
        <div style="height: 5px;">
          <div *ngIf="teamForm.get('workemail').hasError('pattern') && teamForm.get('workemail').dirty">
            <span class="error">{{emailError}}</span>
          </div>
          <div *ngIf="teamForm.get('workemail').value === '' && teamForm.get('workemail').dirty">
            <span class="error">{{"Enter a valid email"}}</span>

          </div>
        </div>
      </div>

      <!-- <ion-row>
        <ion-col size="12">
          <ion-label position="floating">First Name*</ion-label>
           <ion-item  class="ion-no-padding">
                    <ion-input type="text" class="form_input" formControlName="firstname" autocapitalize="words"
                                required></ion-input>
                              </ion-item>
                               <div style="height: 5px;">
                                <div *ngIf="teamForm.get('firstname').hasError('pattern') && teamForm.get('firstname').dirty">
                                    <span class="error">{{firstnameError}}</span>
                                </div>
                                <div *ngIf="teamForm.get('firstname').value === '' && teamForm.get('firstname').dirty">
                                    <span class="error">{{fieldRequired}}</span>
                                </div>
                            </div>
        </ion-col>
        <ion-col size="12">
          <ion-item class="ion-no-padding">
          <ion-label position="floating">Last Name*</ion-label>
                    <ion-input type="text" class="form_input" formControlName="lastname" autocapitalize="words"
                                ></ion-input>
                              </ion-item>
                             <div style="height: 5px;">
                                <div *ngIf="teamForm.get('lastname').hasError('pattern') && teamForm.get('lastname').dirty">
                                    <span class="error">{{lastnameError}}</span>
                                </div>
                                <div *ngIf="teamForm.get('lastname').value === '' && teamForm.get('lastname').dirty">
                                    <span class="error">{{fieldRequired}}</span>
                                </div>
                            </div>
        </ion-col>
      </ion-row> -->
      <!-- <ion-row >
        <ion-col>
            <ion-item class="ion-no-padding">
                <ion-label position="floating">Work Email*</ion-label>
                <ion-input type="text" class="form_input" formControlName="workemail" [disabled]="isEditMode"
                            ></ion-input>
            </ion-item>
          <div style="height: 5px;">
              <div *ngIf="teamForm.get('workemail').hasError('pattern') && teamForm.get('workemail').dirty">
                  <span class="error">{{emailError}}</span>
              </div>
              <div *ngIf="teamForm.get('workemail').value === '' && teamForm.get('workemail').dirty">
                  <span class="error">{{"Enter a valid email"}}</span>

              </div>
          </div>
        </ion-col>
    </ion-row> -->
      <div class="label-div">
        <ion-label class="subtitle">User Role*</ion-label>
      </div>
      <div class="list-div ion-no-margin ion-no-padding">
        <ion-radio-group formControlName="userrole" [value]="userrole">
          <div class="role-div">
            <ion-item class="role-item ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <div style="width:30px ">
                <img item-left class="icon" src="../../../assets/icon/surveyor.svg" alt="">
              </div>
              <ion-label>Surveyor</ion-label>
              <!-- <ion-checkbox  [(ngModel)]="isSurveyor" [ngModelOptions]="{standalone: true}"  style="margin-left: 10px;" name="surveyor" [value]="Surveyor" (ionFocus)="roleChange(Surveyor)" item-right ></ion-checkbox> -->
              <ion-radio mode="md" style="margin-left: 10px;" name="surveyor" [value]="Surveyor"
                (ionFocus)="roleChange(Surveyor)" item-right></ion-radio>

              <!-- <ion-checkbox style="margin-left: 10px;" name="{{role.role.name}}" [value]="role.role.id" (ionFocus)="roleChange(role.role.id)" item-right ></ion-checkbox> -->
            </ion-item>
          </div>

          <div class="role-div">
            <ion-item class="role-item ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <div style="width:30px ">

                <img item-left class="icon" src="../../../assets/icon/admin.svg" alt="">
              </div>
              <ion-label>Admin</ion-label>
              <ion-radio mode="md" style="margin-left: 10px;" name="admin" [value]="ContractorAdmin"
                (ionFocus)="roleChange(ContractorAdmin)" item-right></ion-radio>
            </ion-item>
          </div>


          <!-- <ion-row> -->


          <!-- <ion-col size="6" *ngIf="designData.role.type=='wattmonkadmin' || designData.role.type=='superadmin'" >
            <ion-item lines="none">
              <ion-label class="margin"   style="font-size: small;padding-left: 0%;" >Designer</ion-label>
              <ion-radio slot="start" value="8"  ></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item lines="none">

              <ion-label class="margin"   style="font-size: small;padding-left: 0%;">Surveyor</ion-label>
              <ion-radio slot="start"  value="9" ></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item lines="none">
              <ion-label class="margin"   style="font-size: small;padding-left: 0%;">Design Manager</ion-label>
              <ion-radio slot="start" value ="3" ></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6" *ngIf="designData.role.type=='wattmonkadmin' || designData.role.type=='superadmin'">
            <ion-item lines="none">
              <ion-label class="margin"   style="font-size: small;padding-left: 0%;">Analyst</ion-label>
              <ion-radio slot="start" value="10"  ></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6" *ngIf="designData.role.type=='wattmonkadmin' || designData.role.type=='superadmin'">
            <ion-item lines="none">
              <ion-label class="margin"   style="font-size: small;padding-left: 0%;">Pe Engineer</ion-label>
              <ion-radio slot="start" value="11"   ></ion-radio>
            </ion-item>
          </ion-col> -->
          <!-- <ion-col size="12" *ngIf="roleValue=='11'">
            <ion-item class="ion-no-padding">
                <ion-label style="display: none;">Type of Pe engineer*</ion-label>
                <ion-label position="floating">Type of Pe engineer*</ion-label>
                <ion-label position="floating">mounting type</ion-label>
                <ion-select class="form_input select_div"
                            ok-text="" cancel-text=""
                            formControlName="peengineertype" interface="popover">
                    <ion-select-option value="structural">Structural</ion-select-option>
                    <ion-select-option value="electrical">Electrical</ion-select-option>
                    <ion-select-option value="both">Both</ion-select-option>
                </ion-select>
            </ion-item>
        </ion-col> -->

          <!-- </ion-row> -->
        </ion-radio-group>
      </div>


      <div class="label-div">
        <!-- <div  *ngIf="roleValue !='8' && roleValue !='9' && roleValue !='10' && roleValue !='11'"> -->
        <ion-label class="subtitle">Access*</ion-label>
        <!-- </div> -->
      </div>

      <div class="list-div ion-no-margin ion-no-padding">

        <!-- <ion-row *ngIf="roleValue !='8' && roleValue !='9' && roleValue !='10' && roleValue !='11'"><ion-col size="12">
            <ion-label>Access*</ion-label>
          </ion-col> -->



        <!-- <div *ngFor="let item of rdata" class="role-div">
            <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <img item-left class="icon" src="../../../assets/icon/Survey.svg" alt="">
              <ion-icon [name]="item.icontype"></ion-icon>
              <ion-label class="label-type" style="padding-left: 10px;" >{{item.name}}</ion-label>
              <ion-checkbox unchecked slot="end" style="margin: auto;" formControlName='surveyaccess'></ion-checkbox>
            </ion-item>
          </div> -->


        <!-- <div *ngIf="radio" class="role-div">
            <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <img item-left class="icon" src="../../../assets/icon/Survey.svg" alt="">
              <ion-label class="label-type" style="padding-left: 10px;" >Survey</ion-label>
              <ion-checkbox  slot="end" style="margin: auto;" formControlName="survey"  [value]="Survey" (ionChange)="accessChange($event)" ></ion-checkbox>
            </ion-item>
          </div> -->

        <div *ngIf="radio || isSurveyor == true && iscAdmin == false" class="role-div">
          <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
            <div style="width:30px ">
              <img item-left class="icon" src="../../../assets/icon/Survey.svg" alt="">
            </div>
            <ion-label class="label-type">Survey</ion-label>
            <ion-checkbox mode="md" slot="end" style="margin: auto;" formControlName="survey" [value]="Survey"
              (ionChange)="accessChange($event)"></ion-checkbox>
          </ion-item>
        </div>

        <!-- <div  class="role-div">
            <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <img item-left class="icon" src="../../../assets/icon/Team.svg" alt="">
              <ion-label class="label-type" style="padding-left: 10px;" >Team</ion-label>
              <ion-checkbox   slot="end" style="margin: auto;" formControlName="team"  [value]="Team" (ionChange)="accessChange($event)"  ></ion-checkbox>
            </ion-item>
          </div> -->

        <div *ngIf="iscAdmin == true && isSurveyor == false">

          <div class="role-div">
            <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <div style="width:30px ">

                <img item-left class="icon" src="../../../assets/icon/Survey.svg" alt="">
              </div>
              <ion-label class="label-type">Survey</ion-label>
              <ion-checkbox mode="md" slot="end" style="margin: auto;" formControlName="survey" [value]="Survey"
                (ionChange)="accessChange($event)"></ion-checkbox>
            </ion-item>
          </div>

          <div class="role-div">
            <ion-item class="ion-no-margin ion-no-padding" lines="none" style="--background: transparent;">
              <div style="width:30px ">

                <img item-left class="icon" src="../../../assets/icon/Team.svg" alt="">
              </div>
              <ion-label class="label-type">Team</ion-label>
              <ion-checkbox mode="md" slot="end" style="margin: auto;" formControlName="team" [value]="Team"
                (ionChange)="accessChange($event)"></ion-checkbox>
            </ion-item>
          </div>


        </div>

        <!-- <ion-col size="4">
              <ion-item lines="none">
              <ion-label class="mrgn">Permit</ion-label>
              <ion-checkbox slot="start" style="margin: auto;"  formControlName='permitaccess'></ion-checkbox>
              </ion-item>
              </ion-col> -->
        <!-- <ion-col size="4">
                <ion-item lines="none">
              <ion-label class="mrgn">PE Stamps</ion-label>
              <ion-checkbox slot="start" style="margin: auto;" formControlName='pestampaccess'></ion-checkbox>
              </ion-item>
              </ion-col> -->
        <!-- <ion-col size="4">
            <ion-item lines="none">
            <ion-label class="mrgn">Prelim</ion-label>
              <ion-checkbox slot="start" style="margin: auto;"formControlName='prelimaccess'></ion-checkbox>
            </ion-item>
            </ion-col> -->
        <!-- </ion-col> -->
        <!-- </ion-row> -->
      </div>


    </ion-grid>
  </form>
  <!-- <div style="margin: 16px ;">
        <ion-button  expand="block"  color="dark" (click)="submitForm()" style="--border-radius:6px"><span class="btnlabel">Create</span></ion-button>

      </div> -->

</ion-content>
<ion-footer class="ion-no-border ">
  <div style="margin: 16px ; margin-top: 20px;">
    <ion-button class="btn" expand="block" (click)="submitForm()" style="--border-radius:6px">
      <ion-label class="btnlabel">Create</ion-label>
    </ion-button>

  </div>
</ion-footer>
<ng-container *ngIf="showBottomDraw">

  <ion-bottom-drawer [(state)]="drawerState" [minimumHeight]="0" [dockedHeight]="320" [draggable]="false"
    [disableDrag]="true" [shouldBounce]="true" [distanceTop]="0" class="drawer" style="z-index: 9999 !important;">
    <form [formGroup]="assignForm">
      <ion-grid class="drawer">
        <ion-row>
          <ion-col size="12">
            <app-user-selector (assigneeData)=getassignedata($event) placeholder="Assign" [assignees]="listOfAssignees"
              formControlName="assignedto"></app-user-selector>

          </ion-col>
        </ion-row>

        <!-- <ion-row style="justify-content: flex-end;">
                <ion-col size="auto" style="padding-top: 0px; margin-right: 6px;">
                  <ion-button class="buttom-drawer-button" fill="clear" (click)="transferJobs()">
                    Confirm
                  </ion-button>
                </ion-col>
                <ion-col size="auto">
                  <ion-button class="buttom-drawer-button-cancel" fill="clear" (click)="dismissBottomSheet()">
                    Cancel
                  </ion-button>
                </ion-col>
              </ion-row> -->
      </ion-grid>
    </form>

  </ion-bottom-drawer>
</ng-container>